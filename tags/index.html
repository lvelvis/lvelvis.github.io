<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="lvelvis‰∏™‰∫∫ÂçöÂÆ¢">
<meta name="description" content="Êó∂ÂÖâ,ÊµìÊ∑°Áõ∏ÂÆú;‰∫∫ÂøÉ,ËøúËøëÁõ∏ÂÆâ;ËøôÂ∞±ÊòØÊúÄÂ•ΩÁöÑÁîüÊ¥ª">
<meta name="theme-color" content="#000">
<title>lvelvis</title>
<link rel="shortcut icon" href="/favicon.ico?v=1591165356017">
<link rel="stylesheet" href="/styles/main.css">
<link rel="stylesheet" href="/media/css/mist.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/androidstudio.css"
  rel="stylesheet">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>

<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="mist">
  <header class="header bg-color ">
    <div class="blog-header box-shadow-wrapper  " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="">
              <span class="logo-line-before">
                <i class=""></i>
              </span>
              <span class="main-title">lvelvis</span>
              <span class="logo-line-after">
                <i class=""></i>
              </span>
            </a>  
          
        </div>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> È¶ñÈ°µ
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> ÂΩíÊ°£
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item nav-item-active">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> Ê†áÁ≠æ
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> ÂÖ≥‰∫é
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> ÂèãÊÉÖÈìæÊé•
                  
                </a>
              </li>
            
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout bg-color mist">
      <div class="section-layout-wrapper">
        <div id="sidebarMeta" class="sidebar">
    
<div class="sidebar-wrapper box-shadow-wrapper ">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">lvelvis</p>
    
    <div class="site-description right-motion">
      
        <p id="binft">Êó∂ÂÖâ,ÊµìÊ∑°Áõ∏ÂÆú;‰∫∫ÂøÉ,ËøúËøëÁõ∏ÂÆâ;ËøôÂ∞±ÊòØÊúÄÂ•ΩÁöÑÁîüÊ¥ª</p>
      
    </div>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">13</span>
        <span class="site-item-stat-name">ÊñáÁ´†</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">13</span>
        <span class="site-item-stat-name">ÂàÜÁ±ª</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">13</span>
        <span class="site-item-stat-name">Ê†áÁ≠æ</span>
      </a>
    </div>
  </div>
  
  
    <div class="sidebar-item sidebar-item-social">
      <div class="social-item">
        
          
            <a href="https://github.com/lvelvis">
              <i class="fa fa-github-alt" title="github"></i>
            </a>
          
            <a href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=421220622&amp;website=www.oicqzone.com&#34;&gt;">
              <i class="fa fa-qq" title="QQ"></i>
            </a>
          
        
        
          
            <a class="social-img" href="#">
              <img src="\media\images\custom-array-imgSocials-1588146527513-socialImg.jpg" />
              <i class="fa fa-wechat" title="weixin" ></i>
            </a>
          
        
      </div>
    </div>
  


</div>
</div>
<script>
  let sidebarMeta = document.querySelector('#sidebarMeta');
  let scheme = 'mist';
  let sidebarWrapper = document.querySelector('.sidebar-wrapper');
  if (sidebarMeta && (scheme === 'pisces' || scheme === 'gemini')) {
    document.addEventListener('scroll', function(e) {
      if (document.scrollingElement.scrollTop > parseInt(sidebarMeta.style.marginTop) + 10) {
        sidebarWrapper.classList.add('home-sidebar-fixed')
      } else {
        sidebarWrapper.classList.remove('home-sidebar-fixed')
      }
    });
  }
  </script>
        <div class="section-box box-shadow-wrapper">
          <section class="section tags-section bg-color posts-expand">
            <div class="tags-box">
  <div class="tag-cloud-title">
    ÁõÆÂâçÂÖ±ËÆ° 13 ‰∏™Ê†áÁ≠æ
  </div>
  <div class="tag-cloud-list" id="tags">
    
      
      
        
          
            
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
          
        
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/t0_qVBCTZ/" rel="1">zap</a>
    
      
      
        
          
        
          
            
      
        
          
            
      
        
          
            
      
        
          
            
      
        
          
        
          
        
      
        
          
            
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
          
        
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/oHQV9cP9p/" rel="5">golang</a>
    
      
      
        
          
        
          
        
          
            
      
        
          
        
          
            
      
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
            
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
          
        
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/WCSltmB8m/" rel="3">beego</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            
      
        
          
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
          
        
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/1VCnVUFme/" rel="1">hpa</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
          
            
      
        
          
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
            
      
        
          
        
          
            
      
        
          
        
          
            
      
        
          
        
          
            
      
        
          
            
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/Q617Y3Kh2/" rel="6">k8s</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
            
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
            
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/hu0mNDfuy/" rel="2">rook-ceph</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
            
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
          
        
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/qf8arSPKY/" rel="1">linux</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
          
            
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
          
        
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/EVZAZcQaN/" rel="1">ssl</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
            
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
          
        
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/d8Hk7igEb/" rel="1">istio</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
            
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
          
        
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/Diytd8lD3/" rel="1">elk</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
            
      
        
          
        
          
        
      
        
          
        
          
        
          
        
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/BU7sbQs51/" rel="1">kubesphere</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
            
      
        
          
        
          
        
          
        
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/nN9-7w-_h/" rel="1">tekton</a>
    
      
      
        
          
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
      
        
          
        
          
        
          
            
      
        
      
      <a class="cloud-tag" href="http://lvelvis.github.io/tag/MkN4-Vurh-/" rel="1">ceph</a>
    
  </div>
</div>
<script>

  let fontStart = 12, fontEnd = 30, colorStart = '#666', colorEnd = '#000';
  let tags = document.querySelector('#tags').children;
  let counts = [];
  for(let i = 0; i < tags.length; i++) {
    counts.push(tags[i].rel);
  }
  let lowest = Math.min.apply(null,counts), highest = Math.max.apply(null,counts);;
  let range = highest - lowest;
  if (range === 0) {
    range = 1;
  }
  let fontIncr, colorIncr;
  fontIncr = (fontEnd - fontStart) / range;
  
  let sColorArr = toRGB(colorStart), eColorArr = toRGB(colorEnd);

  for(let i = 0; i < tags.length; i++) {
    let disCount = tags[i].rel - lowest;
    let fontSize = fontStart + disCount * fontIncr;
    let style = 'font-size: ' + fontSize + 'px;';
    let arr = [];
    for(let c = 0; c < sColorArr.length; c++) {
      if (disCount === 0) {
        disCount = 1;
      }
      let val = (sColorArr[c] - eColorArr[c]) / range * disCount;
      if (val >= 100) {
        val = eColorArr[c];
      } else if (val <= 0) {
        val = sColorArr[c];
      }
      arr[c] = Math.floor(val);
    }
    style += 'color: ' + toHex(arr);
    tags[i].style = style;
  }

  function toRGB(code) {
    if (code.length === 4) {
      code = code.replace(/(\w)(\w)(\w)/gi, "\$1\$1\$2\$2\$3\$3");
    }
    var hex = /(\w{2})(\w{2})(\w{2})/.exec(code);
    return [parseInt(hex[1], 16), parseInt(hex[2], 16), parseInt(hex[3], 16)];
  }

  function toHex(ary) {
    return "#" + ((1 << 24) + (ary[0] << 16) + (ary[1] << 8) + ary[2]).toString(16).slice(1);
  }

</script>
          </section>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | ¬© 2020 Theme By elvis</a>
    </div>
    <div class="poweredby">
      <center><iframe width="280" scrolling="no" height="25" frameborder="0" allowtransparency="true" src="http://i.tianqi.com/index.php?c=code&id=34&icon=1&num=3"></iframe></center><center><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=100 src="//music.163.com/outchain/player?type=0&id=3135828147&auto=1&height=430"></iframe></center><marquee scrollamount="5" ><h2 class="wow fadeIn animated" data-wow-delay="1250ms" style="visibility: visible; animation-delay: 1250ms; animation-name: fadeIn;"><font face="Orbitron" style="color:#CC0707;text-shadow: 0 0 0.9em #6EC101,0 0 0.9em
Yellow;"><b><?php echo $conf['xbmz']?></b></font></h2></marquee>
  <script type="text/javascript"> 
  document.onkeydown = function(event){
   if ((event.ctrlKey)&&(event.keyCode==115 || event.keyCode==83)){
    event.returnValue=false;
    return;
   } 
  }
 </script>
<script async src="https://api.ly522.com/js/jilei.pure.mini.js"></script>
<span id="jilei_container_site_pv">ÊÄªËÆøÈóÆÈáè<span id="jilei_value_site_pv"></span>Ê¨°</span>
<span class="post-meta-divider">|</span>
<span id="jilei_container_site_uv">Âú®Á∫ø‰∫∫Êï∞<span id="jilei_value_site_uv"></span>‰∫∫</span></p>
    </div>
  </footer>
  
  
    <div class="drawer-box left" id="drawer_box">
      <span class="muse-line muse-line-first"></span>
      <span class="muse-line muse-line-middle"></span>
      <span class="muse-line muse-line-last"></span>
    </div>
  
  <div class="mist back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
  </div>
  
  
    
<link rel="stylesheet" href="/media/live2d/css/live2d.css" />
<div class="box-scale">
  <div id="landlord" style="left: 5px;bottom: px;"
    data-key="">
    <canvas id="live2d" width="500" height="560" class="live2d"></canvas>
    

      <div class="message" style="opacity:0"></div>
      <div class="live_talk_input_body">
        <div class="live_talk_input_name_body">
          <input name="name" type="text" class="live_talk_name white_input" id="AIuserName" autocomplete="off"
            placeholder="‰Ω†ÁöÑÂêçÂ≠ó" />
        </div>
        <div class="live_talk_input_text_body">
          <input name="talk" type="text" class="live_talk_talk white_input" id="AIuserText" autocomplete="off"
            placeholder="Ë¶ÅÂíåÊàëËÅä‰ªÄ‰πàÂëÄÔºü" />
          <button type="button" class="live_talk_send_btn" id="talk_send">ÂèëÈÄÅ</button>
        </div>
      </div>
      <input name="live_talk" id="live_talk" value="1" type="hidden" />
      <div class="live_ico_box">
        <div class="live_ico_item type_info" id="showInfoBtn"></div>
        <div class="live_ico_item type_talk" id="showTalkBtn"></div>
        
        <div class="live_ico_item type_music" id="musicButton"></div>
        
        <div class="live_ico_item type_youdu" id="youduButton"></div>
        <div class="live_ico_item type_quit" id="hideButton"></div>
        <input name="live_statu_val" id="live_statu_val" value="0" type="hidden" />
        <audio src="" style="display:none;" id="live2d_bgm" data-bgm="0" preload="none"></audio>
        <input id="duType" value="douqilai" type="hidden">
        
        <input name="live2dBGM" value="" type="hidden">
        
      </div>
    
  </div>
</div>
<div id="open_live2d">Âè¨Âî§ÁúãÊùøÂ®ò</div>
<script src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
  var message_Path = 'https://cdn.jsdelivr.net/gh/hsxyhao/live2d.github.io@master/';
  let landlord = document.querySelector('#landlord');
  var apiKey = landlord.dataset.key;
</script>
<script type="text/javascript" src="/media/live2d/js/live2d.js"></script>
<script>
	var home_Path = document.location.protocol + '//' + window.document.location.hostname + ":" + window.document.location.port + '/';
	var userAgent = window.navigator.userAgent.toLowerCase();
	var norunAI = ["android", "iphone", "ipod", "ipad", "windows phone", "mqqbrowser", "msie", "trident/7.0"];
	var norunFlag = false;

	for (var i = 0; i < norunAI.length; i++) {
		if (userAgent.indexOf(norunAI[i]) > -1) {
			norunFlag = true;
			break;
		}
	}

	if (!window.WebGLRenderingContext) {
		norunFlag = true;
	}

	if (!norunFlag) {
		var hitFlag = false;
		var AIFadeFlag = false;
		var liveTlakTimer = null;
		var sleepTimer_ = null;
		var AITalkFlag = false;
		var talkNum = 0;
		(function () {
			function renderTip(template, context) {
				var tokenReg = /(\\)?\{([^\{\}\\]+)(\\)?\}/g;
				return template.replace(tokenReg, function (word, slash1, token, slash2) {
					if (slash1 || slash2) {
						return word.replace('\\', '');
					}
					var variables = token.replace(/\s/g, '').split('.');
					var currentObject = context;
					var i, length, variable;
					for (i = 0, length = variables.length; i < length; ++i) {
						variable = variables[i];
						currentObject = currentObject[variable];
						if (currentObject === undefined || currentObject === null) return '';
					}
					return currentObject;
				});
			}

			String.prototype.renderTip = function (context) {
				return renderTip(this, context);
			};

			var re = /x/;
			re.toString = function () {
				showMessage('ÂìàÂìàÔºå‰Ω†ÊâìÂºÄ‰∫ÜÊéßÂà∂Âè∞ÔºåÊòØÊÉ≥Ë¶ÅÁúãÁúãÊàëÁöÑÁßòÂØÜÂêóÔºü', 5000);
				return '';
			};

			$(document).on('copy', function () {
				showMessage('‰Ω†ÈÉΩÂ§çÂà∂‰∫Ü‰∫õ‰ªÄ‰πàÂëÄÔºåËΩ¨ËΩΩË¶ÅËÆ∞ÂæóÂä†‰∏äÂá∫Â§ÑÂì¶~~', 5000);
			});

			function initTips() {
				$.ajax({
					cache: true,
					url: message_Path + 'message.json',
					dataType: "json",
					success: function (result) {
						$.each(result.mouseover, function (index, tips) {
							$(tips.selector).mouseover(function () {
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
								talkValTimer();
								clearInterval(liveTlakTimer);
								liveTlakTimer = null;
							});
							$(tips.selector).mouseout(function () {
								showHitokoto();
								if (liveTlakTimer == null) {
									liveTlakTimer = window.setInterval(function () {
										showHitokoto();
									}, 15000);
								};
							});
						});
						$.each(result.click, function (index, tips) {
							$(tips.selector).click(function () {
								if (hitFlag) {
									return false
								}
								hitFlag = true;
								setTimeout(function () {
									hitFlag = false;
								}, 8000);
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
							});
							clearInterval(liveTlakTimer);
							liveTlakTimer = null;
							if (liveTlakTimer == null) {
								liveTlakTimer = window.setInterval(function () {
									showHitokoto();
								}, 15000);
							};
						});
					}
				});
			}
			initTips();

			var text;
			if (document.referrer !== '') {
				var referrer = document.createElement('a');
				referrer.href = document.referrer;
				text = 'Âó®ÔºÅÊù•Ëá™ <span style="color:#0099cc;">' + referrer.hostname + '</span> ÁöÑÊúãÂèãÔºÅ';
				var domain = referrer.hostname.split('.')[1];
				if (domain == 'baidu') {
					text = 'Âó®ÔºÅ Êù•Ëá™ ÁôæÂ∫¶ÊêúÁ¥¢ ÁöÑÊúãÂèãÔºÅ<br>Ê¨¢ËøéËÆøÈóÆ<span style="color:#0099cc;">„Äå ' + document.title.split(' - ')[0] + ' „Äç</span>';
				} else if (domain == 'so') {
					text = 'Âó®ÔºÅ Êù•Ëá™ 360ÊêúÁ¥¢ ÁöÑÊúãÂèãÔºÅ<br>Ê¨¢ËøéËÆøÈóÆ<span style="color:#0099cc;">„Äå ' + document.title.split(' - ')[0] + ' „Äç</span>';
				} else if (domain == 'google') {
					text = 'Âó®ÔºÅ Êù•Ëá™ Ë∞∑Ê≠åÊêúÁ¥¢ ÁöÑÊúãÂèãÔºÅ<br>Ê¨¢ËøéËÆøÈóÆ<span style="color:#0099cc;">„Äå ' + document.title.split(' - ')[0] + ' „Äç</span>';
				}
			} else {
				if (window.location.href == home_Path) { //‰∏ªÈ°µURLÂà§Êñ≠ÔºåÈúÄË¶ÅÊñúÊù†ÁªìÂ∞æ
					var now = (new Date()).getHours();
					if (now > 23 || now <= 5) {
						text = '‰Ω†ÊòØÂ§úÁå´Â≠êÂëÄÔºüËøô‰πàÊôöËøò‰∏çÁù°ËßâÔºåÊòéÂ§©Ëµ∑ÁöÑÊù•ÂòõÔºü';
					} else if (now > 5 && now <= 7) {
						text = 'Êó©‰∏äÂ•ΩÔºÅ‰∏ÄÊó•‰πãËÆ°Âú®‰∫éÊô®ÔºåÁæéÂ•ΩÁöÑ‰∏ÄÂ§©Â∞±Ë¶ÅÂºÄÂßã‰∫ÜÔºÅ';
					} else if (now > 7 && now <= 11) {
						text = '‰∏äÂçàÂ•ΩÔºÅÂ∑•‰ΩúÈ°∫Âà©ÂòõÔºå‰∏çË¶Å‰πÖÂùêÔºåÂ§öËµ∑Êù•Ëµ∞Âä®Ëµ∞Âä®Âì¶ÔºÅ';
					} else if (now > 11 && now <= 14) {
						text = '‰∏≠Âçà‰∫ÜÔºåÂ∑•‰Ωú‰∫Ü‰∏Ä‰∏™‰∏äÂçàÔºåÁé∞Âú®ÊòØÂçàÈ§êÊó∂Èó¥ÔºÅ';
					} else if (now > 14 && now <= 17) {
						text = 'ÂçàÂêéÂæàÂÆπÊòìÁäØÂõ∞Âë¢Ôºå‰ªäÂ§©ÁöÑËøêÂä®ÁõÆÊ†áÂÆåÊàê‰∫ÜÂêóÔºü';
					} else if (now > 17 && now <= 19) {
						text = 'ÂÇçÊôö‰∫ÜÔºÅÁ™óÂ§ñÂ§ïÈò≥ÁöÑÊôØËâ≤ÂæàÁæé‰∏ΩÂë¢ÔºåÊúÄÁæé‰∏çËøáÂ§ïÈò≥Á∫¢~~';
					} else if (now > 19 && now <= 21) {
						text = 'Êôö‰∏äÂ•ΩÔºå‰ªäÂ§©ËøáÂæóÊÄé‰πàÊ†∑Ôºü';
					} else if (now > 21 && now <= 23) {
						text = 'Â∑≤ÁªèËøô‰πàÊôö‰∫ÜÂëÄÔºåÊó©ÁÇπ‰ºëÊÅØÂêßÔºåÊôöÂÆâ~~';
					} else {
						text = 'Âó®~ Âø´Êù•ÈÄóÊàëÁé©ÂêßÔºÅ';
					}
				} else {
					text = 'Ê¨¢ËøéÈòÖËØª<span style="color:#0099cc;">„Äå ' + document.title.split(' - ')[0] + ' „Äç</span>';
				}
			}
			showMessage(text, 12000);
		})();

		liveTlakTimer = setInterval(function () {
			showHitokoto();
		}, 15000);

		function showHitokoto() {
			if (sessionStorage.getItem("Sleepy") !== "1") {
				if (!AITalkFlag) {
					$.getJSON('https://v1.hitokoto.cn/', function (result) {
						talkValTimer();
						showMessage(result.hitokoto, 0);
					});
				}
			} else {
				hideMessage(0);
				if (sleepTimer_ == null) {
					sleepTimer_ = setInterval(function () {
						checkSleep();
					}, 200);
				}
			}
		}

		function checkSleep() {
			var sleepStatu = sessionStorage.getItem("Sleepy");
			if (sleepStatu !== '1') {
				talkValTimer();
				showMessage('‰Ω†ÂõûÊù•Âï¶~', 0);
				clearInterval(sleepTimer_);
				sleepTimer_ = null;
			}
		}

		function showMessage(text, timeout) {
			if (Array.isArray(text)) text = text[Math.floor(Math.random() * text.length + 1) - 1];
			$('.message').stop();
			$('.message').html(text);
			$('.message').fadeTo(200, 1);
			//if (timeout === null) timeout = 5000;
			//hideMessage(timeout);
		}
		function talkValTimer() {
			$('#live_talk').val('1');
		}

		function hideMessage(timeout) {
			//$('.message').stop().css('opacity',1);
			if (timeout === null) timeout = 5000;
			$('.message').delay(timeout).fadeTo(200, 0);
		}

		function initLive2d() {
			$('#hideButton').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "0");
					$('#landlord').fadeOut(200);
					$('#open_live2d').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#open_live2d').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "1");
					$('#open_live2d').fadeOut(200);
					$('#landlord').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#youduButton').on('click', function () {
				if ($('#youduButton').hasClass('doudong')) {
					var typeIs = $('#youduButton').attr('data-type');
					$('#youduButton').removeClass('doudong');
					$('body').removeClass(typeIs);
					$('#youduButton').attr('data-type', '');
				} else {
					var duType = $('#duType').val();
					var duArr = duType.split(",");
					var dataType = duArr[Math.floor(Math.random() * duArr.length)];

					$('#youduButton').addClass('doudong');
					$('#youduButton').attr('data-type', dataType);
					$('body').addClass(dataType);
				}
			});
			if (apiKey) {
				$('#showInfoBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "0") {
						return
					} else {
						$('#live_statu_val').val("0");
						$('.live_talk_input_body').fadeOut(500);
						AITalkFlag = false;
						showHitokoto();
						$('#showTalkBtn').show();
						$('#showInfoBtn').hide();
					}
				});
				$('#showTalkBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "1") {
						return
					} else {
						$('#live_statu_val').val("1");
						$('.live_talk_input_body').fadeIn(500);
						AITalkFlag = true;
						$('#showTalkBtn').hide();
						$('#showInfoBtn').show();

					}
				});
				$('#talk_send').on('click', function () {
					var info_ = $('#AIuserText').val();
					var userid_ = $('#AIuserName').val();
					if (info_ == "") {
						showMessage('ÂÜôÁÇπ‰ªÄ‰πàÂêßÔºÅ', 0);
						return;
					}
					if (userid_ == "") {
						showMessage('ËÅä‰πãÂâçËØ∑ÂëäËØâÊàë‰Ω†ÁöÑÂêçÂ≠óÂêßÔºÅ', 0);
						return;
					}
					showMessage('ÊÄùËÄÉ‰∏≠~', 0);
					let protocol = window.location.protocol.indexOf("s") > 0 ? "https" : "http";
					$.ajax({
						type: "get",
						url: `${protocol}://www.tuling123.com/openapi/api?key=${apiKey}&info=${info_}`,
						dataType: "json",
						success: function (res) {
							talkValTimer();
							showMessage(res.text, 0);
							$('#AIuserText').val("");
							sessionStorage.setItem("live2duser", userid_);
						},
						error: function (e) {
							talkValTimer();
							showMessage('‰ºº‰πéÊúâ‰ªÄ‰πàÈîôËØØÔºåËØ∑ÂíåÁ´ôÈïøËÅîÁ≥ªÔºÅ', 0);
						}
					});
				});
			} else {
				$('#showInfoBtn').hide();
				$('#showTalkBtn').hide();
			}
			//Ëé∑ÂèñÈü≥‰πê‰ø°ÊÅØÂàùÂßãÂåñ
			var bgmListInfo = $('input[name=live2dBGM]');
			if (bgmListInfo.length == 0) {
				$('#musicButton').hide();
			} else {
				var bgmPlayNow = parseInt($('#live2d_bgm').attr('data-bgm'));
				var bgmPlayTime = 0;
				var live2dBGM_Num = sessionStorage.getItem("live2dBGM_Num");
				var live2dBGM_PlayTime = sessionStorage.getItem("live2dBGM_PlayTime");
				if (live2dBGM_Num) {
					if (live2dBGM_Num <= $('input[name=live2dBGM]').length - 1) {
						bgmPlayNow = parseInt(live2dBGM_Num);
					}
				}
				if (live2dBGM_PlayTime) {
					bgmPlayTime = parseInt(live2dBGM_PlayTime);
				}
				var live2dBGMSrc = bgmListInfo.eq(bgmPlayNow).val();
				$('#live2d_bgm').attr('data-bgm', bgmPlayNow);
				$('#live2d_bgm').attr('src', live2dBGMSrc);
				$('#live2d_bgm')[0].currentTime = bgmPlayTime;
				$('#live2d_bgm')[0].volume = 0.5;
				var live2dBGM_IsPlay = sessionStorage.getItem("live2dBGM_IsPlay");
				var live2dBGM_WindowClose = sessionStorage.getItem("live2dBGM_WindowClose");
				if (live2dBGM_IsPlay == '0' && live2dBGM_WindowClose == '0') {
					$('#live2d_bgm')[0].play();
					$('#musicButton').addClass('play');
				}
				sessionStorage.setItem("live2dBGM_WindowClose", '1');
				$('#musicButton').on('click', function () {
					if ($('#musicButton').hasClass('play')) {
						$('#live2d_bgm')[0].pause();
						$('#musicButton').removeClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '1');
					} else {
						$('#live2d_bgm')[0].play();
						$('#musicButton').addClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				});
				window.onbeforeunload = function () {
					sessionStorage.setItem("live2dBGM_WindowClose", '0');
					if ($('#musicButton').hasClass('play')) {
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				}
				document.getElementById('live2d_bgm').addEventListener("timeupdate", function () {
					var live2dBgmPlayTimeNow = document.getElementById('live2d_bgm').currentTime;
					sessionStorage.setItem("live2dBGM_PlayTime", live2dBgmPlayTimeNow);
				});
				document.getElementById('live2d_bgm').addEventListener("ended", function () {
					var listNow = parseInt($('#live2d_bgm').attr('data-bgm'));
					listNow++;
					if (listNow > $('input[name=live2dBGM]').length - 1) {
						listNow = 0;
					}
					var listNewSrc = $('input[name=live2dBGM]').eq(listNow).val();
					sessionStorage.setItem("live2dBGM_Num", listNow);
					$('#live2d_bgm').attr('src', listNewSrc);
					$('#live2d_bgm')[0].play();
					$('#live2d_bgm').attr('data-bgm', listNow);
				});
				document.getElementById('live2d_bgm').addEventListener("error", function () {
					$('#live2d_bgm')[0].pause();
					$('#musicButton').removeClass('play');
					showMessage('Èü≥‰πê‰ºº‰πéÂä†ËΩΩ‰∏çÂá∫Êù•‰∫ÜÂë¢ÔºÅ', 0);
				});
			}
			//Ëé∑ÂèñÁî®Êà∑Âêç
			var live2dUser = sessionStorage.getItem("live2duser");
			if (live2dUser !== null) {
				$('#AIuserName').val(live2dUser);
			}
			//Ëé∑Âèñ‰ΩçÁΩÆ
			var landL = sessionStorage.getItem("historywidth");
			var landB = sessionStorage.getItem("historyheight");
			if (landL == null || landB == null) {
				landL = '5px'
				landB = '0px'
			}
			$('#landlord').css('left', landL + 'px');
			$('#landlord').css('bottom', landB + 'px');
			//ÁßªÂä®
			function getEvent() {
				return window.event || arguments.callee.caller.arguments[0];
			}
			var smcc = document.getElementById("landlord");
			var moveX = 0;
			var moveY = 0;
			var moveBottom = 0;
			var moveLeft = 0;
			var moveable = false;
			var docMouseMoveEvent = document.onmousemove;
			var docMouseUpEvent = document.onmouseup;
			smcc.onmousedown = function () {
				var ent = getEvent();
				moveable = true;
				moveX = ent.clientX;
				moveY = ent.clientY;
				var obj = smcc;
				moveBottom = parseInt(obj.style.bottom);
				moveLeft = parseInt(obj.style.left);
				if (isFirefox = navigator.userAgent.indexOf("Firefox") > 0) {
					window.getSelection().removeAllRanges();
				}
				document.onmousemove = function () {
					if (moveable) {
						var ent = getEvent();
						var x = moveLeft + ent.clientX - moveX;
						var y = moveBottom + (moveY - ent.clientY);
						obj.style.left = x + "px";
						obj.style.bottom = y + "px";
					}
				};
				document.onmouseup = function () {
					if (moveable) {
						var historywidth = obj.style.left;
						var historyheight = obj.style.bottom;
						historywidth = historywidth.replace('px', '');
						historyheight = historyheight.replace('px', '');
						sessionStorage.setItem("historywidth", historywidth);
						sessionStorage.setItem("historyheight", historyheight);
						document.onmousemove = docMouseMoveEvent;
						document.onmouseup = docMouseUpEvent;
						moveable = false;
						moveX = 0;
						moveY = 0;
						moveBottom = 0;
						moveLeft = 0;
					}
				};
			};
		}
		$(document).ready(function () {
			var AIimgSrc = [];
			let chooseLive2d = 'hijiki'
			if (chooseLive2d === 'histoire') {
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_00.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_01.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_02.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_03.png");
			} else if (chooseLive2d === 'rem') {
				AIimgSrc.push(message_Path + "model/rem/remu2048/texture_00.png");
			} else if (chooseLive2d === 'Aoba') {
				AIimgSrc.push(message_Path + "model/Aoba/textures/texture_00.png");
			} else if (chooseLive2d === 'hijiki') {
				AIimgSrc.push(message_Path + "model/hijiki/moc/hijiki.2048/texture_00.png");
			} else if (chooseLive2d === 'tororo') {
				AIimgSrc.push(message_Path + "model/tororo/moc/tororo.2048/texture_00.png");
			}
			var images = [];
			var imgLength = AIimgSrc.length;
			var loadingNum = 0;
			for (var i = 0; i < imgLength; i++) {
				images[i] = new Image();
				images[i].src = AIimgSrc[i];
				images[i].onload = function () {
					loadingNum++;
					if (loadingNum === imgLength) {
						var live2dhidden = localStorage.getItem("live2dhidden");
						if (live2dhidden === "0") {
							setTimeout(function () {
								$('#open_live2d').fadeIn(200);
							}, 1300);
						} else {
							setTimeout(function () {
								$('#landlord').fadeIn(200);
							}, 1300);
						}
						let model = '';
						if (chooseLive2d === 'histoire') {
							model = message_Path + "model/histoire/model.json";
						} else if (chooseLive2d === 'rem') {
							model = message_Path + "model/rem/model.json";
						} else if (chooseLive2d === 'Aoba') {
							model = message_Path + "model/Aoba/model.json";
						} else if (chooseLive2d === 'hijiki') {
							model = message_Path + "model/hijiki/hijiki.model.json";
						} else if (chooseLive2d === 'tororo') {
							model = message_Path + "model/tororo/tororo.model.json";
						}
						setTimeout(function () {
							loadlive2d("live2d", model);
						}, 1000);
						initLive2d();
						images = null;
					}
				}
			}
		});
	}
</script>
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // Âä®ÊÄÅË∞ÉÊï¥Á´ôÁÇπÊ¶ÇËßàÈ´òÂ∫¶
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // ÈìæÊé•Ë∑≥ËΩ¨
  let newWindow = 'false'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target","_blank");
      }
    })
  }
  // ‰ª£Á†ÅÈ´ò‰∫Æ
  hljs.initHighlightingOnLoad();

</script>
  </div>
</body>
<input hidden id="copy" />
<script>
  //ÊãøÊù•‰∏ª‰πâ(ÁúüÈ¶ô)^_^ÔºåClipboard ÂÆûÁé∞ÊëòËá™ÊéòÈáë https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // Âà§Êñ≠ÊòØ‰∏çÊòØiosÁ´Ø
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //ÂàõÂª∫ÊñáÊú¨ÂÖÉÁ¥†
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //ÈÄâÊã©ÂÜÖÂÆπ
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("Â§çÂà∂ÈîôËØØÔºÅËØ∑ÊâãÂä®Â§çÂà∂ÔºÅ")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === 'Â§çÂà∂ÊàêÂäü') {
        console.log('Â§çÂà∂Êìç‰ΩúÈ¢ëÁéáËøáÈ´ò');
        return;
      }
      e.srcElement.textContent = 'Â§çÂà∂ÊàêÂäü';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === 'Â§çÂà∂ÊàêÂäü') {
            elem.textContent = 'Â§çÂà∂‰ª£Á†Å'
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = 'Â§çÂà∂‰ª£Á†Å';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })
</script>
<script src="/media/js/motion.js"></script>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 500
  });
</script>

<!-- <div class="search-mask" id="search_mask">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input type="text" placeholder="ÊêúÁ¥¢">
      </div>
      <i class="fa fa-times-circle"></i>
    </div>
    <div class="result">
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/golang-bi-ji-zip-ri-zhi-shi-yong/"" data-c="
          &lt;p&gt;Âú®beego‰∏≠‰ΩøÁî®zapÁÆ°ÁêÜÊó•ÂøóÔºåÂæàÊñπ‰æøüëç&lt;br&gt;
ÈúÄË¶ÅÂú®conf/app.confÂÆö‰πâÂá†‰∏™ÂèÇÊï∞&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;appname = web-terminal
httpport = &amp;quot;9600&amp;quot;

runmode = &amp;quot;prod&amp;quot;
LogLevel = &amp;quot;info&amp;quot;
autorender = true
recoverpanic = false
copyrequestbody = true
viewspath = &amp;quot;static&amp;quot;
LogPath = &amp;quot;logs/k8s-websocket.log&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;logger.go&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;package controllers

import (
	&amp;quot;os&amp;quot;

	&amp;quot;github.com/astaxie/beego&amp;quot;
	&amp;quot;github.com/natefinch/lumberjack&amp;quot;
	&amp;quot;go.uber.org/zap&amp;quot;
	&amp;quot;go.uber.org/zap/zapcore&amp;quot;
)

//MyLoggerÂàùÂßãÂåñzaploggerÊó•ÂøóÂ∫ì
var MyLogger *zap.Logger

func initLogger(logpath string, loglevel string) *zap.Logger {

	// ËÆæÁΩÆÊó•ÂøóÁ∫ßÂà´
	var level zapcore.Level
	switch loglevel {
	case &amp;quot;debug&amp;quot;:
		level = zap.DebugLevel
	case &amp;quot;info&amp;quot;:
		level = zap.InfoLevel
	case &amp;quot;error&amp;quot;:
		level = zap.ErrorLevel
	default:
		level = zap.InfoLevel
	}

	hook := lumberjack.Logger{
		Filename:   logpath, // Êó•ÂøóÊñá‰ª∂Ë∑ØÂæÑ
		MaxSize:    20,      // ÊØè‰∏™Êó•ÂøóÊñá‰ª∂‰øùÂ≠òÁöÑÊúÄÂ§ßÂ∞∫ÂØ∏ Âçï‰ΩçÔºöM
		MaxBackups: 10,      // Êó•ÂøóÊñá‰ª∂ÊúÄÂ§ö‰øùÂ≠òÂ§öÂ∞ë‰∏™Â§á‰ªΩ
		MaxAge:     7,       // Êñá‰ª∂ÊúÄÂ§ö‰øùÂ≠òÂ§öÂ∞ëÂ§©
		Compress:   true,    // ÊòØÂê¶ÂéãÁº©
	}

	encoderConfig := zapcore.EncoderConfig{
		TimeKey:        &amp;quot;time&amp;quot;,
		LevelKey:       &amp;quot;level&amp;quot;,
		NameKey:        &amp;quot;logger&amp;quot;,
		CallerKey:      &amp;quot;linenum&amp;quot;,
		MessageKey:     &amp;quot;msg&amp;quot;,
		StacktraceKey:  &amp;quot;stacktrace&amp;quot;,
		LineEnding:     zapcore.DefaultLineEnding,
		EncodeLevel:    zapcore.LowercaseLevelEncoder,  // Â∞èÂÜôÁºñÁ†ÅÂô®
		EncodeTime:     zapcore.ISO8601TimeEncoder,     // ISO8601 UTC Êó∂Èó¥Ê†ºÂºè
		EncodeDuration: zapcore.SecondsDurationEncoder, //
		EncodeCaller:   zapcore.ShortCallerEncoder,     // Áü≠Ë∑ØÂæÑÁºñÁ†ÅÂô®
		EncodeName:     zapcore.FullNameEncoder,
	}

	core := zapcore.NewCore(
		zapcore.NewJSONEncoder(encoderConfig),                                           // ÁºñÁ†ÅÂô®ÈÖçÁΩÆ
		zapcore.NewMultiWriteSyncer(zapcore.AddSync(os.Stdout), zapcore.AddSync(&amp;amp;hook)), // ÊâìÂç∞Âà∞ÊéßÂà∂Âè∞ÂíåÊñá‰ª∂
		level, // Êó•ÂøóÁ∫ßÂà´
	)

	// ÂºÄÂêØÂºÄÂèëÊ®°ÂºèÔºåÂ†ÜÊ†àË∑üË∏™
	caller := zap.AddCaller()
	// ÂºÄÂêØÊñá‰ª∂ÂèäË°åÂè∑
	development := zap.Development()

	// ËÆæÁΩÆÂàùÂßãÂåñÂ≠óÊÆµ
	filed := zap.Fields(zap.String(&amp;quot;serviceName&amp;quot;, &amp;quot;k8s-websocket-dashboard&amp;quot;))
	// ÊûÑÈÄ†Êó•Âøó
	logger := zap.New(core, caller, development, filed)

	logger.Info(&amp;quot;initlog ÂàùÂßãÂåñÊàêÂäü&amp;quot;)
	return logger
}

// ÂàùÂßãÂåñÊó•Âøó
func init() {
	logPath := beego.AppConfig.String(&amp;quot;LogPath&amp;quot;)
	loglevel := beego.AppConfig.String(&amp;quot;LogLevel&amp;quot;)
	MyLogger = initLogger(logPath, loglevel)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Êó•ÂøóËæìÂá∫Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{&amp;quot;level&amp;quot;:&amp;quot;info&amp;quot;,&amp;quot;time&amp;quot;:&amp;quot;2020-06-02T19:41:37.799+0800&amp;quot;,&amp;quot;linenum&amp;quot;:&amp;quot;controllers/logger.go:59&amp;quot;,&amp;quot;msg&amp;quot;:&amp;quot;log ÂàùÂßãÂåñÊàêÂäü&amp;quot;,&amp;quot;serviceName&amp;quot;:&amp;quot;k8s-websocket-dashboard&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;
">golangÁ¨îËÆ∞-zipÊó•Âøó‰ΩøÁî®</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/golang-bi-ji-beego-huo-qu-url-qing-qiu-de-can-shu/"" data-c="
          &lt;h1 id=&#34;Ëé∑ÂèñÂèÇÊï∞&#34;&gt;Ëé∑ÂèñÂèÇÊï∞&lt;/h1&gt;
&lt;p&gt;Êàë‰ª¨ÁªèÂ∏∏ÈúÄË¶ÅËé∑ÂèñÁî®Êà∑‰º†ÈÄíÁöÑÊï∞ÊçÆÔºåÂåÖÊã¨Get„ÄÅPOSTÁ≠âÊñπÂºèÁöÑËØ∑Ê±ÇÔºåbeegoÈáåÈù¢‰ºöËá™Âä®Ëß£ÊûêËøô‰∫õÊï∞ÊçÆÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÊñπÂºèËé∑ÂèñÊï∞ÊçÆÔºö&lt;/p&gt;
&lt;p&gt;GetString(key string) string&lt;br&gt;
GetStrings(key string) []string&lt;br&gt;
GetInt(key string) (int64, error)&lt;br&gt;
GetBool(key string) (bool, error)&lt;br&gt;
GetFloat(key string) (float64, error)&lt;br&gt;
Á§∫‰æã1Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func (this *MainController) Post() {
    jsoninfo := &amp;lt;strong&amp;gt;this.GetString&amp;lt;/strong&amp;gt;(&amp;quot;jsoninfo&amp;quot;)
    if jsoninfo == &amp;quot;&amp;quot; {
        this.Ctx.WriteString(&amp;quot;jsoninfo is empty&amp;quot;)
        return
    }
}```
Â¶ÇÊûú‰Ω†ÈúÄË¶ÅÁöÑÊï∞ÊçÆÂèØËÉΩÊòØÂÖ∂ÂÆÉÁ±ªÂûãÔºå‰æãÂ¶ÇÊòØintÁ±ªÂûãËÄå‰∏çÊòØint64ÔºåÈÇ£‰πà‰Ω†ÈúÄË¶ÅËøôÊ†∑Â§ÑÁêÜÔºö

Á§∫‰æã2Ôºö
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;func (this *MainController) Post() {&lt;br&gt;
id := &lt;strong&gt;this.Input().Get&lt;/strong&gt;(&amp;quot;id&amp;quot;)&lt;br&gt;
intid, err := &lt;strong&gt;strconv.Atoi&lt;/strong&gt;(id)&lt;br&gt;
}```&lt;br&gt;
Êõ¥Â§öÂÖ∂‰ªñÁöÑrequestÁöÑ‰ø°ÊÅØÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøáthis.Ctx.RequestËé∑Âèñ‰ø°ÊÅØ„ÄÇ&lt;/p&gt;
&lt;p&gt;ÂÖ≥‰∫éËØ•ÂØπË±°ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ïÂèØÂèÇËÄÉrequestÂÆòÊñπÊâãÂÜåhttps://gowalker.org/net/http#Request&lt;/p&gt;
&lt;h1 id=&#34;Áõ¥Êé•Ëß£ÊûêÂà∞struct&#34;&gt;Áõ¥Êé•Ëß£ÊûêÂà∞struct&lt;/h1&gt;
&lt;p&gt;Â¶ÇÊûúË¶ÅÊääË°®ÂçïÈáåÁöÑÂÜÖÂÆπËµãÂÄºÂà∞‰∏Ä‰∏™structÈáåÔºåÈô§‰∫ÜÁî®‰∏äÈù¢ÁöÑÊñπÊ≥ï‰∏Ä‰∏™‰∏Ä‰∏™Ëé∑ÂèñÂÜçËµãÂÄº‰πãÂ§ñÔºå&lt;br&gt;
beegoÊèê‰æõ‰∫ÜÈÄöËøáÂè¶Â§ñ‰∏Ä‰∏™Êõ¥‰æøÊç∑ÁöÑÊñπÂºèÔºåÂ∞±ÊòØÈÄöËøástructÁöÑÂ≠óÊÆµÂêçÊàñtag‰∏éË°®ÂçïÂ≠óÊÆµÂØπÂ∫îÁõ¥Êé•Ëß£ÊûêÂà∞struct„ÄÇ&lt;/p&gt;
&lt;p&gt;Á§∫‰æã3Ôºö&lt;/p&gt;
&lt;p&gt;ÂÆö‰πâstruct&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;type user struct {
    Id    int         `form:&amp;quot;-&amp;quot;`
    Name  interface{} `form:&amp;quot;&amp;lt;strong&amp;gt;username&amp;lt;/strong&amp;gt;&amp;quot;`
    Age   int         `form:&amp;quot;&amp;lt;strong&amp;gt;age&amp;lt;/strong&amp;gt;&amp;quot;`
    Email string
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ë°®Âçï&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&amp;quot;&amp;lt;strong&amp;gt;user&amp;lt;/strong&amp;gt;&amp;quot;&amp;gt;
    ÂêçÂ≠óÔºö&amp;lt;input name=&amp;quot;&amp;lt;strong&amp;gt;username&amp;lt;/strong&amp;gt;&amp;quot; type=&amp;quot;text&amp;quot; /&amp;gt;
    Âπ¥ÈæÑÔºö&amp;lt;input name=&amp;quot;&amp;lt;strong&amp;gt;age&amp;lt;/strong&amp;gt;&amp;quot; type=&amp;quot;text&amp;quot; /&amp;gt;
    ÈÇÆÁÆ±Ôºö&amp;lt;input name=&amp;quot;Email&amp;quot; type=&amp;quot;text&amp;quot; /&amp;gt;
    &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Êèê‰∫§&amp;quot; /&amp;gt;
&amp;lt;/form&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;controllerÈáåËß£Êûê&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func (this *MainController) Post() {
    u := &amp;lt;strong&amp;gt;user{}&amp;lt;/strong&amp;gt;
    if err := this.ParseForm(&amp;lt;strong&amp;gt;&amp;amp;u&amp;lt;/strong&amp;gt;); err != nil {
        //handle error
    }
}„ÄÄ„ÄÄ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÈúÄË¶ÅËØ¥ÊòéÁöÑÊòØÔºö&lt;/p&gt;
&lt;p&gt;Ôºà1ÔºâstructTag formÁöÑÂÆö‰πâÂíårenderformÊñπÊ≥ïÂÖ±Áî®‰∏Ä‰∏™Ê†áÁ≠æ„ÄÇ&lt;/p&gt;
&lt;p&gt;Ôºà2ÔºâÂÆö‰πâstructÊó∂ÔºåÂ≠óÊÆµÂêçÂêéÂ¶ÇÊûúÊúâformËøô‰∏™tagÔºåÂàô‰ºöÊääformË°®ÂçïÈáåÁöÑnameÂíåtagÁöÑÂêçÂ≠ó‰∏ÄÊ†∑ÁöÑÂ≠óÊÆµËµãÂÄºÁªôËøô‰∏™Â≠óÊÆµÔºå&lt;/p&gt;
&lt;p&gt;Âê¶ÂàôÂ∞±‰ºöÊääformË°®ÂçïÈáå‰∏éÂ≠óÊÆµÂêç‰∏ÄÊ†∑ÁöÑË°®ÂçïÂÜÖÂÆπËµãÂÄºÁªôËøô‰∏™Â≠óÊÆµ„ÄÇ&lt;/p&gt;
&lt;p&gt;‰æãÂ¶Ç‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Ôºå‰ºöÊääË°®Âçï‰∏≠ÁöÑusernameÂíåageÂàÜÂà´ËµãÂÄºÁªôuserÈáåÁöÑNameÂíåAgeÂ≠óÊÆµÔºåËÄåEmailÈáåÁöÑÂÜÖÂÆπÂàô‰ºöËµãÂÄºÁªôEmailËøô‰∏™Â≠óÊÆµ„ÄÇ&lt;/p&gt;
&lt;p&gt;Ôºà3ÔºâË∞ÉÁî®Controller PraseFormËøô‰∏™ÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºå‰º†ÂÖ•ÁöÑÂèÇÊï∞ÂøÖÈ°ª‰∏∫‰∏Ä‰∏™structÁöÑÊåáÈíàÔºåÂê¶ÂàôÂØπstructÁöÑËµãÂÄº‰∏ç‰ºöÊàêÂäüÂπ∂ËøîÂõûxx must be a struct pointerÁöÑÈîôËØØ„ÄÇ&lt;/p&gt;
&lt;p&gt;Ôºà4ÔºâÂ¶ÇÊûúË¶ÅÂøΩÁï•‰∏Ä‰∏™Â≠óÊÆµÔºåÊúâ‰∏§ÁßçÊñπÊ≥ïÔºå‰∏ÄÊòØÔºöÂ≠óÊÆµÂêçÂ∞èÂÜôÂºÄÂ§¥Ôºå‰∫åÊòØÔºöformÊ†áÁ≠æËÆæÁΩÆ‰∏∫_&lt;/p&gt;
&lt;h1 id=&#34;Ëé∑Âèñrequest-bodyÈáåÁöÑÂÜÖÂÆπ&#34;&gt;Ëé∑ÂèñRequest BodyÈáåÁöÑÂÜÖÂÆπ&lt;/h1&gt;
&lt;p&gt;Âú®APIÁöÑÂºÄÂèë‰∏≠ÔºåÊàë‰ª¨ÁªèÂ∏∏‰ºöÁî®Âà∞JSONÊàñXMLÊù•‰Ωú‰∏∫Êï∞ÊçÆ‰∫§‰∫íÁöÑÊ†ºÂºèÔºåÂ¶Ç‰ΩïÂú®beego‰∏≠Ëé∑ÂèñRequest BodyÈáåÁöÑJSONÊàñXMLÁöÑÊï∞ÊçÆÂë¢Ôºü&lt;/p&gt;
&lt;p&gt;È¶ñÂÖàÔºåÂú®ÈÖçÁΩÆÊñá‰ª∂ÈáåËÆæÁΩÆcopyrequestbody = true&lt;/p&gt;
&lt;p&gt;ÂÖ∂Ê¨°ÔºåÂú®Controller‰∏≠Ôºö&lt;/p&gt;
&lt;p&gt;Á§∫‰æã4Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func (this *ObjectController) Post() {
    var ob models.Object
    var err error
    if err = json.Unmarshal(this.Ctx.Input.RequestBody, &amp;amp;ob); err == nil {
        objectid := models.AddOne(ob)
        this.Data[&amp;quot;json&amp;quot;] = &amp;quot;{\&amp;quot;ObjectId\&amp;quot;:\&amp;quot;&amp;quot; + objectid + &amp;quot;\&amp;quot;}&amp;quot;
    } else {
        this.Data[&amp;quot;json&amp;quot;] = err.Error()
    }
    this.ServeJSON()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h1 id=&#34;Êñá‰ª∂‰∏ä‰º†&#34;&gt;Êñá‰ª∂‰∏ä‰º†&lt;/h1&gt;
&lt;p&gt;Âú®beego‰∏≠‰Ω†ÂèØ‰ª•ÂæàÂÆπÊòìÁöÑÂ§ÑÁêÜÊñá‰ª∂‰∏ä‰º†ÔºåÂ∞±ÊòØÂà´ÂøòËÆ∞Âú®‰Ω†ÁöÑformË°®Âçï‰∏≠Â¢ûÂä†‚Äúenctype=&amp;quot;multipart/form-data‚ÄùÔºåÂê¶Âàô‰Ω†ÁöÑÊµèËßàÂô®‰∏ç‰ºö‰º†Ëæì‰Ω†ÁöÑ‰∏ä‰º†Êñá‰ª∂„ÄÇ&lt;/p&gt;
&lt;p&gt;Êñá‰ª∂‰∏ä‰º†‰πãÂêé‰∏ÄËà¨ÊòØÊîæÂú®Á≥ªÁªüÁöÑÂÜÖÂ≠òÈáåÈù¢ÔºåÂ¶ÇÊûúÊñá‰ª∂ÁöÑsizeÂ§ß‰∫éËÆæÁΩÆÁöÑÁºìÂ≠òÂ§ßÂ∞èÔºåÈÇ£‰πàÂ∞±ÊîæÂú®‰∏¥Êó∂Êñá‰ª∂‰∏≠Ôºå&lt;/p&gt;
&lt;p&gt;ÈªòËÆ§ÁöÑÁºìÂ≠òÂÜÖÂ≠òÊòØ64MÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÊñπÂºèÊù•Ë∞ÉÊï¥Ëøô‰∏™ÁºìÂ≠òÂÜÖÂ≠òÁöÑÂ§ßÂ∞è„ÄÇ&lt;/p&gt;
&lt;p&gt;beego.MaxMemory = 1&amp;lt;&amp;lt;22&lt;br&gt;
ÊàñËÄÖÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÄöËøáÂ¶Ç‰∏ãËÆæÁΩÆÔºö&lt;/p&gt;
&lt;p&gt;maxmemory = 1&amp;lt;&amp;lt;22&lt;br&gt;
BeegoÊèê‰æõ‰∫Ü‰∏§‰∏™ÂæàÊñπ‰æøÁöÑÊñπÊ≥ïÊù•Â§ÑÁêÜÊñá‰ª∂‰∏ä‰º†Ôºö&lt;/p&gt;
&lt;p&gt;Ôºà1ÔºâGetFile(key string) (multipart.File, *multipart.FileHeader, error)&lt;/p&gt;
&lt;p&gt;ËØ•ÊñπÊ≥ï‰∏ªË¶ÅÁî®‰∫éÁî®Êà∑ËØªÂèñË°®Âçï‰∏≠ÁöÑÊñá‰ª∂Âêçthe_fileÔºåÁÑ∂ÂêéËøîÂõûÁõ∏Â∫îÁöÑ‰ø°ÊÅØÔºåÁî®Êà∑Ê†πÊçÆËøô‰∫õÂèòÈáèÊù•Â§ÑÁêÜÊñá‰ª∂‰∏ä‰º†ÔºöËøáÊª§„ÄÅ‰øùÂ≠òÊñá‰ª∂Á≠â„ÄÇ&lt;/p&gt;
&lt;p&gt;Ôºà2ÔºâSaveToFile(fromfile, tofile string) error&lt;/p&gt;
&lt;p&gt;ËØ•ÊñπÊ≥ïÊòØÂú®GetFileÁöÑÂü∫Á°Ä‰∏äÂÆûÁé∞‰∫ÜÂø´ÈÄü‰øùÂ≠òÁöÑÂäüËÉΩÔºåfromfileÊòØÊèê‰∫§ÁöÑÊó∂ÂÄôhtmlË°®Âçï‰∏≠ÁöÑname„ÄÇ&lt;/p&gt;
&lt;p&gt;Á§∫‰æã5&lt;/p&gt;
&lt;p&gt;Ë°®ÂçïÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;form enctype=&amp;quot;multipart/form-data&amp;quot; method=&amp;quot;post&amp;quot;&amp;gt;
    &amp;lt;input type=&amp;quot;file&amp;quot; name=&amp;quot;uploadname&amp;quot; /&amp;gt;
    &amp;lt;input type=&amp;quot;submit&amp;quot;&amp;gt;
&amp;lt;/form&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Controller‰∏≠‰ª£Á†ÅÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func (c *FormController) Post() {
    f, h, err := c.GetFile(&amp;quot;uploadname&amp;quot;)
    if err != nil {
        log.Fatal(&amp;quot;getfile err &amp;quot;, err)
    }
    defer f.Close()
    c.SaveToFile(&amp;quot;uploadname&amp;quot;, &amp;quot;static/upload/&amp;quot; + h.Filename) // ‰øùÂ≠ò‰ΩçÁΩÆÂú® static/upload, Ê≤°ÊúâÊñá‰ª∂Â§πË¶ÅÂÖàÂàõÂª∫
     
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;Êï∞ÊçÆÁªëÂÆö&#34;&gt;Êï∞ÊçÆÁªëÂÆö&lt;/h1&gt;
&lt;p&gt;ÊîØÊåÅ‰ªéÁî®Êà∑ËØ∑Ê±Ç‰∏≠Áõ¥Êé•Êï∞ÊçÆbindÂà∞ÊåáÂÆöÁöÑÂØπË±°„ÄÇ&lt;/p&gt;
&lt;p&gt;Á§∫‰æã6Ôºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var id int
this.Ctx.Input.Bind(&amp;amp;id, &amp;quot;id&amp;quot;)  //id ==123
 
var isok bool
this.Ctx.Input.Bind(&amp;amp;isok, &amp;quot;isok&amp;quot;)  //isok ==true
 
var ft float64
this.Ctx.Input.Bind(&amp;amp;ft, &amp;quot;ft&amp;quot;)  //ft ==1.2
 
ol := make([]int, 0, 2)
this.Ctx.Input.Bind(&amp;amp;ol, &amp;quot;ol&amp;quot;)  //ol ==[1 2]
 
ul := make([]string, 0, 2)
this.Ctx.Input.Bind(&amp;amp;ul, &amp;quot;ul&amp;quot;)  //ul ==[str array]
 
user struct{Name}
this.Ctx.Input.Bind(&amp;amp;user, &amp;quot;user&amp;quot;)  //user =={Name:&amp;quot;astaxie&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;
">golangÁ¨îËÆ∞-beegoËé∑ÂèñurlËØ∑Ê±ÇÁöÑÂèÇÊï∞</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/golang-bi-ji-json-shu-ju-jie-xi-marshal-yu-unmarshal/"" data-c="
          &lt;h1 id=&#34;ÁÆÄ‰ªã&#34;&gt;ÁÆÄ‰ªã&lt;/h1&gt;
&lt;p&gt;Json(Javascript Object Nanotation)ÊòØ‰∏ÄÁßçÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèÔºåÂ∏∏Áî®‰∫éÂâçÂêéÁ´ØÊï∞ÊçÆ‰º†Ëæì„ÄÇ‰ªªÊÑè‰∏ÄÁ´ØÂ∞ÜÊï∞ÊçÆËΩ¨Êç¢Êàêjson Â≠óÁ¨¶‰∏≤ÔºåÂè¶‰∏ÄÁ´ØÂÜçÂ∞ÜËØ•Â≠óÁ¨¶‰∏≤Ëß£ÊûêÊàêÁõ∏Â∫îÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂ¶ÇstringÁ±ªÂûãÔºåstrcutÂØπË±°Á≠â„ÄÇ&lt;/p&gt;
&lt;p&gt;goËØ≠Ë®ÄÊú¨Ë∫´‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜjsonÁöÑÂ∑•ÂÖ∑ÂåÖ‚Äùencoding/json‚Äù„ÄÇ&lt;br&gt;
Êõ¥Â§öÁöÑ‰ΩøÁî®ÊñπÂºèÔºåÂèØ‰ª•ÂèÇËÄÉÔºöhttps://studygolang.com/articles/6742&lt;/p&gt;
&lt;h1 id=&#34;ÂÆûÁé∞&#34;&gt;ÂÆûÁé∞&lt;/h1&gt;
&lt;p&gt;Json MarshalÔºöÂ∞ÜÊï∞ÊçÆÁºñÁ†ÅÊàêjsonÂ≠óÁ¨¶‰∏≤&lt;br&gt;
Áúã‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;type Stu struct {
    Name  string `json:&amp;quot;name&amp;quot;`
    Age   int
    HIgh  bool
    sex   string
    Class *Class `json:&amp;quot;class&amp;quot;`
}

type Class struct {
    Name  string
    Grade int
}

func main() {
    //ÂÆû‰æãÂåñ‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑÔºåÁî®‰∫éÁîüÊàêjsonÂ≠óÁ¨¶‰∏≤
    stu := Stu{
        Name: &amp;quot;Âº†‰∏â&amp;quot;,
        Age:  18,
        HIgh: true,
        sex:  &amp;quot;Áî∑&amp;quot;,
    }

    //ÊåáÈíàÂèòÈáè
    cla := new(Class)
    cla.Name = &amp;quot;1Áè≠&amp;quot;
    cla.Grade = 3
    stu.Class=cla

    //MarshalÂ§±Ë¥•Êó∂err!=nil
    jsonStu, err := json.Marshal(stu)
    if err != nil {
        fmt.Println(&amp;quot;ÁîüÊàêjsonÂ≠óÁ¨¶‰∏≤ÈîôËØØ&amp;quot;)
    }

    //jsonStuÊòØ[]byteÁ±ªÂûãÔºåËΩ¨ÂåñÊàêstringÁ±ªÂûã‰æø‰∫éÊü•Áúã
    fmt.Println(string(jsonStu))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÁªìÊûúÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{&amp;quot;name&amp;quot;:&amp;quot;Âº†‰∏â&amp;quot;,&amp;quot;Age&amp;quot;:18,&amp;quot;HIgh&amp;quot;:true,&amp;quot;class&amp;quot;:{&amp;quot;Name&amp;quot;:&amp;quot;1Áè≠&amp;quot;,&amp;quot;Grade&amp;quot;:3}}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;‰ªéÁªìÊûú‰∏≠ÂèØ‰ª•ÁúãÂá∫&lt;/p&gt;
&lt;p&gt;Âè™Ë¶ÅÊòØÂèØÂØºÂá∫ÊàêÂëòÔºàÂèòÈáèÈ¶ñÂ≠óÊØçÂ§ßÂÜôÔºâÔºåÈÉΩÂèØ‰ª•ËΩ¨Êàêjson„ÄÇÂõ†ÊàêÂëòÂèòÈáèsexÊòØ‰∏çÂèØÂØºÂá∫ÁöÑÔºåÊïÖÊó†Ê≥ïËΩ¨Êàêjson„ÄÇ&lt;/p&gt;
&lt;p&gt;Â¶ÇÊûúÂèòÈáèÊâì‰∏ä‰∫ÜjsonÊ†áÁ≠æÔºåÂ¶ÇNameÊóÅËæπÁöÑ &lt;code&gt;json:&amp;quot;name&amp;quot;&lt;/code&gt; ÔºåÈÇ£‰πàËΩ¨ÂåñÊàêÁöÑjson keyÂ∞±Áî®ËØ•Ê†áÁ≠æ‚Äúname‚ÄùÔºåÂê¶ÂàôÂèñÂèòÈáèÂêç‰Ωú‰∏∫keyÔºåÂ¶Ç‚ÄúAge‚ÄùÔºå‚ÄúHIgh‚Äù„ÄÇ&lt;/p&gt;
&lt;p&gt;boolÁ±ªÂûã‰πüÊòØÂèØ‰ª•Áõ¥Êé•ËΩ¨Êç¢‰∏∫jsonÁöÑvalueÂÄº„ÄÇChannelÔºå complex ‰ª•ÂèäÂáΩÊï∞‰∏çËÉΩË¢´ÁºñÁ†ÅjsonÂ≠óÁ¨¶‰∏≤„ÄÇÂΩìÁÑ∂ÔºåÂæ™ÁéØÁöÑÊï∞ÊçÆÁªìÊûÑ‰πü‰∏çË°åÔºåÂÆÉ‰ºöÂØºËá¥marshalÈô∑ÂÖ•Ê≠ªÂæ™ÁéØ„ÄÇ&lt;/p&gt;
&lt;p&gt;ÊåáÈíàÂèòÈáèÔºåÁºñÁ†ÅÊó∂Ëá™Âä®ËΩ¨Êç¢‰∏∫ÂÆÉÊâÄÊåáÂêëÁöÑÂÄºÔºåÂ¶ÇclaÂèòÈáè„ÄÇ&lt;br&gt;
ÔºàÂΩìÁÑ∂Ôºå‰∏ç‰º†ÊåáÈíàÔºåStu structÁöÑÊàêÂëòClassÂ¶ÇÊûúÊç¢ÊàêClass structÁ±ªÂûãÔºåÊïàÊûú‰πüÊòØ‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑ„ÄÇÂè™‰∏çËøáÊåáÈíàÊõ¥Âø´Ôºå‰∏îËÉΩËäÇÁúÅÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÔºâ&lt;/p&gt;
&lt;p&gt;ÊúÄÂêéÔºåÂº∫Ë∞É‰∏ÄÂè•ÔºöjsonÁºñÁ†ÅÊàêÂ≠óÁ¨¶‰∏≤ÂêéÂ∞±ÊòØÁ∫ØÁ≤πÁöÑÂ≠óÁ¨¶‰∏≤‰∫Ü„ÄÇ&lt;/p&gt;
&lt;p&gt;‰∏äÈù¢ÁöÑÊàêÂëòÂèòÈáèÈÉΩÊòØÂ∑≤Áü•ÁöÑÁ±ªÂûãÔºåÂè™ËÉΩÊé•Êî∂ÊåáÂÆöÁöÑÁ±ªÂûãÔºåÊØîÂ¶ÇstringÁ±ªÂûãÁöÑNameÂè™ËÉΩËµãÂÄºstringÁ±ªÂûãÁöÑÊï∞ÊçÆ„ÄÇ&lt;br&gt;
‰ΩÜÊúâÊó∂‰∏∫‰∫ÜÈÄöÁî®ÊÄßÔºåÊàñ‰Ωø‰ª£Á†ÅÁÆÄÊ¥ÅÔºåÊàë‰ª¨Â∏åÊúõÊúâ‰∏ÄÁßçÁ±ªÂûãÂèØ‰ª•Êé•ÂèóÂêÑÁßçÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÂπ∂ËøõË°åjsonÁºñÁ†Å„ÄÇËøôÂ∞±Áî®Âà∞‰∫Üinterface{}Á±ªÂûã„ÄÇ&lt;/p&gt;
&lt;p&gt;ÂâçË®ÄÔºö&lt;br&gt;
interface{}Á±ªÂûãÂÖ∂ÂÆûÊòØ‰∏™Á©∫Êé•Âè£ÔºåÂç≥Ê≤°ÊúâÊñπÊ≥ïÁöÑÊé•Âè£„ÄÇgoÁöÑÊØè‰∏ÄÁßçÁ±ªÂûãÈÉΩÂÆûÁé∞‰∫ÜËØ•Êé•Âè£„ÄÇÂõ†Ê≠§Ôºå‰ªª‰ΩïÂÖ∂‰ªñÁ±ªÂûãÁöÑÊï∞ÊçÆÈÉΩÂèØ‰ª•ËµãÂÄºÁªôinterface{}Á±ªÂûã„ÄÇ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;type Stu struct {
    Name  interface{} `json:&amp;quot;name&amp;quot;`
    Age   interface{}
    HIgh  interface{}
    sex   interface{}
    Class interface{} `json:&amp;quot;class&amp;quot;`
}

type Class struct {
    Name  string
    Grade int
}

func main() {
    //‰∏éÂâçÈù¢ÁöÑ‰æãÂ≠ê‰∏ÄÊ†∑
    ......
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÁªìÊûúÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{&amp;quot;name&amp;quot;:&amp;quot;Âº†‰∏â&amp;quot;,&amp;quot;Age&amp;quot;:18,&amp;quot;HIgh&amp;quot;:true,&amp;quot;class&amp;quot;:{&amp;quot;Name&amp;quot;:&amp;quot;1Áè≠&amp;quot;,&amp;quot;Grade&amp;quot;:3}}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;‰ªéÁªìÊûú‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÊó†ËÆ∫ÊòØstringÔºåintÔºåboolÔºåËøòÊòØÊåáÈíàÁ±ªÂûãÁ≠âÔºåÈÉΩÂèØËµãÂÄºÁªôinterface{}Á±ªÂûãÔºå‰∏îÊ≠£Â∏∏ÁºñÁ†ÅÔºåÊïàÊûú‰∏éÂâçÈù¢ÁöÑ‰æãÂ≠ê‰∏ÄÊ†∑„ÄÇ&lt;/p&gt;
&lt;p&gt;Ë°•ÂÖÖÔºö&lt;br&gt;
Âú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÔºåÁºñÁ†ÅÊàêjson‰∏≤ÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂæÄÂæÄÊòØÂàáÁâáÁ±ªÂûã„ÄÇÂ¶Ç‰∏ãÂÆö‰πâ‰∫Ü‰∏Ä‰∏™[]StuReadÁ±ªÂûãÁöÑÂàáÁâá&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//Ê≠£Á°ÆÁ§∫ËåÉ

//ÊñπÂºè1ÔºöÂè™Â£∞ÊòéÔºå‰∏çÂàÜÈÖçÂÜÖÂ≠ò
var stus1 []*StuRead

//ÊñπÂºè2ÔºöÂàÜÈÖçÂàùÂßãÂÄº‰∏∫0ÁöÑÂÜÖÂ≠ò
stus2 := make([]*StuRead,0)

//ÈîôËØØÁ§∫ËåÉ
//new()Âè™ËÉΩÂÆû‰æãÂåñ‰∏Ä‰∏™structÂØπË±°ÔºåËÄå[]StuReadÊòØÂàáÁâáÔºå‰∏çÊòØÂØπË±°
stus := new([]StuRead)

stu1 := StuRead{ÊàêÂëòËµãÂÄº...}
stu2 := StuRead{ÊàêÂëòËµãÂÄº...}

//Áî±ÊñπÂºè1Âíå2ÂàõÂª∫ÁöÑÂàáÁâáÔºåÈÉΩËÉΩÊàêÂäüËøΩÂä†Êï∞ÊçÆ
//ÊñπÂºè2ÊúÄÂ•ΩÂàÜÈÖç0ÈïøÂ∫¶ÔºåappendÊó∂‰ºöËá™Âä®Â¢ûÈïø„ÄÇÂèç‰πãÊåáÂÆöÂàùÂßãÈïøÂ∫¶ÔºåÈïøÂ∫¶‰∏çÂ§üÊó∂‰∏ç‰ºöËá™Âä®Â¢ûÈïøÔºåÂØºËá¥Êï∞ÊçÆ‰∏¢Â§±
stus1 := appen(stus1,stu1,stu2)
stus2 := appen(stus2,stu1,stu2)

//ÊàêÂäüÁºñÁ†Å
json1,_ := json.Marshal(stus1)
json2,_ := json.Marshal(stus2)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ëß£Á†ÅÊó∂ÂÆö‰πâÂØπÂ∫îÁöÑÂàáÁâáÊé•ÂèóÂç≥ÂèØ&lt;/p&gt;
&lt;p&gt;Json UnmarshalÔºöÂ∞ÜjsonÂ≠óÁ¨¶‰∏≤Ëß£Á†ÅÂà∞Áõ∏Â∫îÁöÑÊï∞ÊçÆÁªìÊûÑ&lt;br&gt;
Êàë‰ª¨Â∞Ü‰∏äÈù¢ÁöÑ‰æãÂ≠êËøõË°åËß£Á†Å&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;type StuRead struct {
    Name  interface{} `json:&amp;quot;name&amp;quot;`
    Age   interface{}
    HIgh  interface{}
    sex   interface{}
    Class interface{} `json:&amp;quot;class&amp;quot;`
    Test  interface{}
}

type Class struct {
    Name  string
    Grade int
}

func main() {
    //jsonÂ≠óÁ¨¶‰∏≠ÁöÑ&amp;quot;ÂºïÂè∑ÔºåÈúÄÁî®\ËøõË°åËΩ¨‰πâÔºåÂê¶ÂàôÁºñËØëÂá∫Èîô
    //jsonÂ≠óÁ¨¶‰∏≤Ê≤øÁî®‰∏äÈù¢ÁöÑÁªìÊûúÔºå‰ΩÜÂØπkeyËøõË°å‰∫ÜÂ§ßÂ∞èÁöÑ‰øÆÊîπÔºåÂπ∂Ê∑ªÂä†‰∫ÜsexÊï∞ÊçÆ
    data:=&amp;quot;{\&amp;quot;name\&amp;quot;:\&amp;quot;Âº†‰∏â\&amp;quot;,\&amp;quot;Age\&amp;quot;:18,\&amp;quot;high\&amp;quot;:true,\&amp;quot;sex\&amp;quot;:\&amp;quot;Áî∑\&amp;quot;,\&amp;quot;CLASS\&amp;quot;:{\&amp;quot;naME\&amp;quot;:\&amp;quot;1Áè≠\&amp;quot;,\&amp;quot;GradE\&amp;quot;:3}}&amp;quot;
    str:=[]byte(data)

    //1.UnmarshalÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØjsonÂ≠óÁ¨¶‰∏≤ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÊé•ÂèójsonËß£ÊûêÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ
    //Á¨¨‰∫å‰∏™ÂèÇÊï∞ÂøÖÈ°ªÊòØÊåáÈíàÔºåÂê¶ÂàôÊó†Ê≥ïÊé•Êî∂Ëß£ÊûêÁöÑÊï∞ÊçÆÔºåÂ¶Çstu‰ªç‰∏∫Á©∫ÂØπË±°StuRead{}
    //2.ÂèØ‰ª•Áõ¥Êé•stu:=new(StuRead),Ê≠§Êó∂ÁöÑstuËá™Ë∫´Â∞±ÊòØÊåáÈíà
    stu:=StuRead{}
    err:=json.Unmarshal(str,&amp;amp;stu)

    //Ëß£ÊûêÂ§±Ë¥•‰ºöÊä•ÈîôÔºåÂ¶ÇjsonÂ≠óÁ¨¶‰∏≤Ê†ºÂºè‰∏çÂØπÔºåÁº∫&amp;quot;Âè∑ÔºåÁº∫}Á≠â„ÄÇ
    if err!=nil{
        fmt.Println(err)
    }

    fmt.Println(stu)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÁªìÊûúÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{Âº†‰∏â 18 true &amp;lt;nil&amp;gt; map[naME:1Áè≠ GradE:3] &amp;lt;nil&amp;gt;}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÊÄªÁªìÔºö&lt;/p&gt;
&lt;p&gt;jsonÂ≠óÁ¨¶‰∏≤Ëß£ÊûêÊó∂ÔºåÈúÄË¶Å‰∏Ä‰∏™‚ÄúÊé•Êî∂‰Ωì‚ÄùÊé•ÂèóËß£ÊûêÂêéÁöÑÊï∞ÊçÆÔºå‰∏îUnmarshalÊó∂Êé•Êî∂‰ΩìÂøÖÈ°ª‰º†ÈÄíÊåáÈíà„ÄÇÂê¶ÂàôËß£ÊûêËôΩ‰∏çÊä•ÈîôÔºå‰ΩÜÊï∞ÊçÆÊó†Ê≥ïËµãÂÄºÂà∞Êé•Âèó‰Ωì‰∏≠„ÄÇÂ¶ÇËøôÈáåÁî®ÁöÑÊòØStuRead{}Êé•Êî∂„ÄÇ&lt;/p&gt;
&lt;p&gt;Ëß£ÊûêÊó∂ÔºåÊé•Êî∂‰ΩìÂèØËá™Ë°åÂÆö‰πâ„ÄÇjson‰∏≤‰∏≠ÁöÑkeyËá™Âä®Âú®Êé•Êî∂‰Ωì‰∏≠ÂØªÊâæÂåπÈÖçÁöÑÈ°πËøõË°åËµãÂÄº„ÄÇÂåπÈÖçËßÑÂàôÊòØÔºö&lt;/p&gt;
&lt;p&gt;ÂÖàÊü•Êâæ‰∏ékey‰∏ÄÊ†∑ÁöÑjsonÊ†áÁ≠æÔºåÊâæÂà∞ÂàôËµãÂÄºÁªôËØ•Ê†áÁ≠æÂØπÂ∫îÁöÑÂèòÈáè(Â¶ÇName)„ÄÇ&lt;br&gt;
Ê≤°ÊúâjsonÊ†áÁ≠æÁöÑÔºåÂ∞±‰ªé‰∏äÂæÄ‰∏ã‰æùÊ¨°Êü•ÊâæÂèòÈáèÂêç‰∏ékey‰∏ÄÊ†∑ÁöÑÂèòÈáèÔºåÂ¶ÇAge„ÄÇÊàñËÄÖÂèòÈáèÂêçÂøΩÁï•Â§ßÂ∞èÂÜôÂêé‰∏ékey‰∏ÄÊ†∑ÁöÑÂèòÈáè„ÄÇÂ¶ÇHIghÔºåClass„ÄÇÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÁöÑÂ∞±ËµãÂÄºÔºåÂêéÈù¢Â∞±ÁÆóÊúâÂåπÈÖçÁöÑ‰πüÂøΩÁï•„ÄÇ&lt;br&gt;
(ÂâçÊèêÊòØËØ•ÂèòÈáèÂøÖÈúÄÊòØÂèØÂØºÂá∫ÁöÑÔºåÂç≥È¶ñÂ≠óÊØçÂ§ßÂÜô)„ÄÇ&lt;br&gt;
‰∏çÂèØÂØºÂá∫ÁöÑÂèòÈáèÊó†Ê≥ïË¢´Ëß£ÊûêÔºàÂ¶ÇsexÂèòÈáèÔºåËôΩÁÑ∂json‰∏≤‰∏≠Êúâkey‰∏∫sexÁöÑk-vÔºåËß£ÊûêÂêéÂÖ∂ÂÄº‰ªç‰∏∫nil,Âç≥Á©∫ÂÄºÔºâ&lt;/p&gt;
&lt;p&gt;ÂΩìÊé•Êî∂‰Ωì‰∏≠Â≠òÂú®json‰∏≤‰∏≠ÂåπÈÖç‰∏ç‰∫ÜÁöÑÈ°πÊó∂ÔºåËß£Êûê‰ºöËá™Âä®ÂøΩÁï•ËØ•È°πÔºåËØ•È°π‰ªç‰øùÁïôÂéüÂÄº„ÄÇÂ¶ÇÂèòÈáèTestÔºå‰øùÁïôÁ©∫ÂÄºnil„ÄÇ&lt;/p&gt;
&lt;p&gt;‰Ω†‰∏ÄÂÆö‰ºöÂèëÁé∞ÔºåÂèòÈáèClassË≤å‰ººÊ≤°ÊúâËß£Êûê‰∏∫Êàë‰ª¨ÊúüÂæÖÊ†∑Â≠ê„ÄÇÂõ†‰∏∫Ê≠§Êó∂ÁöÑClassÊòØ‰∏™interface{}Á±ªÂûãÁöÑÂèòÈáèÔºåËÄåjson‰∏≤‰∏≠key‰∏∫CLASSÁöÑvalueÊòØ‰∏™Â§çÂêàÁªìÊûÑÔºå‰∏çÊòØÂèØ‰ª•Áõ¥Êé•Ëß£ÊûêÁöÑÁÆÄÂçïÁ±ªÂûãÊï∞ÊçÆÔºàÂ¶Ç‚ÄúÂº†‰∏â‚ÄùÔºå18ÔºåtrueÁ≠âÔºâ„ÄÇÊâÄ‰ª•Ëß£ÊûêÊó∂ÔºåÁî±‰∫éÊ≤°ÊúâÊåáÂÆöÂèòÈáèClassÁöÑÂÖ∑‰ΩìÁ±ªÂûãÔºåjsonËá™Âä®Â∞Üvalue‰∏∫Â§çÂêàÁªìÊûÑÁöÑÊï∞ÊçÆËß£Êûê‰∏∫map[string]interface{}Á±ªÂûãÁöÑÈ°π„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊ≠§Êó∂ÁöÑstruct ClassÂØπË±°‰∏éStuRead‰∏≠ÁöÑClassÂèòÈáèÊ≤°ÊúâÂçäÊØõÈí±ÂÖ≥Á≥ªÔºåÊïÖ‰∏éËøôÊ¨°ÁöÑjsonËß£ÊûêÊ≤°ÊúâÂçäÊØõÈí±ÂÖ≥Á≥ª„ÄÇ&lt;/p&gt;
&lt;p&gt;ËÆ©Êàë‰ª¨Áúã‰∏Ä‰∏ãËøôÂá†‰∏™interface{}ÂèòÈáèËß£ÊûêÂêéÁöÑÁ±ªÂûã&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func main() {
    //‰∏éÂâçËæπjsonËß£ÊûêÁöÑ‰ª£Á†Å‰∏ÄËá¥
    ...
    fmt.Println(stu) //ÊâìÂç∞jsonËß£ÊûêÂâçÂèòÈáèÁ±ªÂûã
    err:=json.Unmarshal(str,&amp;amp;stu)
    fmt.Println(&amp;quot;--------------json Ëß£ÊûêÂêé-----------&amp;quot;)
    ... 
    fmt.Println(stu) //ÊâìÂç∞jsonËß£ÊûêÂêéÂèòÈáèÁ±ªÂûã    
}

//Âà©Áî®ÂèçÂ∞ÑÔºåÊâìÂç∞ÂèòÈáèÁ±ªÂûã
func printType(stu *StuRead){
    nameType:=reflect.TypeOf(stu.Name)
    ageType:=reflect.TypeOf(stu.Age)
    highType:=reflect.TypeOf(stu.HIgh)
    sexType:=reflect.TypeOf(stu.sex)
    classType:=reflect.TypeOf(stu.Class)
    testType:=reflect.TypeOf(stu.Test)

    fmt.Println(&amp;quot;nameType:&amp;quot;,nameType)
    fmt.Println(&amp;quot;ageType:&amp;quot;,ageType)
    fmt.Println(&amp;quot;highType:&amp;quot;,highType)
    fmt.Println(&amp;quot;sexType:&amp;quot;,sexType)
    fmt.Println(&amp;quot;classType:&amp;quot;,classType)
    fmt.Println(&amp;quot;testType:&amp;quot;,testType)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÁªìÊûúÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;nameType: &amp;lt;nil&amp;gt;
ageType: &amp;lt;nil&amp;gt;
highType: &amp;lt;nil&amp;gt;
sexType: &amp;lt;nil&amp;gt;
classType: &amp;lt;nil&amp;gt;
testType: &amp;lt;nil&amp;gt;
--------------json Ëß£ÊûêÂêé-----------
nameType: string
ageType: float64
highType: bool
sexType: &amp;lt;nil&amp;gt;
classType: map[string]interface {}
testType: &amp;lt;nil&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;‰ªéÁªìÊûú‰∏≠ÂèØËßÅ&lt;/p&gt;
&lt;p&gt;interface{}Á±ªÂûãÂèòÈáèÂú®jsonËß£ÊûêÂâçÔºåÊâìÂç∞Âá∫ÁöÑÁ±ªÂûãÈÉΩ‰∏∫nilÔºåÂ∞±ÊòØÊ≤°ÊúâÂÖ∑‰ΩìÁ±ªÂûãÔºåËøôÊòØÁ©∫Êé•Âè£Ôºàinterface{}Á±ªÂûãÔºâÁöÑÁâπÁÇπ„ÄÇ&lt;/p&gt;
&lt;p&gt;jsonËß£ÊûêÂêéÔºåjson‰∏≤‰∏≠valueÔºåÂè™Ë¶ÅÊòØ‚ÄùÁÆÄÂçïÊï∞ÊçÆ‚ÄùÔºåÈÉΩ‰ºöÊåâÁÖßÈªòËÆ§ÁöÑÁ±ªÂûãËµãÂÄºÔºåÂ¶Ç‚ÄùÂº†‰∏â‚ÄùË¢´ËµãÂÄºÊàêstringÁ±ªÂûãÂà∞NameÂèòÈáè‰∏≠ÔºåÊï∞Â≠ó18ÂØπÂ∫îfloat64ÔºåtrueÂØπÂ∫îboolÁ±ªÂûã„ÄÇ&lt;/p&gt;
&lt;p&gt;‚ÄúÁÆÄÂçïÊï∞ÊçÆ‚ÄùÔºöÊòØÊåá‰∏çËÉΩÂÜçËøõË°å‰∫åÊ¨°jsonËß£ÊûêÁöÑÊï∞ÊçÆÔºåÂ¶Ç‚Äùname‚Äù:‚ÄùÂº†‰∏â‚ÄùÂè™ËÉΩËøõË°å‰∏ÄÊ¨°jsonËß£Êûê„ÄÇ&lt;br&gt;
‚ÄúÂ§çÂêàÊï∞ÊçÆ‚ÄùÔºöÁ±ª‰ºº‚ÄùCLASS\‚Äù:{\‚ÄùnaME\‚Äù:\‚Äù1Áè≠\‚Äù,\‚ÄùGradE\‚Äù:3}ËøôÊ†∑ÁöÑÊï∞ÊçÆÔºåÊòØÂèØËøõË°å‰∫åÊ¨°ÁîöËá≥Â§öÊ¨°jsonËß£ÊûêÁöÑÔºåÂõ†‰∏∫ÂÆÉÁöÑvalue‰πüÊòØ‰∏™ÂèØË¢´Ëß£ÊûêÁöÑÁã¨Á´ãjson„ÄÇÂç≥Á¨¨‰∏ÄÊ¨°Ëß£Êûêkey‰∏∫CLASSÁöÑvalueÔºåÁ¨¨‰∫åÊ¨°Ëß£Êûêvalue‰∏≠ÁöÑkey‰∏∫naMEÂíåGradEÁöÑvalue&lt;/p&gt;
&lt;p&gt;ÂØπ‰∫é‚ÄùÂ§çÂêàÊï∞ÊçÆ‚ÄùÔºåÂ¶ÇÊûúÊé•Êî∂‰Ωì‰∏≠ÈÖçÁöÑÈ°πË¢´Â£∞Êòé‰∏∫interface{}Á±ªÂûãÔºågoÈÉΩ‰ºöÈªòËÆ§Ëß£ÊûêÊàêmap[string]interface{}Á±ªÂûã„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Áõ¥Êé•Ëß£ÊûêÂà∞struct ClassÂØπË±°‰∏≠ÔºåÂèØ‰ª•Â∞ÜÊé•Âèó‰ΩìÂØπÂ∫îÁöÑÈ°πÂÆö‰πâ‰∏∫ËØ•structÁ±ªÂûã„ÄÇÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö&lt;/p&gt;
&lt;p&gt;type StuRead struct {&lt;br&gt;
...&lt;br&gt;
//ÊôÆÈÄöstructÁ±ªÂûã&lt;br&gt;
Class Class &lt;code&gt;json:&amp;quot;class&amp;quot;&lt;/code&gt;&lt;br&gt;
//ÊåáÈíàÁ±ªÂûã&lt;br&gt;
Class *Class &lt;code&gt;json:&amp;quot;class&amp;quot;&lt;/code&gt;&lt;br&gt;
}&lt;/p&gt;
&lt;p&gt;stuÊâìÂç∞ÁªìÊûú&lt;/p&gt;
&lt;p&gt;ClassÁ±ªÂûãÔºö{Âº†‰∏â 18 true &lt;nil&gt; {1Áè≠ 3} &lt;nil&gt;}&lt;br&gt;
*ClassÁ±ªÂûãÔºö{Âº†‰∏â 18 true &lt;nil&gt; 0xc42008a0c0 &lt;nil&gt;}&lt;/p&gt;
&lt;p&gt;ÂèØ‰ª•ÁúãÂá∫Ôºå‰º†ÈÄíClassÁ±ªÂûãÁöÑÊåáÈíàÊó∂Ôºåstu‰∏≠ÁöÑClassÂèòÈáèÂ≠òÁöÑÊòØÊåáÈíàÔºåÊàë‰ª¨ÂèØÈÄöËøáËØ•ÊåáÈíàÁõ¥Êé•ËÆøÈóÆÊâÄÂ±ûÁöÑÊï∞ÊçÆÔºåÂ¶Çstu.Class.Name/stu.Class.Grade&lt;/p&gt;
&lt;p&gt;ClassÂèòÈáèËß£ÊûêÂêéÁ±ªÂûã&lt;/p&gt;
&lt;p&gt;classType: main.Class&lt;br&gt;
classType: *main.Class&lt;br&gt;
Ëß£ÊûêÊó∂ÔºåÂ¶ÇÊûúÊé•Âèó‰Ωì‰∏≠ÂêåÊó∂Â≠òÂú®2‰∏™ÂåπÈÖçÁöÑÈ°πÔºå‰ºöÂèëÁîü‰ªÄ‰πàÂë¢Ôºü&lt;br&gt;
ÊµãËØï1&lt;/p&gt;
&lt;p&gt;type StuRead struct {&lt;br&gt;
NAme interface{}&lt;br&gt;
Name  interface{}&lt;br&gt;
NAMe interface{}    &lt;code&gt;json:&amp;quot;name&amp;quot;&lt;/code&gt;&lt;br&gt;
}&lt;br&gt;
ÁªìÊûú1:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//ÂΩìÂ≠òÂú®ÂåπÈÖçÁöÑjsonÊ†áÁ≠æÊó∂ÔºåÂÖ∂ÂØπÂ∫îÁöÑÈ°πË¢´ËµãÂÄº„ÄÇ
//ÂàáËÆ∞ÔºöÂåπÈÖçÁöÑÊ†áÁ≠æÂèØ‰ª•Ê≤°ÊúâÔºå‰ΩÜÊúâÊó∂ÊúÄÂ•ΩÂè™Êúâ‰∏Ä‰∏™Âì¶
{&amp;lt;nil&amp;gt; &amp;lt;nil&amp;gt; Âº†‰∏â}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÊµãËØï2&lt;/p&gt;
&lt;p&gt;type StuRead struct {&lt;br&gt;
NAme interface{}&lt;br&gt;
Name  interface{}&lt;br&gt;
NAMe interface{}    &lt;code&gt;json:&amp;quot;name&amp;quot;&lt;/code&gt;&lt;br&gt;
NamE interface{}    &lt;code&gt;json:&amp;quot;name&amp;quot;&lt;/code&gt;&lt;br&gt;
}&lt;br&gt;
ÁªìÊûú2&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//ÂΩìÂåπÈÖçÁöÑjsonÊ†áÁ≠æÊúâÂ§ö‰∏™Êó∂ÔºåÊ†áÁ≠æÂØπÂ∫îÁöÑÈ°πÈÉΩ‰∏ç‰ºöË¢´ËµãÂÄº„ÄÇ
//ÂøΩÁï•Ê†áÁ≠æÈ°πÔºå‰ªé‰∏äÂæÄ‰∏ãÂØªÊâæÁ¨¨‰∏Ä‰∏™Ê≤°ÊúâÊ†áÁ≠æ‰∏îÂåπÈÖçÁöÑÈ°πËµãÂÄº
{Âº†‰∏â &amp;lt;nil&amp;gt; &amp;lt;nil&amp;gt; &amp;lt;nil&amp;gt;}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÊµãËØï3&lt;/p&gt;
&lt;p&gt;type StuRead struct {&lt;br&gt;
NAme interface{}&lt;br&gt;
Name  interface{}&lt;br&gt;
}&lt;br&gt;
ÁªìÊûú3&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//Ê≤°ÊúâjsonÊ†áÁ≠æÊó∂Ôºå‰ªé‰∏äÂæÄ‰∏ãÔºåÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÁöÑÈ°π‰ºöË¢´ËµãÂÄºÂì¶
{Âº†‰∏â &amp;lt;nil&amp;gt;}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÊµãËØï4&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;type StuRead struct {
    NAMe interface{}    `json:&amp;quot;name&amp;quot;`
    NamE interface{}    `json:&amp;quot;name&amp;quot;`
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÁªìÊûú4&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//ÂΩìÁõ∏ÂêåÁöÑjsonÊ†áÁ≠æÊúâÂ§ö‰∏™Ôºå‰∏îÊ≤°Êúâ‰∏çÂ∏¶Ê†áÁ≠æÁöÑÂåπÈÖçÈ°πÊó∂ÔºåÊä•Èîô‰∫ÜÂì¶
# command-line-arguments
src/test/b.go:48: stu.Name undefined (type *StuRead has no field or method Name, but does have NAMe)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÂèØËßÅÔºå‰∏éÂâçËæπËØ¥ËøáÁöÑÂåπÈÖçËßÑÂàôÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ&lt;/p&gt;
&lt;p&gt;Â¶ÇÊûú‰∏çÊÉ≥ÊåáÂÆöClassÂèòÈáè‰∏∫ÂÖ∑‰ΩìÁöÑÁ±ªÂûãÔºå‰ªçÊÉ≥‰øùÁïôinterface{}Á±ªÂûãÔºå‰ΩÜÂèàÂ∏åÊúõËØ•ÂèòÈáèÂèØ‰ª•Ëß£ÊûêÂà∞struct ClassÂØπË±°‰∏≠ÔºåËøôÊó∂ÂÄôËØ•ÊÄé‰πàÂäûÂë¢Ôºü&lt;/p&gt;
&lt;p&gt;ËøôÁßçÈúÄÊ±ÇÊòØÂæàÂèØËÉΩÂ≠òÂú®ÁöÑÔºå‰æãÂ¶ÇÁ¨îËÄÖÊàëÂ∞±Á¢∞Âà∞‰∫Ü&lt;/p&gt;
&lt;p&gt;ÂäûÊ≥ïËøòÊòØÊúâÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜËØ•ÂèòÈáèÂÆö‰πâ‰∏∫json.RawMessageÁ±ªÂûã&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;type StuRead struct {
    Name  interface{}
    Age   interface{}
    HIgh  interface{}
    Class json.RawMessage `json:&amp;quot;class&amp;quot;` //Ê≥®ÊÑèËøôÈáå
}

type Class struct {
    Name  string
    Grade int
}

func main() {
    data:=&amp;quot;{\&amp;quot;name\&amp;quot;:\&amp;quot;Âº†‰∏â\&amp;quot;,\&amp;quot;Age\&amp;quot;:18,\&amp;quot;high\&amp;quot;:true,\&amp;quot;sex\&amp;quot;:\&amp;quot;Áî∑\&amp;quot;,\&amp;quot;CLASS\&amp;quot;:{\&amp;quot;naME\&amp;quot;:\&amp;quot;1Áè≠\&amp;quot;,\&amp;quot;GradE\&amp;quot;:3}}&amp;quot;
    str:=[]byte(data)
    stu:=StuRead{}
    _:=json.Unmarshal(str,&amp;amp;stu)

    //Ê≥®ÊÑèËøôÈáåÔºö‰∫åÊ¨°Ëß£ÊûêÔºÅ
    cla:=new(Class)
    json.Unmarshal(stu.Class,cla)

    fmt.Println(&amp;quot;stu:&amp;quot;,stu)
    fmt.Println(&amp;quot;string(stu.Class):&amp;quot;,string(stu.Class))
    fmt.Println(&amp;quot;class:&amp;quot;,cla)
    printType(&amp;amp;stu) //ÂáΩÊï∞ÂÆûÁé∞ÂâçÈù¢‰æãÂ≠êÊúâ
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÁªìÊûú&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;stu: {Âº†‰∏â 18 true [123 34 110 97 77 69 34 58 34 49 231 143 173 34 44 34 71 114 97 100 69 34 58 51 125]}
string(stu.Class): {&amp;quot;naME&amp;quot;:&amp;quot;1Áè≠&amp;quot;,&amp;quot;GradE&amp;quot;:3}
class: &amp;amp;{1Áè≠ 3}
nameType: string
ageType: float64
highType: bool
classType: json.RawMessage
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;‰ªéÁªìÊûú‰∏≠ÂèØËßÅ&lt;/p&gt;
&lt;p&gt;Êé•Êî∂‰Ωì‰∏≠ÔºåË¢´Â£∞Êòé‰∏∫json.RawMessageÁ±ªÂûãÁöÑÂèòÈáèÂú®jsonËß£ÊûêÊó∂ÔºåÂèòÈáèÂÄº‰ªç‰øùÁïôjsonÁöÑÂéüÂÄºÔºåÂç≥Êú™Ë¢´Ëá™Âä®Ëß£Êûê‰∏∫map[string]interface{}Á±ªÂûã„ÄÇÂ¶ÇÂèòÈáèClassËß£ÊûêÂêéÁöÑÂÄº‰∏∫Ôºö{‚ÄúnaME‚Äù:‚Äù1Áè≠‚Äù,‚ÄùGradE‚Äù:3}&lt;/p&gt;
&lt;p&gt;‰ªéÊâìÂç∞ÁöÑÁ±ªÂûã‰πüÂèØ‰ª•ÁúãÂá∫ÔºåÂú®Á¨¨‰∏ÄÊ¨°jsonËß£ÊûêÊó∂ÔºåÂèòÈáèClassÁöÑÁ±ªÂûãÊòØjson.RawMessage„ÄÇÊ≠§Êó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÂØπËØ•ÂèòÈáèËøõË°å‰∫åÊ¨°jsonËß£ÊûêÔºåÂõ†‰∏∫ÂÖ∂ÂÄº‰ªçÊòØ‰∏™Áã¨Á´ã‰∏îÂèØËß£ÊûêÁöÑÂÆåÊï¥json‰∏≤„ÄÇÊàë‰ª¨Âè™ÈúÄÂÜçÂÆö‰πâ‰∏Ä‰∏™Êñ∞ÁöÑÊé•Âèó‰ΩìÂç≥ÂèØÔºåÂ¶Çjson.Unmarshal(stu.Class,cla)&lt;/p&gt;
">golangÁ¨îËÆ∞-jsonÊï∞ÊçÆËß£ÊûêÔºöMarshal‰∏éUnmarshal</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/golang-bi-ji-shu-zu-qie-pian-map/"" data-c="
          &lt;h1 id=&#34;Êï∞ÁªÑ&#34;&gt;Êï∞ÁªÑ&lt;/h1&gt;
&lt;p&gt;Êï∞ÁªÑÁöÑÈïøÂ∫¶‰∏ÄÊó¶ÂÆö‰πâ‰∫ÜÂ∞±‰∏çËÉΩÂä®ÊÄÅÂ¢ûÈïøÔºåÂπ∂‰∏îÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÁ±ªÂûãÂøÖÈ°ªÁõ∏Âêå„ÄÇ&lt;/p&gt;
&lt;h2 id=&#34;ÂàõÂª∫ÊñπÊ≥ï&#34;&gt;ÂàõÂª∫ÊñπÊ≥ïÔºö&lt;/h2&gt;
&lt;p&gt;var Êï∞ÁªÑÂêç [ÈïøÂ∫¶]Êï∞ÊçÆÁ±ªÂûã&lt;br&gt;
‰æãÂ¶ÇÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;package main
import &amp;quot;fmt&amp;quot;
 
func main(){
    var test [5]int //ÂÆö‰πâÊï∞ÁªÑÂêçÂ≠ótestÔºåÈïøÂ∫¶‰∏∫5ÔºåÊï∞ÊçÆÁ±ªÂûã‰∏∫intÁöÑÊï∞ÁªÑ
    test[0] = 1    //ËµãÂÄº
    test[1] = 2   
    test[2] = 3
    test[3] = 4
    fmt.Println(test) 
    fmt.Println(test[2])
    fmt.Println(test[1:3]) //ËæìÂá∫1Âà∞3ÁöÑÊï∞ÁªÑ
    fmt.Println(test[0:]) //0Âà∞ÁªìÂ∞æ
    fmt.Println(test[:3])  //0Âà∞3
 
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##ÁªìÊûú##
[1 2 3 4 0]
3
[2 3]
[1 2 3 4 0]
[1 2 3]
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;Êï∞ÁªÑÁöÑÂõõÁßçÂàùÂßãÂåñÊñπÂºè&#34;&gt;Êï∞ÁªÑÁöÑÂõõÁßçÂàùÂßãÂåñÊñπÂºè&lt;/h2&gt;
&lt;p&gt;‰æãÂ¶ÇÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var s1 [3]int = [3]int{1,2,3}
fmt.Println(&amp;quot;s1&amp;quot;,s1)
var s2 [4]int = [...]int{5,6,7,8} //[...]ÊòØÂõ∫ÂÆöÂÜôÊ≥ï
fmt.Println(&amp;quot;s2&amp;quot;,s2)
var s3 = [2]int{9,10} //Á¨¨‰∏ÄÁßçÁöÑÁÆÄÂåñ
fmt.Println(&amp;quot;s3&amp;quot;,s3)
var s4 = [...]int{3:43,1:41,0:40,2:42} //Á±ª‰ººÈîÆÂÄºÂØπ
fmt.Println(&amp;quot;s4&amp;quot;,s4)
var s5 = new([5]int)
s5[4] =12
fmt.Println(&amp;quot;s5&amp;quot;,s5)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##ÁªìÊûú##
s1 [1 2 3]
s2 [5 6 7 8]
s3 [9 10]
s4 [40 41 42 43]
s5 [0 0 0 0 5]
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;Êï∞ÁªÑÁöÑÈÅçÂéÜ&#34;&gt;Êï∞ÁªÑÁöÑÈÅçÂéÜ&lt;/h2&gt;
&lt;p&gt;‰æãÂ¶ÇÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var s4 = [...]int{3:43,1:41,0:40,2:42} //Á±ª‰ººÈîÆÂÄºÂØπ
fmt.Println(&amp;quot;s4&amp;quot;,s4)
     
for index,value := range s4{
fmt.Println(index,value)
}
 
#ÁªìÊûú##
0 40
1 41
2 42
3 43
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;var s4 = [...]int{3:43,1:41,0:40,2:42} //Á±ª‰ººÈîÆÂÄºÂØπ
for i := 0;i &amp;lt;len(s4);i++{
fmt.Println(i,s4[i])
}
 
#ÁªìÊûú##
0 40
1 41
2 42
3 43
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;sliceÂàáÁâá&#34;&gt;sliceÂàáÁâá&lt;/h1&gt;
&lt;p&gt;1„ÄÅÂàáÁâáÊòØÊï∞ÁªÑÁöÑÂºïÁî®(ÂàáÁâáÊòØÊï∞ÁªÑÁöÑ‰∏ÄÈÉ®ÂàÜ)&lt;br&gt;
2„ÄÅÂàáÁâáÁöÑ‰ΩøÁî®Á±ª‰ººÊï∞ÁªÑÔºåÂ¶ÇÈÅçÂéÜ&lt;br&gt;
3„ÄÅÂàáÁâáÁöÑÈïøÂ∫¶ÊòØÂèØÂèòÁöÑ&lt;/p&gt;
&lt;h2 id=&#34;ÂàõÂª∫ËØ≠Ê≥ï&#34;&gt;ÂàõÂª∫ËØ≠Ê≥ï&lt;/h2&gt;
&lt;p&gt;var ÂàáÁâáÂêç []Á±ªÂûã&lt;br&gt;
Â¶ÇÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var qiepian []int
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ÂàáÁâáÁ§∫‰æã&#34;&gt;ÂàáÁâáÁ§∫‰æã:&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;###‰æãÂ≠ê‰∏Ä&amp;lt;br&amp;gt;var suzhu [4]int = [...]int{5,6,7,8}
slice := suzhu[1:4] //1Âà∞4ÁöÑÂÄºÔºå‰∏çÂåÖÂê´4
fmt.Println(suzhu)
fmt.Println(slice)
fmt.Println(&amp;quot;ÂàáÁâáÁöÑÂÆπÈáè&amp;quot;,cap(slice))
 
##ÁªìÊûú
[5 6 7 8]
[6 7 8]
ÂàáÁâáÁöÑÂÆπÈáè 3&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;
###‰æãÂ≠ê‰∫å„ÄÅ‰ΩøÁî®makeÂàõÂª∫ÂàáÁâá
var slice []int = make([]int,4,10) //Á±ªÂûãÔºåÂ§ßÂ∞è(ÈïøÂ∫¶),ÂÆπÈáèÔºàÂèØÈÄâÔºâÔºåÂÆπÈáèÂøÖÈ°ªÂ§ß‰∫éÈïøÂ∫¶
slice[0] = 10
slice[1] = 11
fmt.Println(slice)
 
##ÁªìÊûú##
[10 11 0 0]
 
 
###‰æãÂ≠ê‰∏â
var slice []int = []int {2,4,6}
fmt.Println(slice)
 
##ÁªìÊûú##
2 4 6
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ÂàáÁâáÁöÑappendËøΩÂä†&#34;&gt;ÂàáÁâáÁöÑappendËøΩÂä†&lt;/h2&gt;
&lt;p&gt;‰æãÂ¶ÇÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var slice []int = []int {2,4,6}
fmt.Println(slice)
//‰ΩøÁî®appendÁõ¥Êé•ËøΩÂä†ÂàáÁâáÂÜÖÂÆπÔºàÁ±ª‰ººpython listÁöÑappendÔºâ
slice = append(slice,8,10)
fmt.Println(slice)
slice = append(slice,slice...) //ËøΩÂä†ÂàáÁâáÔºå...ÊòØÂõ∫ÂÆöÂÜôÊ≥ï
fmt.Println(slice)
 
###ÁªìÊûú###
[2 4 6]
[2 4 6 8 10]
[2 4 6 8 10 2 4 6 8 10]
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ÂàáÁâáÁöÑcopyÊìç‰Ωú&#34;&gt;ÂàáÁâáÁöÑcopyÊìç‰Ωú&lt;/h2&gt;
&lt;p&gt;‰ΩøÁî®copyÂÜÖÁΩÆÂáΩÊï∞&lt;br&gt;
‰æãÂ¶Ç:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var slice []int = []int {2,4,6}
fmt.Println(slice)
var slice2 []int = make([]int,5)
fmt.Println(slice2)
copy(slice2,slice) //Â∞ÜsliceÂ§çÂà∂Áªôslice2
fmt.Println(slice)
fmt.Println(slice2)
 
##ÁªìÊûú##
[2 4 6]
[0 0 0 0 0]
[2 4 6]
[2 4 6 0 0]
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;‰ΩøÁî®ÂàáÁâáÊîπÂèòÂ≠óÁ¨¶‰∏≤ÁöÑÂÜÖÂÆπ&#34;&gt;‰ΩøÁî®ÂàáÁâáÊîπÂèòÂ≠óÁ¨¶‰∏≤ÁöÑÂÜÖÂÆπ&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;var str string = &amp;quot;hello&amp;quot;
fmt.Println(str)
arr := []byte(str)
arr[1] = &#39;a&#39; //ËΩ¨ÊàêÂ≠óÁ¨¶‰∏≤
arr1 := []rune(str) //‰∏≠ÊñáËΩ¨Êç¢
arr1[0] = &#39;Áãó&#39;
fmt.Println(arr)
str = string(arr)
fmt.Println(str)
str = string(arr1)
fmt.Println(str)
 
##ÁªìÊûú##
hello
[104 97 108 108 111]
hello
Áãóhello
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;map&#34;&gt;map&lt;/h1&gt;
&lt;p&gt;mapÊòØkey-valueÊï∞ÊçÆÁªìÊûÑ(Á±ª‰ººpythonÁöÑdict)&lt;br&gt;
mapÊòØÊó†Â∫èÂ≠òÂÇ®ÁöÑ&lt;/p&gt;
&lt;p&gt;ÂàõÂª∫mapËØ≠Ê≥ï&lt;br&gt;
var map ÂèòÈáèÂêç map[keytype]valuetype&lt;/p&gt;
&lt;p&gt;Â¶ÇÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var m1 map[string]string
var m2 map[string]int
var m3 map[int]string
var m4 map[string]map[string]string
```„ÄÄ„ÄÄ

‰ΩøÁî®‰æãÂ≠êÔºö
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;package main&lt;br&gt;
import &amp;quot;fmt&amp;quot;&lt;/p&gt;
&lt;p&gt;func main(){&lt;br&gt;
var m1 map[string]string&lt;br&gt;
//Âú®‰ΩøÁî®mapÂâç,ÈúÄË¶ÅÂÖàmakeÔºåmakeÁöÑ‰ΩúÁî®ÊäÄÊúØÁªômapÂàÜÈÖçÊï∞ÊçÆÁ©∫Èó¥&lt;br&gt;
m1 = make(map[string]string)&lt;br&gt;
m2 := map[string]string{  //‰ΩøÁî®ÊñπÂºè‰∫å&lt;br&gt;
&amp;quot;a1&amp;quot; : &amp;quot;q1&amp;quot;,&lt;br&gt;
&amp;quot;a2&amp;quot; : &amp;quot;a2&amp;quot;,&lt;br&gt;
}&lt;br&gt;
m1[&amp;quot;s1&amp;quot;] = &amp;quot;‰∫öÁ¥¢&amp;quot;&lt;br&gt;
m1[&amp;quot;s2&amp;quot;] = &amp;quot;Áõñ‰º¶&amp;quot;&lt;br&gt;
fmt.Println(m1)&lt;br&gt;
fmt.Println(m1[&amp;quot;s1&amp;quot;])&lt;br&gt;
fmt.Println(m2)&lt;br&gt;
}&lt;/p&gt;
&lt;p&gt;###ÁªìÊûú###&lt;br&gt;
map[s1:‰∫öÁ¥¢ s2:Áõñ‰º¶]&lt;br&gt;
‰∫öÁ¥¢&lt;br&gt;
map[a1:q1 a2:a2]&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
 

mapÁöÑÂ¢ûÂà†ÊîπÊü•
Â¢û„ÄÅÊîπ
map[key] = value //Ê≤°ÊúâÂ∞±Â¢ûÂä†ÔºåÂ≠òÂú®Â∞±‰øÆÊîπ

Âà†
delete(map,key)

Êü•
map[key]   //ÂØπÂ∫îÁöÑvalueÔºåÂíåpythonÁöÑdict‰∏ÄÊ†∑&lt;/code&gt;&lt;/pre&gt;
">golangÁ¨îËÆ∞-Êï∞ÁªÑ„ÄÅÂàáÁâá„ÄÅmap</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/k8s-hpa-dan-xing-kuo-rong-pei-zhi/"" data-c="
          &lt;pre&gt;&lt;code&gt;HPAÂÖ®Áß∞Horizontal Pod AutoscalingÔºåÊòØK8sÂÆûÁé∞podËá™Âä®Ê∞¥Âπ≥Êâ©ÂÆπÁº©ÂÆπÁöÑÁâπÊÄßÔºåËøô‰∏™ÁâπÊÄß‰ΩøÊï¥‰∏™kubernetesÈõÜÁæ§È©¨‰∏äÈ´òÂ§ß‰∏äËµ∑Êù•‰∫Ü„ÄÇ
Ë¶Å‰ΩøÁî®HPA‰πü‰∏çÊòØËøô‰πàÁÆÄÂçïÁöÑÔºåHPA apiÂàÜv1„ÄÅv2beta1„ÄÅv2bate2‰∏âÁßçÔºåv1Âè™ÊîØÊåÅÈÄöËøáCPUË°°ÈáèÊâ©Áº©ÂÆπÔºåv2bate1Âä†ÂÖ•ÈíàÂØπÂÜÖÂ≠ò‰Ωú‰∏∫Â∫¶ÈáèÔºåv2bate2ÂèØ‰ª•Áî®customer metrics‰æãÂ¶ÇÁΩëÁªúÁ≠âÔºåÊâÄ‰ª•v2bate1ÂºÄÂßãÊâçÊØîËæÉÂÆûÁî®„ÄÇ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ë¶Å‰ΩøÁî®HPAÂøÖÈ°ªË¶ÅÂºÄÂêØ‰ª•‰∏ã‰∏§‰∏™ÁâπÊÄßÔºö&lt;/p&gt;
&lt;p&gt;Aggregation Layer ËÅöÂêàÂ±ÇÔºåÈÄöËøá‰∏éÊ†∏ÂøÉÁöÑapiserverÂàÜÁ¶ªÔºåÂÆûÁé∞Ëá™ÂÆö‰πâÁöÑÊâ©Â±ïÂäüËÉΩ&lt;br&gt;
metrics-server Êï∞ÊçÆÊî∂ÈõÜÔºåËÉΩÂ§üÊî∂ÈõÜpod„ÄÅnodeÁ≠âÂÆûÊó∂ËøêË°åÊåáÊ†áÔºàcpu„ÄÅÂÜÖÂ≠òÔºâÔºåÁªôk8sÈõÜÁæ§‰ΩøÁî®Ôºå‰æãÂ¶Çkubectl topÂëΩ‰ª§„ÄÅHPA&lt;br&gt;
ÊØîËæÉËÄÅÁöÑÁâàÊú¨‰ΩøÁî®heapster&lt;/p&gt;
&lt;h1 id=&#34;aggregation-layer&#34;&gt;Aggregation Layer&lt;/h1&gt;
&lt;p&gt;Ë¶ÅÊâìÂºÄAggregation LayerÔºåÈúÄË¶ÅÈÖçÁΩÆ‰∏Ä‰∏ãapiserverÔºåÂ¢ûÂä†Áõ∏ÂÖ≥ËÆ§ËØÅËØÅ‰π¶„ÄÇËÆ§ËØÅÊµÅÁ®ãÊòØclientÂèëËµ∑ËØ∑Ê±ÇÂà∞apiserverÔºåapiserver‰∏éaggergated apiserverÂª∫Á´ãtlsÂÆâÂÖ®ÈìæÊé•ÔºåÊääËØ∑Ê±ÇproxyÂà∞aggergated apiserverÔºåÁªßÁª≠ËøõË°å‚Äìrequestheader-*ÂèÇÊï∞ÁöÑÁõ∏ÂÖ≥ËÆ§ËØÅ„ÄÇ&lt;/p&gt;
&lt;p&gt;ËÆ§ËØÅÊµÅÁ®ã&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1589865988979.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;ÈúÄË¶ÅÁîüÊàêaggregate‰ΩøÁî®ÁöÑËØÅ‰π¶ÔºåÂèÇËÄÉcfsslÁîüÊàêËØÅ‰π¶ÊñπÊ≥ïÔºåproxy-client-cert-fileÁöÑCNÈúÄË¶Å‰∏érequestheader-allowed-namesÂåπÈÖç„ÄÇ&lt;br&gt;
Âú®apiserverÂ¢ûÂä†Â¶Ç‰∏ãÂêØÂä®ÂèÇÊï∞&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;--requestheader-client-ca-file=/etc/kubernetes/pki/agg-ca.pem
--proxy-client-cert-file=/etc/kubernetes/pki/aggregate.pem
--proxy-client-key-file=/etc/kubernetes/pki/aggregate-key.pem
--requestheader-allowed-names=aggregator
--requestheader-extra-headers-prefix=X-Remote-Extra-
--requestheader-group-headers=X-Remote-Group
--requestheader-username-headers=X-Remote-User
#Â¶ÇÊûúkube-proxyÊ≤°ÊúâÂú®Master‰∏äÈù¢ËøêË°åÔºåËøòÈúÄË¶ÅÈÖçÁΩÆ
--enable-aggregator-routing=true
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;metrics-server&#34;&gt;metrics server&lt;/h1&gt;
&lt;p&gt;‰ªék8s 1.8ÂºÄÂßãÔºåÈõÜÁæ§ÁöÑËµÑÊ∫ê‰ΩøÁî®ÊÉÖÂÜµÈÉΩÈÄöËøámetrics apiÊî∂ÈõÜÔºå‰æãÂ¶ÇÂÆπÂô®CPU„ÄÅÂÜÖÂ≠ò„ÄÇËøô‰∫õÊåáÊ†áÂèØÁî®‰∫ékuberctl topÊàñËÄÖk8sÁöÑHPAÁ≠âÁâπÊÄß„ÄÇ&lt;br&gt;
metrice serverÂèØ‰ª•Âú®githubÊâæÂà∞Âπ∂ÈÉ®ÁΩ≤&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone https://github.com/kubernetes-incubator/metrics-server
cd metrics-server
kubectl create -f deploy/1.8+/
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Ê≥®1Ôºömetrics-serverÈªòËÆ§‰ΩøÁî®nodeÁöÑ‰∏ªÊú∫ÂêçÔºå‰ΩÜÊòØcorednsÈáåÈù¢Ê≤°ÊúâÁâ©ÁêÜÊú∫‰∏ªÊú∫ÂêçÁöÑËß£ÊûêÔºå‰∏ÄÁßçÊòØÈÉ®ÁΩ≤ÁöÑÊó∂ÂÄôÊ∑ªÂä†‰∏Ä‰∏™ÂèÇÊï∞Ôºö ‚Äìkubelet-preferred-address-types=InternalIP,Hostname,InternalDNS,ExternalDNS,ExternalIP,Á¨¨‰∫åÁßçÊòØ‰ΩøÁî®dnsmasqÊûÑÂª∫‰∏Ä‰∏™‰∏äÊ∏∏ÁöÑdnsÊúçÂä°
Ê≥®2Ôºökubelet ÁöÑ10250Á´ØÂè£‰ΩøÁî®ÁöÑÊòØhttpsÂçèËÆÆÔºåËøûÊé•ÈúÄË¶ÅÈ™åËØÅtlsËØÅ‰π¶„ÄÇÂèØ‰ª•Âú®metrics serverÂêØÂä®ÂëΩ‰ª§Ê∑ªÂä†ÂèÇÊï∞‚Äìkubelet-insecure-tls‰∏çÈ™åËØÅÂÆ¢Êà∑Á´ØËØÅ‰π¶
Ê≥®3ÔºöyamlÊñá‰ª∂‰∏≠ÁöÑimageÂú∞ÂùÄk8s.gcr.io/metrics-server-amd64:v0.3.3 ÈúÄË¶ÅÊ¢ØÂ≠êÔºåÈúÄË¶ÅÊîπÊàê‰∏≠ÂõΩÂèØ‰ª•ËÆøÈóÆÁöÑimageÂú∞ÂùÄÔºåÂèØ‰ª•‰ΩøÁî®aliyunÁöÑ„ÄÇËøôÈáå‰ΩøÁî®hub.docker.comÈáåÁöÑgoogleÈïúÂÉèÂú∞ÂùÄ image: mirrorgooglecontainers/metrics-server-amd64:v0.3.3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÊàêÂäüËøêË°åkubectl topÂëΩ‰ª§&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ubuntu@k8s-dev-m1:~/k8sssl/agglayer$ kubectl top nodes
NAME                   CPU(cores)   CPU%   MEMORY(bytes)   MEMORY%   
k8s-dev-node2          103m         5%      2696Mi                 72%       
k8s-dev-node3.bxr.cn   115m      2%     5312Mi                  67%  
k8s-dev-node4          57m          2%       2634Mi                  70%     
k8s-dev-node5          148m         7%       2443Mi                  65%
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;hpa&#34;&gt;HPA&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;Êúâ‰∫ÜmetricsÂ∞±ÂèØ‰ª•ÂºÄÂßã‰ΩøÁî®HPAÁâπÊÄß‰∫Ü„ÄÇhpaÊúâÂá†‰∏™ÁâπÁÇπ
deployÊàñËÄÖrsÁ≠âÈúÄË¶ÅËÆæÁΩÆresourcesÊâçËÉΩ‰ΩøÁî®hpa
Â¶ÇÊûúÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™HPA controllerÔºåÂÆÉ‰ºöÊØèÈöî15sÔºàÂèØ‰ª•ÈÄöËøá‚Äìhorizontal-pod-autoscaler-sync-period‰øÆÊîπÔºâÊ£ÄÊµã‰∏ÄÊ¨°hpaÂÆö‰πâÁöÑËµÑÊ∫ê‰∏éÂÆûÈôÖËµÑÊ∫ê‰ΩøÁî®ÊÉÖÂÜµÔºåÂ¶ÇÊûúËææÂà∞ÈòÄÂÄºÂ∞±‰ºöË∞ÉÊï¥podÊï∞Èáè„ÄÇ
HPAËÆæÁΩÆÁöÑÈòÄÂÄº‰∏çÊòØÁªùÂØπÁöÑÔºåÂÖÅËÆ∏ËÆæÁΩÆ‰∏Ä‰∏™ÊµÆÂä®ËåÉÂõ¥Ôºå‚Äìhorizontal-pod-autoscaler-toleranceÈªòËÆ§ÊòØ0.1
podË∞ÉÊï¥ÁÆóÊ≥ï desiredReplicas = ceil[currentReplicas * ( currentMetricValue / desiredMetricValue )]
scaleÊúâ‰∏Ä‰∏™Á™óÂè£ÊúüÔºåÊúüÈó¥ÊØèÊ¨°ÂèòÂåñ‰ºöËÆ∞ÂΩï‰∏ãÊù•ÔºåÈÄâÊã©ÊúÄ‰ºòÁöÑË∞ÉÊï¥Âª∫ËÆÆÂÜçËøõË°åscaleÔºåËøôÊ†∑ÂèØ‰ª•‰øùËØÅËµÑÊ∫êÂπ≥ÊªëÂèòÂä®ÔºåÈÄöËøá‚Äìhorizontal-pod-autoscaler-downscale-stabilizationËÆæÂÆöÔºåÈªòËÆ§5ÂàÜÈíü„ÄÇ
ÈÄöËøáhpaË∞ÉÊï¥Êñ∞Â¢ûÁöÑpod‰∏ç‰ºöÈ©¨‰∏äreadyÔºåËøôÊó∂ÂÄôÊî∂ÈõÜÁöÑmetricsÂ∞±‰∏çÂáÜÔºå‰∏∫‰∫ÜÂáèÂ∞ëÂΩ±ÂìçÔºåhpa‰∏ÄÂºÄÂßã‰∏ç‰ºöÊî∂ÈõÜÊñ∞podÁöÑmetrics„ÄÇÈÄöËøá‚Äìhorizontal-pod-autoscaler-initial-readiness-delayÔºàÈªòËÆ§30sÔºâÂíå ‚Äìhorizontal-pod-autoscaler-cpu-initialization-periodÔºàÈªòËÆ§‰∏∫ 5 ÂàÜÈíüÔºâË∞ÉÊï¥
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;http://lvelvis.github.io/post-images/1589866316410.svg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
Á§∫‰æãhpa.yml:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: hpa-test
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: podinfo
  minReplicas: 2
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 75
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization 
        averageUtilization: 160
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;‰∏äÈù¢ÁöÑÁ§∫‰æãÂåÖÊã¨cpuÂíåmemoryÊåáÊ†áÔºåaverageUtilizationËøô‰∏™ÁôæÂàÜÊØîÊòØÊ†πÊçÆdeploymentÁöÑresources.requestsËÆ°ÁÆóÁöÑ„ÄÇ‰æãÂ¶ÇÊúâdeploymentÈôêÂà∂requestsÊòØ512MiÔºåreplicasÊòØ2ÔºåÂÆûÈôÖpod1Áî®‰∫Ü612MiÔºåpod2Áî®‰∫Ü598MiÔºåËÆ°ÁÆóÂÖ¨ÂºèÊòØ (612+598)/2/512 = 118%&lt;/p&gt;
&lt;p&gt;Êü•ÁúãhpaÁöÑÊÉÖÂÜµÔºåtargetsÁ¨¨‰∏Ä‰∏™ÊòØmemoryÔºåÁ¨¨‰∫å‰∏™ÊòØcpuÊåáÊ†áÔºåREPLICASÊòØÊ†πÊçÆËÆ°ÁÆóÂêéÁöÑÂΩìÂâçpodÊï∞&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ubuntu@k8s-m1:~/k8s/hpa$ kubectl get hpa
NAME       REFERENCE            TARGETS             MINPODS   MAXPODS   REPLICAS   AGE
hpa-test   Deployment/podinfo   120%/160%, 6%/75%   2         4         3          97m
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÂÆòÊñπÁ§∫‰æãËøòÂåÖÊã¨packets-per-second„ÄÅrequests-per-secondËøô‰∫õÊåáÊ†áÔºåÈúÄË¶ÅËøõ‰∏ÄÊ≠•È™åËØÅ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: autoscaling/v2beta1
kind: HorizontalPodAutoscaler
metadata:
  name: php-apache
  namespace: default
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: php-apache
  minReplicas: 1
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: AverageUtilization
        averageUtilization: 50
  - type: Pods
    pods:
      metric:
        name: packets-per-second
      targetAverageValue: 1k
  - type: Object
    object:
      metric:
        name: requests-per-second
      describedObject:
        apiVersion: networking.k8s.io/v1beta1
        kind: Ingress
        name: main-route
      target:
        kind: Value
        value: 10k
status:
  observedGeneration: 1
  lastScaleTime: &amp;lt;some-time&amp;gt;
  currentReplicas: 1
  desiredReplicas: 1
  currentMetrics:
  - type: Resource
    resource:
      name: cpu
    current:
      averageUtilization: 0
      averageValue: 0
  - type: Object
    object:
      metric:
        name: requests-per-second
      describedObject:
        apiVersion: networking.k8s.io/v1beta1
        kind: Ingress
        name: main-route
      current:
        value: 10k

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&#34;https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough/#create-horizontal-pod-autoscaler&#34;&gt;ÂÆòÊñπhpaÂèÇÊï∞&lt;/a&gt;&lt;/p&gt;
">k8s hpaÂºπÊÄßÊâ©ÂÆπÈÖçÁΩÆ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/beego-jing-tai-wen-jian-jia-zai-lu-jing-xiu-gai/"" data-c="
          &lt;p&gt;Go ËØ≠Ë®ÄÂÜÖÈÉ®ÂÖ∂ÂÆûÂ∑≤ÁªèÊèê‰æõ‰∫Ü http.ServeFileÔºåÈÄöËøáËøô‰∏™ÂáΩÊï∞ÂèØ‰ª•ÂÆûÁé∞ÈùôÊÄÅÊñá‰ª∂ÁöÑÊúçÂä°„ÄÇ&lt;/p&gt;
&lt;p&gt;beego ÈíàÂØπËøô‰∏™ÂäüËÉΩËøõË°å‰∫Ü‰∏ÄÂ±ÇÂ∞ÅË£ÖÔºåÈÄöËøá‰∏ãÈù¢ÁöÑÊñπÂºèËøõË°åÈùôÊÄÅÊñá‰ª∂Ê≥®ÂÜåÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;beego.SetStaticPath(&amp;quot;/static&amp;quot;,&amp;quot;public&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØË∑ØÂæÑÔºåurl Ë∑ØÂæÑ‰ø°ÊÅØ&lt;br&gt;
Á¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÈùôÊÄÅÊñá‰ª∂ÁõÆÂΩïÔºàÁõ∏ÂØπÂ∫îÁî®ÊâÄÂú®ÁöÑÁõÆÂΩïÔºâ&lt;br&gt;
beego ÊîØÊåÅÂ§ö‰∏™ÁõÆÂΩïÁöÑÈùôÊÄÅÊñá‰ª∂Ê≥®ÂÜåÔºåÁî®Êà∑ÂèØ‰ª•Ê≥®ÂÜåÂ¶Ç‰∏ãÁöÑÈùôÊÄÅÊñá‰ª∂ÁõÆÂΩïÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;beego.SetStaticPath(&amp;quot;/images&amp;quot;,&amp;quot;images&amp;quot;)
beego.SetStaticPath(&amp;quot;/css&amp;quot;,&amp;quot;css&amp;quot;)
beego.SetStaticPath(&amp;quot;/js&amp;quot;,&amp;quot;js&amp;quot;)
```„ÄÄ„ÄÄ

ËÆæÁΩÆ‰∫ÜÂ¶Ç‰∏äÁöÑÈùôÊÄÅÁõÆÂΩï‰πãÂêéÔºåÁî®Êà∑ËÆøÈóÆ /images/login/login.pngÔºåÈÇ£‰πàÂ∞±‰ºöËÆøÈóÆÂ∫îÁî®ÂØπÂ∫îÁöÑÁõÆÂΩï‰∏ãÈù¢ÁöÑ images/login/login.png Êñá‰ª∂„ÄÇ

Â¶ÇÊûúÊòØËÆøÈóÆ /static/img/logo.pngÔºåÈÇ£‰πàÂ∞±ËÆøÈóÆ public/img/logo.pngÊñá‰ª∂„ÄÇ

ÈªòËÆ§ÊÉÖÂÜµ‰∏ã beego ‰ºöÂà§Êñ≠ÁõÆÂΩï‰∏ãÊñá‰ª∂ÊòØÂê¶Â≠òÂú®Ôºå‰∏çÂ≠òÂú®Áõ¥Êé•ËøîÂõû 404 È°µÈù¢ÔºåÂ¶ÇÊûúËØ∑Ê±ÇÁöÑÊòØ index.htmlÔºåÈÇ£‰πàÁî±‰∫é http.ServeFile ÈªòËÆ§ÊòØ‰ºöË∑≥ËΩ¨ÁöÑÔºå‰∏çÊèê‰æõËØ•È°µÈù¢ÁöÑÊòæÁ§∫„ÄÇ

Âõ†Ê≠§ beego ÂèØ‰ª•ËÆæÁΩÆ beego.BConfig.WebConfig.DirectoryIndex=true ËøôÊ†∑Êù•‰ΩøÂæóÊòæÁ§∫ index.html È°µÈù¢„ÄÇËÄå‰∏îÂºÄÂêØËØ•ÂäüËÉΩ‰πãÂêéÔºåÁî®Êà∑ËÆøÈóÆÁõÆÂΩïÂ∞±‰ºöÊòæÁ§∫ËØ•ÁõÆÂΩï‰∏ãÊâÄÊúâÁöÑÊñá‰ª∂ÂàóË°®„ÄÇ&lt;/code&gt;&lt;/pre&gt;
">beegoÈùôÊÄÅÊñá‰ª∂Âä†ËΩΩË∑ØÂæÑ‰øÆÊîπ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/yong-hu-kong-jian-gua-zai-ceph-wen-jian-xi-tong/"" data-c="
          &lt;p&gt;Ceph v0.55 ÂèäÂêéÁª≠ÁâàÊú¨ÈªòËÆ§ÂºÄÂêØ‰∫Ü cephx ËÆ§ËØÅ„ÄÇ‰ªéÁî®Êà∑Á©∫Èó¥Ôºà FUSE ÔºâÊåÇËΩΩ‰∏Ä Ceph Êñá‰ª∂Á≥ªÁªüÂâçÔºåÁ°Æ‰øùÂÆ¢Êà∑Á´Ø‰∏ªÊú∫Êúâ‰∏Ä‰ªΩ Ceph ÈÖçÁΩÆÂâØÊú¨„ÄÅÂíåÂÖ∑Â§á Ceph ÂÖÉÊï∞ÊçÆÊúçÂä°Âô®ËÉΩÂäõÁöÑÂØÜÈí•ÁéØ„ÄÇ&lt;/p&gt;
&lt;p&gt;1„ÄÅ Âú®ÂÆ¢Êà∑Á´Ø‰∏ªÊú∫‰∏äÔºåÊääÁõëËßÜÂô®‰∏ªÊú∫‰∏äÁöÑ Ceph ÈÖçÁΩÆÊñá‰ª∂Êã∑Ë¥ùÂà∞ /etc/ceph/ ÁõÆÂΩï‰∏ã&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo mkdir -p /etc/ceph
sudo scp {user}@{server-machine}:/etc/ceph/ceph.conf /etc/ceph/ceph.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2„ÄÅ Âú®ÂÆ¢Êà∑Á´Ø‰∏ªÊú∫‰∏äÔºåÊääÁõëËßÜÂô®‰∏ªÊú∫‰∏äÁöÑ Ceph ÂØÜÈí•ÁéØÊã∑Ë¥ùÂà∞ /etc/ceph ÁõÆÂΩï‰∏ã&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo scp {user}@{server-machine}:/etc/ceph/ceph.keyring /etc/ceph/ceph.keyring
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3„ÄÅ Á°Æ‰øùÂÆ¢Êà∑Á´ØÊú∫Âô®‰∏äÁöÑ Ceph ÈÖçÁΩÆÊñá‰ª∂ÂíåÂØÜÈí•ÁéØÈÉΩÊúâÂêàÈÄÇÁöÑÊùÉÈôê‰ΩçÔºåÂ¶Ç chmod 644 „ÄÇ&lt;br&gt;
cephx Â¶Ç‰ΩïÈÖçÁΩÆËØ∑ÂèÇËÄÉ CEPHX ÈÖçÁΩÆÂèÇËÄÉ„ÄÇ&lt;br&gt;
Ë¶ÅÊää Ceph Êñá‰ª∂Á≥ªÁªüÊåÇËΩΩ‰∏∫Áî®Êà∑Á©∫Èó¥Êñá‰ª∂Á≥ªÁªüÔºåÂèØ‰ª•Áî® ceph-fuse ÂëΩ‰ª§Ôºå‰æãÂ¶ÇÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo mkdir /home/usernname/cephfs
sudo ceph-fuse -m 192.168.0.1:6789 /home/username/cephfs
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ËØ¶ÊÉÖËßÅ &lt;a href=&#34;http://docs.ceph.org.cn/man/8/ceph-fuse/&#34;&gt;ceph-fuse&lt;/a&gt;&lt;/p&gt;
">Áî®Êà∑Á©∫Èó¥ÊåÇËΩΩ CEPH Êñá‰ª∂Á≥ªÁªü</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/linux-ru-he-dao-ru-zi-ding-yi-zheng-shu/"" data-c="
          &lt;h1 id=&#34;ÈóÆÈ¢ò&#34;&gt;ÈóÆÈ¢ò&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;curl https://192.168.0.200:8443
ÊèêÁ§∫curl: (60) Peer&#39;s Certificate issuer is not recognized.
curl: (60) Peer&#39;s Certificate issuer is not recognized.
More details here: http://curl.haxx.se/docs/sslcerts.html

curl performs SSL certificate verification by default, using a &amp;quot;bundle&amp;quot;
 of Certificate Authority (CA) public keys (CA certs). If the default
 bundle file isn&#39;t adequate, you can specify an alternate file
 using the --cacert option.
If this HTTPS server uses a certificate signed by a CA represented in
 the bundle, the certificate verification probably failed due to a
 problem with the certificate (it might be expired, or the name might
 not match the domain name in the URL).
If you&#39;d like to turn off curl&#39;s verification of the certificate, use
 the -k (or --insecure) option.
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;mac-os-x&#34;&gt;Mac OS X&lt;/h1&gt;
&lt;h2 id=&#34;Ê∑ªÂä†ËØÅ‰π¶&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;sudo security add-trusted-cert -d -r trustRoot -k /Library/Keychains/System.keychain ~/new-root-certificate.crt
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ÁßªÈô§ËØÅ‰π¶&#34;&gt;ÁßªÈô§ËØÅ‰π¶Ôºö&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;sudo security delete-certificate -c &amp;quot;&amp;lt;name of existing certificate&amp;gt;&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;windows&#34;&gt;Windows&lt;/h1&gt;
&lt;h2 id=&#34;Ê∑ªÂä†ËØÅ‰π¶-2&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;certutil -addstore -f &amp;quot;ROOT&amp;quot; new-root-certificate.crt
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ÁßªÈô§ËØÅ‰π¶-2&#34;&gt;ÁßªÈô§ËØÅ‰π¶Ôºö&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;certutil -delstore &amp;quot;ROOT&amp;quot; serial-number-hex
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;linux-ubuntu-debian&#34;&gt;Linux (Ubuntu, Debian)&lt;/h1&gt;
&lt;h2 id=&#34;Ê∑ªÂä†ËØÅ‰π¶-3&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;Â§çÂà∂ CA Êñá‰ª∂Âà∞ÁõÆÂΩïÔºö /usr/local/share/ca-certificates/
ÊâßË°å:
sudo cp foo.crt /usr/local/share/ca-certificates/foo.crt
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;Êõ¥Êñ∞-ca-ËØÅ‰π¶Â∫ì&#34;&gt;Êõ¥Êñ∞ CA ËØÅ‰π¶Â∫ì:&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;sudo update-ca-certificates
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ÁßªÈô§ËØÅ‰π¶-3&#34;&gt;ÁßªÈô§ËØÅ‰π¶Ôºö&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;Remove your CA.

Update the CA store:

sudo update-ca-certificates --fresh

Restart Kerio Connect to reload the certificates in the 32-bit versions or Debian 7.
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;linux-centos-6&#34;&gt;Linux (CentOs 6)&lt;/h1&gt;
&lt;h2 id=&#34;Ê∑ªÂä†ËØÅ‰π¶-4&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/h2&gt;
&lt;p&gt;// root-ca.crt ‰∏∫caËØÅ‰π¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ÂÆâË£Ö ca-certificates package:

yum install ca-certificates

ÂêØÁî®dynamic CA configuration feature:

update-ca-trust force-enable

Add it as a new file to /etc/pki/ca-trust/source/anchors/:
cp root-ca.crt /etc/pki/ca-trust/source/anchors/

ÊâßË°å:

update-ca-trust extract

Restart Kerio Connect to reload the certificates in the 32-bit version.
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;linux-centos-5&#34;&gt;Linux (CentOs 5)&lt;/h1&gt;
&lt;h2 id=&#34;Ê∑ªÂä†ËØÅ‰π¶-5&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;Append your trusted certificate to file /etc/pki/tls/certs/ca-bundle.crt

cat foo.crt &amp;gt;&amp;gt; /etc/pki/tls/certs/ca-bundle.crt
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ÊµãËØïËÆøÈóÆ&#34;&gt;ÊµãËØïËÆøÈóÆ&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt; curl -v &amp;quot;https:/gitlab.test.com/micro-lib/server?go-get=1&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
">linuxÂ¶Ç‰ΩïÂØºÂÖ•Ëá™ÂÆö‰πâËØÅ‰π¶</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/istio-ke-hu-duan-yuan-di-zhi-ru-he-xian-shi/"" data-c="
          &lt;h3 id=&#34;ÂâçÊèê&#34;&gt;ÂâçÊèê&lt;/h3&gt;
&lt;p&gt;Áî±‰∫éistioÈÉ®ÁΩ≤Âà∞IDC„ÄÅÈùû‰∫ëÁéØÂ¢ÉÊó†Ê≥ïËé∑ÂèñÂÆ¢Êà∑Á´ØÁúüÂÆûIPÂú∞ÂùÄÔºåwebÂ∫îÁî®Êó†Ê≥ï‰ΩøÁî®ËØ•ÁªÑ‰ª∂ÔºåÊó©ÊúüÁâàÊú¨ÁöÑistioÂÅö‰∫ÜÂæàÂ§öÊµãËØïÔºåÊúÄÁªàÊó†Ê≥ïÂÆûÁé∞Ëé∑Âèñremote client addressÔºõ&lt;/p&gt;
&lt;h3 id=&#34;ÁéØÂ¢É&#34;&gt;ÁéØÂ¢É&lt;/h3&gt;
&lt;p&gt;kubernetesÁâàÊú¨Ôºök8s-1.16.9&lt;br&gt;
istioÁâàÊú¨Ôºö1.5&lt;/p&gt;
&lt;h3 id=&#34;ÊñπÊ≥ï&#34;&gt;ÊñπÊ≥ï&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;kubectl -n istio-system edit  deployments. istio-pilot
Ê∑ªÂä†Â¶Ç‰∏ãÔºö
       env:
       - name: PILOT_SIDECAR_USE_REMOTE_ADDRESS
          value: &amp;quot;true&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;‰ª•‰∏ãÊòØgithubÁõ∏Â∫îÁöÑissue&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588232244321.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;ÂÖ∂‰ªñÊµãËØï&#34;&gt;ÂÖ∂‰ªñÊµãËØï&lt;/h3&gt;
&lt;p&gt;istio-1.5ÁâàÊú¨ÂõûÂΩíÂçï‰ΩìÔºåÂêÑ‰∏™ÁªÑ‰ª∂‰ºòÂåñ‰∫ÜÂæàÂ§öÔºåÂêéÊúüÊµãËØïhttpÈìæÊé•‰∏étcpÈìæÊé•Â∫îÁî®&lt;/p&gt;
">istio-ÂÆ¢Êà∑Á´ØÊ∫êÂú∞ÂùÄÂ¶Ç‰ΩïÊòæÁ§∫</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/k8s-tong-guo-helm-bu-shu-elk-73/"" data-c="
          &lt;h1 id=&#34;ÂâçÊèê&#34;&gt;ÂâçÊèêÔºö&lt;/h1&gt;
&lt;p&gt;Âú®kubernetesÈõÜÁæ§‰∏≠ÈÉ®ÁΩ≤elkÁªÑ‰ª∂ÔºåesÈõÜÁæ§ÈÉ®ÁΩ≤3‰∏™ËäÇÁÇπÔºåkibanaÈÉ®ÁΩ≤‰∏Ä‰∏™ÔºåÂÆπÂô®Êï∞ÊçÆÊåÅ‰πÖÂåñÈúÄË¶Åstorageclass&lt;/p&gt;
&lt;p&gt;‰æùËµñÔºö&lt;br&gt;
Helm&lt;br&gt;
Persistent Volumes&lt;/p&gt;
&lt;h1 id=&#34;ÂáÜÂ§áÈÖçÁΩÆ&#34;&gt;ÂáÜÂ§áÈÖçÁΩÆ&lt;/h1&gt;
&lt;p&gt;Áî±‰∫érepoÂú®Á∫øÂÆâË£ÖÂ§™ÊÖ¢ÔºåÂª∫ËÆÆ‰∏ãËΩΩcharÊú¨Âú∞‰øÆÊîπÂèÇÊï∞ÂêéÂÆâË£Ö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone https://github.com/elastic/helm-charts.git
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ÈÉ®ÁΩ≤-elk&#34;&gt;ÈÉ®ÁΩ≤ ELK&lt;/h1&gt;
&lt;h2 id=&#34;ÂàõÂª∫elkÂëΩÂêçÁ©∫Èó¥&#34;&gt;ÂàõÂª∫elkÂëΩÂêçÁ©∫Èó¥&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;#cat elk-ns.yml
apiVersion: v1
kind: Namespace
metadata:
  name: elk
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ÈÉ®ÁΩ≤elasticsearch&#34;&gt;ÈÉ®ÁΩ≤elasticsearch&lt;/h2&gt;
&lt;p&gt;cd helm-charts/elasticsearch&lt;/p&gt;
&lt;p&gt;helm install --namespace=elk  --name=elasticsearch .&lt;/p&gt;
&lt;h2 id=&#34;ÈÉ®ÁΩ≤-kibana&#34;&gt;ÈÉ®ÁΩ≤ Kibana&lt;/h2&gt;
&lt;p&gt;cd helm-charts/kibana&lt;/p&gt;
&lt;p&gt;helm install --namespace=elk --name=kibana .&lt;br&gt;
ÈÄöËøá kubectl get deploy Âíå pod ‰∫ÜËß£ÈÉ®ÁΩ≤Áä∂ÊÄÅÔºõ&lt;/p&gt;
&lt;h1 id=&#34;Â∞èÁü•ËØÜ&#34;&gt;Â∞èÁü•ËØÜ&lt;/h1&gt;
&lt;p&gt;Kibana Áõ¥Êé•ÈÄöËøá K8S ÂÜÖÈÉ® DNS ÂüüÂêç ËÆøÈóÆ ES„ÄÇ&lt;/p&gt;
&lt;p&gt;Êü•ÁúãÂÆπÂô®ÂÜÖÁöÑÈÖçÁΩÆ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubectl  exec kibana-kibana-7cbc5db55c-6qct7 -c kibana -- cat /usr/share/kibana/config/kibana.yml

# Default Kibana configuration for docker target
server.name: kibana
server.host: &amp;quot;0&amp;quot;
elasticsearch.hosts: [ &amp;quot;http://elasticsearch:9200&amp;quot; ]
xpack.monitoring.ui.container.elasticsearch.enabled: true
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;kibana-Ê∑ªÂä†-ingress&#34;&gt;Kibana Ê∑ªÂä† Ingress&lt;/h1&gt;
&lt;p&gt;ÈÄöËøá Ingress Ê∑ªÂä†ËÆøÈóÆÂÖ•Âè£&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: kibana
  namespace: default
spec:
  rules:
  - host: &amp;lt;YourDomain&amp;gt;  ## ËÆøÈóÆ Kibana ÁöÑÂüüÂêç 
    http:
      paths:
      - backend:
          serviceName: kibana-kibana
          servicePort: 5601
        path: /
 status:
  loadBalancer:
    ingress:
    - ip: &amp;lt;YourLoadBalancerIP&amp;gt;  ## LB ÁöÑ IP
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ËÆøÈóÆÊµãËØï&#34;&gt;ËÆøÈóÆÊµãËØï&lt;/h1&gt;
&lt;p&gt;ËÆøÈóÆÂüüÂêçÔºåÂç≥ÂèØÊâìÂºÄ Kibana 7.3 ÁâàÊú¨Ôºõ&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;http://lvelvis.github.io/post-images/1588231324831.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;Êü•ÁúãÈõÜÁæ§ÁöÑËøêË°åÁä∂ÊÄÅ&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;http://lvelvis.github.io/post-images/1588231313286.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;‰πüÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°åÊü•Áúã&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;~$ curl  -s &amp;lt;YourESHost&amp;gt;/_cluster/health | jq .
{
  &amp;quot;cluster_name&amp;quot;: &amp;quot;elasticsearch&amp;quot;,
  &amp;quot;status&amp;quot;: &amp;quot;yellow&amp;quot;,
  &amp;quot;timed_out&amp;quot;: false,
  &amp;quot;number_of_nodes&amp;quot;: 3,
  &amp;quot;number_of_data_nodes&amp;quot;: 3,
  &amp;quot;active_primary_shards&amp;quot;: 19,
  &amp;quot;active_shards&amp;quot;: 35,
  &amp;quot;relocating_shards&amp;quot;: 0,
  &amp;quot;initializing_shards&amp;quot;: 0,
  &amp;quot;unassigned_shards&amp;quot;: 3,
  &amp;quot;delayed_unassigned_shards&amp;quot;: 0,
  &amp;quot;number_of_pending_tasks&amp;quot;: 0,
  &amp;quot;number_of_in_flight_fetch&amp;quot;: 0,
  &amp;quot;task_max_waiting_in_queue_millis&amp;quot;: 0,
  &amp;quot;active_shards_percent_as_number&amp;quot;: 92.10526315789474
}
&lt;/code&gt;&lt;/pre&gt;
">K8SÈÄöËøáhelm ÈÉ®ÁΩ≤ ELK 7.3</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/kubesphere-an-zhuang-shi-yong-ti-yan/"" data-c="
          &lt;p&gt;ÊúÄËøëÂèàÂá∫Êù•‰∏™kubesphereÁöÑÂ∑•ÂÖ∑Áî®Êù•ÁÆ°ÁêÜk8sÔºå‰ªäÂ§©ÁâπÊÑèÊù•ÂÆâË£Ö‰ΩìÈ™å‰∏ãÔºõ&lt;br&gt;
githubÂú∞ÂùÄÔºöhttps://github.com/pixiake/ks-installer&lt;/p&gt;
&lt;p&gt;ÂÆòÊñπ‰ΩøÁî®ÊñáÊ°£Ôºöhttps://kubesphere.io/docs/advanced-v2.0/zh-CN/installation/all-in-one/&lt;/p&gt;
&lt;p&gt;ÂÖàÊîæ‰∏äÂÆâË£ÖÊïàÊûúÂõæÔºåUIÁïåÈù¢ËøòÊòØÂæàÊ∏ÖÁàΩÁöÑÔºö&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588152934567.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;ÂΩìÂâçÁéØÂ¢É&#34;&gt;ÂΩìÂâçÁéØÂ¢ÉÔºö&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;k8sÈõÜÁæ§Â∑≤ÁªèÂÆâË£ÖÂÆåÊàêÔºåÁî®kubesphereÁÆ°ÁêÜÁé∞ÊúâÁöÑk8sÈõÜÁæ§Ôºõ

k8sÁâàÊú¨‰∏∫1.14  

Á≥ªÁªü‰∏∫centos7.6

kubesphere‰ΩøÁî®Ë¶ÅÊ±ÇÔºö

kubernetes version &amp;gt; 1.13.0

helm version &amp;gt; 2.10.0

a default storage class must be in kubernetes cluster
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÂÆâË£ÖÂÆåÊàêÂêéÈªòËÆ§Áî®Êà∑ÂêçÂØÜÁ†ÅÔºö&lt;/p&gt;
&lt;p&gt;Áî®Êà∑ÂêçÔºöadmin&lt;/p&gt;
&lt;p&gt;ÂØÜÁ†ÅÔºöP@88w0rd&lt;/p&gt;
&lt;h3 id=&#34;ÂºÄÂßãÂÆâË£Ö&#34;&gt;ÂºÄÂßãÂÆâË£Ö&lt;/h3&gt;
&lt;p&gt;ÂÆâË£ÖÊ≠•È™§Â§ßÊ¶ÇËÆ∞ÂΩïÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubectl create ns kubesphere-system
kubectl create ns kubesphere-monitoring-system

#ËÆøÈóÆetcdÁî®Âà∞ÁöÑsecret
kubectl -n kubesphere-monitoring-system create secret generic kube-etcd-client-certs  --from-file=etcd-client-ca.crt=ca.pem  --from-file=etcd-client.crt=etcd-key.pem  --from-file=etcd-client.key=etcd.pem

#ÁÆ°ÁêÜk8sÁî®Âà∞ÁöÑsecret

kubectl -n kubesphere-system create secret generic kubesphere-ca  --from-file=ca.crt=ca.pem --from-file=ca.key=ca-key.pem

#cloneÂ•ΩgithubÈ°πÁõÆÔºåÊâßË°å‰∏ãÈù¢ÁöÑËøôÊù°ÂëΩ‰ª§

cd deploy
kubectl apply -f kubesphere-installer.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ÊâßË°åÂÆå‰∏äÈù¢ÁöÑÂëΩ‰ª§ÔºåÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÔºåÊü•ÁúãÂÆâË£ÖËøáÁ®ãÊó•Âøó&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubectl logs -n kubesphere-system $(kubectl get pod -n kubesphere-system -l job-name=kubesphere-installer -o jsonpath=&#39;{.items[0].metadata.name}&#39;) -f
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Êü•ÁúãÂÆâË£ÖÁªìÊûúÔºåSTATUSË∑ü‰∏ãÈù¢‰øùÊåÅ‰∏ÄËá¥ÊâçËØ¥ÊòéÂÆâË£ÖÊàêÂäü&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[root@ks-allinone deploy]# kubectl get pods -n kubesphere-system
NAME                                     READY   STATUS      RESTARTS   AGE
ks-account-6db466d8dc-srrwj              1/1     Running     0          149m
ks-apigateway-7d77cb9495-jzmg6           1/1     Running     0          170m
ks-apiserver-f8469fd47-b58rm             1/1     Running     0          166m
ks-console-54c849bdc9-dfkbf              1/1     Running     0          168m
ks-console-54c849bdc9-z2d5q              1/1     Running     0          168m
ks-controller-manager-569456b4cd-gngm5   1/1     Running     0          170m
ks-docs-6bbdcc9bfb-6jldz                 1/1     Running     0          3h7m
kubesphere-installer-7ph6l               0/1     Completed   1          3h11m
openldap-5c986c5bff-rzqwv                1/1     Running     0          3h25m
redis-76dc4db5dd-lv6kg                   1/1     Running     0          149m
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ÂÆâË£ÖËøáÁ®ãÂá∫Áé∞ÁöÑÈîôËØØ&#34;&gt;ÂÆâË£ÖËøáÁ®ãÂá∫Áé∞ÁöÑÈîôËØØ&lt;/h3&gt;
&lt;p&gt;1.Âú®ÂÆâË£ÖÁöÑÊó∂ÊèêÁ§∫metrics-serverÂ∑≤ÁªèÂÆâË£ÖÔºåÂØºËá¥ÂÆâË£Ö‰∏≠Êñ≠Ôºõ&lt;/p&gt;
&lt;p&gt;Ëß£ÊûêÂäûÊ≥ïÔºöÂú®kubesphere-installer.yamlÁöÑconfigMapÂ¢ûÂä†ÈÖçÁΩÆÔºömetrics_server_enable: FalseÔºàÈªòËÆ§ÊòØÊ≤°ÊúâÁöÑÔºâ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: v1
data:
  ks-config.yaml: |
    kube_apiserver_host: 10.10.5.208:6443
    etcd_tls_enable: True
    etcd_endpoint_ips: 10.10.5.169,10.10.5.183,10.10.5.184
    disableMultiLogin: True
    elk_prefix: logstash
    metrics_server_enable: False
  #  local_registry: 192.168.1.2:5000
kind: ConfigMap
metadata:
  name: kubesphere-config
  namespace: kubesphere-system
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Â¢ûÂä†IngressÈÖçÁΩÆÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: kubesphere
  namespace: kubesphere-system
  annotations:
    #kubernetes.io/ingress.class: traefik
    kubernetes.io/ingress.class: nginx
spec:
  rules:
  - host: ks.staplescn.com
    http:
      paths:
      - path:
        backend:
          serviceName: ks-console
          servicePort: 80
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ËÆøÈóÆÁïåÈù¢Ôºö&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588153130667.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
">kubesphereÂÆâË£Ö‰ΩøÁî®‰ΩìÈ™å</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/kubernetes-tekton-cicd-chi-xu-ji-cheng-liu-shui-xian/"" data-c="
          &lt;h1 id=&#34;ÂâçË®Ä&#34;&gt;ÂâçË®Ä&lt;/h1&gt;
&lt;p&gt;Êàë‰ª¨ÈÄöÂ∏∏ÁöÑÂºÄÂèëÊµÅÁ®ãÊòØÔºåÂú®Êú¨Âú∞ÂºÄÂèëÂÆåÊàêÂ∫îÁî®‰πãÂêéÔºå‰ΩøÁî®git‰Ωú‰∏∫ÁâàÊú¨ÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÂ∞ÜÊú¨Âú∞‰ª£Á†ÅÊèê‰∫§Âà∞Á±ª‰ººGithubËøôÊ†∑ÁöÑ‰ªìÂ∫ì‰∏≠ÂÅöÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÂΩìÊàë‰ª¨ÂèØËÉΩÊù•Ëá™Â§ö‰∏™‰ªìÂ∫ì„ÄÅÂèØËÉΩÊ∂âÂèäÂà∞Â§ö‰∏™‰∏≠Èó¥‰ª∂‰Ωú‰∏∫Â∫ïÂ±Ç‰æùËµñ‰∏ÄËµ∑ÈÉ®ÁΩ≤Âà∞Áîü‰∫ßÁéØÂ¢É‰∏≠Êó∂ÔºåÁõ∏‰ø°‰∏çÂ∞ëÂú®Â§ß‰∏≠Âûã‰ºÅ‰∏öÂ∑•‰ΩúÁöÑÂ∞è‰ºô‰º¥ÈÉΩÁü•ÈÅìÂÖ¨Âè∏ÂÜÖÈÉ®ÈÄöÂ∏∏‰ºöÊúâÂèëÂ∏ÉÁ≥ªÁªüÔºåÈÇ£‰πà‰∫ëÂéüÁîüÊäÄÊúØÊ†à‰∏≠ÊúâÊ≤°Êúâ‰∏∫Êàë‰ª¨Êèê‰æõÁ±ª‰ººÁöÑÂèëÂ∏ÉÁ≥ªÁªüÂë¢ÔºüÊ°£Ê°àÊòØËÇØÂÆöÁöÑÔºåËÄå‰∏î‰∏ç‰πèÁ´û‰∫âËÄÖÔºå‰∏öÂÜÖÁü•ÂêçÁöÑÊúâknavtie Build/jekinsX/spinnaker/orgo/tektonÔºåÂÖ∂‰∏≠ÔºåtekonÂá≠ÂÄüÂÖ∂‰ºóÂ§ö‰ºòËâØÁâπÊÄßÂú®‰∏Ä‰ºóÁ´û‰∫âËÄÖ‰∏≠ËÉúÂá∫ÔºåÊàê‰∏∫È¢ÜÂüüÂÜÖÁöÑ‰∫ãÂÆûÊ†áÂáÜÔºå‰ªäÂ§©Êàë‰ª¨Â∞±Êù•Êè≠ÂºÄTektonÁöÑÁ•ûÁßòÈù¢Á∫±„ÄÇ&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588236885419.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;Ê≠£Êñá&#34;&gt;Ê≠£Êñá&lt;/h1&gt;
&lt;h3 id=&#34;‰ªÄ‰πàÊòØtekton&#34;&gt;‰ªÄ‰πàÊòØTekton&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;http://lvelvis.github.io/post-images/1588236902661.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ÈÇ£TektonÈÉΩÊèê‰æõ‰∫ÜÂì™‰∫õCRDÂë¢Ôºü&lt;br&gt;
‚Ä¢	TaskÔºöÈ°æÂêçÊÄù‰πâÔºåtaskË°®Á§∫‰∏Ä‰∏™ÊûÑÂª∫‰ªªÂä°ÔºåtaskÈáåÂèØ‰ª•ÂÆö‰πâ‰∏ÄÁ≥ªÂàóÁöÑstepsÔºå‰æãÂ¶ÇÁºñËØë‰ª£Á†Å„ÄÅÊûÑÂª∫ÈïúÂÉè„ÄÅÊé®ÈÄÅÈïúÂÉèÁ≠âÔºåÊØè‰∏™stepÂÆûÈôÖÁî±‰∏Ä‰∏™PodÊâßË°å„ÄÇ&lt;br&gt;
‚Ä¢	TaskRunÔºötaskÂè™ÊòØÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Ê®°ÁâàÔºåtaskRunÊâçÁúüÊ≠£‰ª£Ë°®‰∫Ü‰∏ÄÊ¨°ÂÆûÈôÖÁöÑËøêË°åÔºåÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•Ëá™Â∑±ÊâãÂä®ÂàõÂª∫‰∏Ä‰∏™taskRunÔºåtaskRunÂàõÂª∫Âá∫Êù•‰πãÂêéÔºåÂ∞±‰ºöËá™Âä®Ëß¶ÂèëtaskÊèèËø∞ÁöÑÊûÑÂª∫‰ªªÂä°„ÄÇ&lt;br&gt;
‚Ä¢	PipelineÔºö‰∏Ä‰∏™ÊàñÂ§ö‰∏™task„ÄÅPipelineResource‰ª•ÂèäÂêÑÁßçÂÆö‰πâÂèÇÊï∞ÁöÑÈõÜÂêà„ÄÇ&lt;br&gt;
‚Ä¢	PipelineRunÔºöÁ±ª‰ººtaskÂíåtaskRunÁöÑÂÖ≥Á≥ªÔºåpipelineRun‰πüË°®Á§∫Êüê‰∏ÄÊ¨°ÂÆûÈôÖËøêË°åÁöÑpipelineÔºå‰∏ãÂèë‰∏Ä‰∏™pipelineRun CRDÂÆû‰æãÂà∞kubernetesÂêéÔºåÂêåÊ†∑‰πü‰ºöËß¶Âèë‰∏ÄÊ¨°pipelineÁöÑÊûÑÂª∫„ÄÇ&lt;br&gt;
‚Ä¢	PipelineResourceÔºöË°®Á§∫pipeline inputËµÑÊ∫êÔºåÊØîÂ¶Çgithub‰∏äÁöÑÊ∫êÁ†ÅÔºåÊàñËÄÖpipeline outputËµÑÊ∫êÔºå‰æãÂ¶Ç‰∏Ä‰∏™ÂÆπÂô®ÈïúÂÉèÊàñËÄÖÊûÑÂª∫ÁîüÊàêÁöÑjarÂåÖÁ≠â„ÄÇ&lt;br&gt;
‰ªñ‰ª¨Â§ßÊ¶ÇÊúâÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÁöÑÂÖ≥Á≥ªÔºö&lt;br&gt;
ÂÆòÊñπ‰ªãÁªçÔºö&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Tekton ÊòØ‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ß‰∏îÁÅµÊ¥ªÁöÑ Kubernetes ÂéüÁîüÂºÄÊ∫êÊ°ÜÊû∂ÔºåÁî®‰∫éÂàõÂª∫ÊåÅÁª≠ÈõÜÊàêÂíå‰∫§‰ªòÔºàCI/CDÔºâÁ≥ªÁªü„ÄÇÈÄöËøáÊäΩË±°Â∫ïÂ±ÇÂÆûÁé∞ÁªÜËäÇÔºåÁî®Êà∑ÂèØ‰ª•Ë∑®Â§ö‰∫ëÂπ≥Âè∞ÂíåÊú¨Âú∞Á≥ªÁªüËøõË°åÊûÑÂª∫„ÄÅÊµãËØïÂíåÈÉ®ÁΩ≤„ÄÇ
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;‰∏™‰∫∫ÁêÜËß£Ôºö
‚Ä¢	‰ª•yamlÊñá‰ª∂ÁºñÊéíÂ∫îÁî®ÊûÑÂª∫ÂèäÈÉ®ÁΩ≤ÊµÅÁ®ã
‚Ä¢	knavtive buildÊ®°ÂùóÂçáÁ∫ßÁâàÔºåÁ§æÂå∫ÊúÄÁªàÈááÁî® Tekton Êõø‰ª£ knavtive Build‰Ωú‰∏∫‰∫ëÂéüÁîüÈ¢ÜÂüüÁöÑCI/CD Ëß£ÂÜ≥ÊñπÊ°à
‚Ä¢	Ê†áÂáÜÂåñCI/CDÊµÅÊ∞¥Á∫øÊûÑÂª∫„ÄÅÊµãËØïÂèäÈÉ®ÁΩ≤ÊµÅÁ®ãÁöÑÂ∑•ÂÖ∑
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;TektonÂú®‰∏Ä‰ºóÁ´û‰∫âÂØπÊâãÁöÑÊØîÊãº‰∏≠PKËÉúÂá∫Ôºö&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588236947460.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;‰∏ãÈù¢Â∞±ËÆ©Êàë‰ª¨‰∏ÄËµ∑Êù•Ê∑±ÂÖ•ËØ¶ÁªÜ‰∫ÜËß£‰∏ãTektonÂà∞Â∫ïÊÄé‰πàÁé©„ÄÇ&lt;br&gt;
Tekton Pipeline‰∏≠Êúâ5Á±ªÂØπË±°ÔºåÊ†∏ÂøÉÁêÜÂøµÊòØÈÄöËøáÂÆö‰πâyamlÂÆö‰πâÊûÑÂª∫ËøáÁ®ã„ÄÇ&lt;br&gt;
‚Ä¢	TaskÔºö‰∏Ä‰∏™‰ªªÂä°ÁöÑÊâßË°åÊ®°ÊùøÔºåÁî®‰∫éÊèèËø∞Âçï‰∏™‰ªªÂä°ÁöÑÊûÑÂª∫ËøáÁ®ã&lt;br&gt;
‚Ä¢	TaskRunÔºöÈúÄË¶ÅÈÄöËøáÂÆö‰πâTaskRun‰ªªÂä°ÂéªËøêË°åTask„ÄÇ&lt;br&gt;
‚Ä¢	PipelineÔºöÂåÖÂê´Â§ö‰∏™Task,Âπ∂Âú®Ê≠§Âü∫Á°Ä‰∏äÂÆö‰πâinputÂíåoutput,inputÂíåoutput‰ª•PipelineResource‰Ωú‰∏∫‰∫§‰ªò„ÄÇ&lt;br&gt;
‚Ä¢	PipelineRunÔºöÈúÄË¶ÅÂÆö‰πâPipelineRunÊâç‰ºöËøêË°åPipeline„ÄÇ&lt;br&gt;
‚Ä¢	PipelineResourceÔºöÂèØÁî®‰∫éinputÂíåoutputÁöÑÂØπË±°ÈõÜÂêà„ÄÇ&lt;/p&gt;
&lt;h3 id=&#34;task&#34;&gt;Task&lt;/h3&gt;
&lt;p&gt;Task Â∞±ÊòØ‰∏Ä‰∏™‰ªªÂä°ÊâßË°åÊ®°ÊùøÔºå‰πãÊâÄ‰ª•ËØ¥ Task ÊòØ‰∏Ä‰∏™Ê®°ÊùøÊòØÂõ†‰∏∫ Task ÂÆö‰πâ‰∏≠ÂèØ‰ª•ÂåÖÂê´ÂèòÈáèÔºåTask Âú®ÁúüÊ≠£ÊâßË°åÁöÑÊó∂ÂÄôÈúÄË¶ÅÁªôÂÆöÂèòÈáèÁöÑÂÖ∑‰ΩìÂÄº„ÄÇÂ¶ÇÊûúÊää Tekton ÁöÑ Task ÊúâÁÇπÂÑøÁ±ª‰ºº‰∫éÂÆö‰πâ‰∏Ä‰∏™ÂáΩÊï∞ÔºåTask ÈÄöËøá inputs.params ÂÆö‰πâÈúÄË¶ÅÂì™‰∫õÂÖ•ÂèÇÔºåÂπ∂‰∏îÊØè‰∏Ä‰∏™ÂÖ•ÂèÇËøòÂèØ‰ª•ÊåáÂÆöÈªòËÆ§ÂÄº„ÄÇTask ÁöÑ steps Â≠óÊÆµË°®Á§∫ÂΩìÂâç Task ÊòØÊúâÂì™‰∫õÊ≠•È™§ÁªÑÊàêÁöÑÔºåÊØè‰∏Ä‰∏™Ê≠•È™§ÂÖ∑‰ΩìÂ∞±ÊòØÂü∫‰∫éÈïúÂÉèÂêØÂä®‰∏Ä‰∏™ container ÊâßË°å‰∏Ä‰∫õÊìç‰ΩúÔºåcontainer ÁöÑÂêØÂä®ÂèÇÊï∞ÂèØ‰ª•ÈÄöËøá Task ÁöÑÂÖ•ÂèÇ‰ΩøÁî®Ê®°ÊùøËØ≠Ê≥ïËøõË°åÈÖçÁΩÆ„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™DemoÔºö&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588236983683.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;taskrun&#34;&gt;TaskRun&lt;/h3&gt;
&lt;p&gt;Task ÂÆö‰πâÂ•Ω‰ª•ÂêéÊòØ‰∏çËÉΩÊâßË°åÁöÑÔºåÂ∞±ÂÉè‰∏Ä‰∏™ÂáΩÊï∞ÂÆö‰πâÂ•Ω‰ª•ÂêéÈúÄË¶ÅË∞ÉÁî®ÊâçËÉΩÊâßË°å‰∏ÄÊ†∑„ÄÇÊâÄ‰ª•ÈúÄË¶ÅÂÜçÂÆö‰πâ‰∏Ä‰∏™ TaskRun ÂéªÊâßË°å Task„ÄÇ&lt;br&gt;
TaskRun ‰∏ªË¶ÅÊòØË¥üË¥£ËÆæÁΩÆ Task ÈúÄË¶ÅÁöÑÂèÇÊï∞ÔºåÂπ∂ÈÄöËøá taskRef Â≠óÊÆµÂºïÁî®Ë¶ÅÊâßË°åÁöÑ Task„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™DemoÔºö&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588237005091.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;‰ΩÜÊòØÂú®ÂÆûÈôÖ‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨‰∏ÄËà¨ÂæàÂ∞ë‰ΩøÁî®TaskRunÔºåÂõ†‰∏∫ÂÆÉÂè™ËÉΩÁªô‰∏ç‰∏Ä‰∏™Task ‰º†ÂèÇÔºåTektonÊèê‰æõ‰∫ÜÁªôÂ§ö‰∏™TaskÂêåÊó∂‰º†ÂèÇÁöÑËß£ÂÜ≥ÊñπÊ°àPipelineÂíåPipelineRunÔºå‰∏îÁúã‰∏ãÊñáËØ¶Ëß£ÔºåËøôÈáåÂè™ÊòØÂ§öÂò¥‰∏Ä‰∏ãÔºåËøô‰∏™TaskRunÂæàÂ∞ë‰ΩøÁî®ÔºåÁ®çÂæÆ‰∫ÜËß£‰∏ãÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ&lt;/p&gt;
&lt;h3 id=&#34;pipeline&#34;&gt;Pipeline&lt;/h3&gt;
&lt;p&gt;‰∏Ä‰∏™ TaskRun Âè™ËÉΩÊâßË°å‰∏Ä‰∏™ TaskÔºåÂΩìÈúÄË¶ÅÁºñÊéíÂ§ö‰∏™ Task ÁöÑÊó∂ÂÄôÂ∞±ÈúÄË¶Å Pipeline Âá∫È©¨‰∫Ü„ÄÇPipeline ÊòØ‰∏Ä‰∏™ÁºñÊéí Task ÁöÑÊ®°Êùø„ÄÇPipeline ÁöÑ params Â£∞Êòé‰∫ÜÊâßË°åÊó∂ÈúÄË¶ÅÁöÑÂÖ•ÂèÇ„ÄÇ Pipeline ÁöÑ spec.tasks ÂÆö‰πâ‰∫ÜÈúÄË¶ÅÁºñÊéíÁöÑ Task„ÄÇTasks ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÊï∞ÁªÑ‰∏≠ÁöÑ task Âπ∂‰∏çÊòØÈÄöËøáÊï∞ÁªÑÂ£∞ÊòéÁöÑÈ°∫Â∫èÂéªÊâßË°åÁöÑÔºåËÄåÊòØÈÄöËøá runAfter Êù•Â£∞Êòé task ÊâßË°åÁöÑÈ°∫Â∫è„ÄÇTekton controller Âú®Ëß£Êûê CRD ÁöÑÊó∂ÂÄô‰ºöËß£Êûê Task ÁöÑÈ°∫Â∫èÔºåÁÑ∂ÂêéÊ†πÊçÆ runAfter ËÆæÁΩÆÁîüÊàêÁöÑ‰æùÊ¨°Ê†ë‰æùÊ¨°ÂéªÊâßË°å„ÄÇPipeline Âú®ÁºñÊéí Task ÁöÑÊó∂ÂÄôÈúÄË¶ÅÁªôÊØè‰∏Ä‰∏™ Task ‰º†ÂÖ•ÂøÖÈ°ªÁöÑÂèÇÊï∞ÔºåËøô‰∫õÂèÇÊï∞ÁöÑÂÄºÂèØ‰ª•Êù•Ëá™ Pipeline Ëá™Ë∫´ÁöÑ params ËÆæÁΩÆ„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™DemoÔºö&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588237033509.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588237113343.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;pipelinerun&#34;&gt;PipelineRun&lt;/h3&gt;
&lt;p&gt;Âíå Task ‰∏ÄÊ†∑ Pipeline ÂÆö‰πâÂÆåÊàê‰ª•Âêé‰πüÊòØ‰∏çËÉΩÁõ¥Êé•ÊâßË°åÁöÑÔºåÈúÄË¶Å PipelineRun ÊâçËÉΩÊâßË°å Pipeline„ÄÇPipelineRun ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÁªô Pipeline ‰º†ÂÖ•ÂøÖË¶ÅÁöÑÂÖ•ÂèÇÔºåÂπ∂ÊâßË°å Pipeline„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™DemoÔºö&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588237145814.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588237151158.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;pipelineresource&#34;&gt;PipelineResource&lt;/h3&gt;
&lt;p&gt;ÂèØËÉΩ‰Ω†ËøòÊÉ≥Âú® Task ‰πãÈó¥ÂÖ±‰∫´ËµÑÊ∫êÔºåËøôÂ∞±ÊòØ PipelineResource ÁöÑ‰ΩúÁî®„ÄÇÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•Êää git ‰ªìÂ∫ì‰ø°ÊÅØÊîæÂú® PipelineResource ‰∏≠„ÄÇËøôÊ†∑ÊâÄÊúâ Task Â∞±ÂèØ‰ª•ÂÖ±‰∫´Ëøô‰∫õ‰ø°ÊÅØ‰∫Ü„ÄÇ&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588237189249.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588237194640.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588237221271.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;ÂÆûÊàò&#34;&gt;ÂÆûÊàò&lt;/h1&gt;
&lt;p&gt;ÂÖ≥‰∫éTektonÁöÑÂÆûÊàòÔºåÂèØ‰ª•ÂèÇËÄÉGithubÈáåÈù¢ÁöÑËøô‰∏™ÂÆåÊï¥ÁöÑDemoÔºåÈáåÈù¢ÊòØ‰∏Ä‰∏™goËØ≠Ë®ÄÂêßÁºñÂÜôÁöÑwebÊúçÂä°ÔºåÊé•Âè£ÂèØ‰ª•ÊâìÂç∞&amp;quot;Hello world&amp;quot;„ÄÇÊó∂Èó¥ÊúâÈôêÔºåÂ∞±‰∏çÂÅöÊºîÁ§∫‰∫ÜÔºåÊÑüÂÖ¥Ë∂£ÁöÑÂèØ‰ª•Âú®Ëá™Â∑±ÁöÑk8sÈõÜÁæ§‰∏äÈù¢Ë∑ë‰∏Ä‰∏ãÊÑüÂèó‰∏Ä‰∏ãÔºåÁõ∏ÂÖ≥ÁöÑyamlÊñá‰ª∂‰πüÂèØ‰ª•Êã∑Ë¥ù‰∏ãÊù•Ôºå‰Ωú‰∏∫ÂêéÈù¢ÊîπÂÜôÁöÑÊ®°Êùø„ÄÇ&lt;br&gt;
ÂáÜÂ§á PIpeline ÁöÑËµÑÊ∫ê&lt;br&gt;
kubectl apply -f tasks/source-to-image.yaml -f tasks/deploy-using-kubectl.yaml  -f resources/picalc-git.yaml -f image-secret.yaml -f pipeline-account.yaml -f pipeline/build-and-deploy-pipeline.yaml&lt;br&gt;
ÊâßË°å create Êää pipelieRun Êèê‰∫§Âà∞ Kubernetes ÈõÜÁæ§„ÄÇ‰πãÊâÄ‰ª•ËøôÈáå‰ΩøÁî® create ËÄå‰∏çÊòØ‰ΩøÁî® apply ÊòØÂõ†‰∏∫ PIpelineRun ÊØèÊ¨°ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÔºåkubectl ÁöÑ create Êåá‰ª§‰ºöÂü∫‰∫é generateName ÂàõÂª∫Êñ∞ÁöÑ PIpelineRun ËµÑÊ∫ê„ÄÇ&lt;br&gt;
kubectl create -f run/picalc-pipeline-run.yaml&lt;/p&gt;
&lt;h1 id=&#34;ÊÄªÁªì&#34;&gt;ÊÄªÁªì&lt;/h1&gt;
&lt;p&gt;Tekton‰ª•K8S‰∏∫‰æùÊâòÔºåÊàê‰∏∫‰∫ëÂéüÁîüÈ¢ÜÂüüCI/CDÁöÑ‰∫ãÂÆûÊÄßÊ†áÂáÜÔºåÂ∏ÆÂä©Êàë‰ª¨ÊèêÈ´ò‰∫ëÂéüÁîüÁéØÂ¢É‰∏ãÁöÑÂ∫îÁî®ÊûÑÂª∫ÂíåÈÉ®ÁΩ≤ÊïàÁéá„ÄÇ&lt;br&gt;
Êù•‰∏ÄÂº†ÂõæÂØπÂÖ®ÊñáÂÅö‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊÄªÁªìÔºö&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;http://lvelvis.github.io/post-images/1588236724398.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;ÂèÇËÄÉËµÑÊñô&#34;&gt;ÂèÇËÄÉËµÑÊñô&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://cloud.google.com/tekton/&#34;&gt;TektonÂÆòÁΩë&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/knative-sample/tekton-knative/tree/b1.0?spm=ata.13261165.0.0.21213a182xyMm5&amp;amp;file=b1.0&#34;&gt;Tekton Demo&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
">kubernetes Tekton-CI/CD ÊåÅÁª≠ÈõÜÊàêÊµÅÊ∞¥Á∫ø</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/kubernetesÊê≠Âª∫rook-ceph/"" data-c="
          &lt;h1 id=&#34;ÁÆÄ‰ªã&#34;&gt;ÁÆÄ‰ªã&lt;/h1&gt;
&lt;p&gt;RookÂÆòÁΩëÔºöhttps://rook.io&lt;br&gt;
RookÊòØ‰∫ëÂéüÁîüËÆ°ÁÆóÂü∫Èáë‰ºö(CNCF)ÁöÑÂ≠µÂåñÁ∫ßÈ°πÁõÆ.&lt;br&gt;
RookÊòØKubernetesÁöÑÂºÄÊ∫ê‰∫ëÊú¨Âú∞Â≠òÂÇ®ÂçèË∞ÉÂô®Ôºå‰∏∫ÂêÑÁßçÂ≠òÂÇ®Ëß£ÂÜ≥ÊñπÊ°àÊèê‰æõÂπ≥Âè∞ÔºåÊ°ÜÊû∂ÂíåÊîØÊåÅÔºå‰ª•‰æø‰∏é‰∫ëÂéüÁîüÁéØÂ¢ÉÊú¨Âú∞ÈõÜÊàê„ÄÇ&lt;br&gt;
Ëá≥‰∫éCEPHÔºåÂÆòÁΩëÂú®ËøôÔºöhttps://ceph.com/&lt;br&gt;
cephÂÆòÊñπÊèê‰æõÁöÑhelmÈÉ®ÁΩ≤ÔºåËá≥‰ªäÊàëÊ≤°ÊàêÂäüËøáÔºåÊâÄ‰ª•ËΩ¨Âêë‰ΩøÁî®rookÊèê‰æõÁöÑÊñπÊ°à&lt;br&gt;
ÊúâÈÅìÁ¨îËÆ∞ÂéüÊñáÔºöhttp://note.youdao.com/noteshare?id=281719f1f0374f787effc90067e0d5ad&amp;amp;sub=0B59EA339D4A4769B55F008D72C1A4C0&lt;/p&gt;
&lt;h1 id=&#34;ÁéØÂ¢É&#34;&gt;ÁéØÂ¢É&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;centos 7.5
kernel 4.18.7-1.el7.elrepo.x86_64
docker 18.06
kubernetes v1.12.2
    kubeadmÈÉ®ÁΩ≤Ôºö
        ÁΩëÁªú: canal
        DNS: coredns
    ÈõÜÁæ§ÊàêÂëòÔºö    
    192.168.1.1 kube-master
    192.168.1.2 kube-node1
    192.168.1.3 kube-node2
    192.168.1.4 kube-node3
    192.168.1.5 kube-node4

ÊâÄÊúânodeËäÇÁÇπÂáÜÂ§á‰∏ÄÂùó200GÁöÑÁ£ÅÁõòÔºö/dev/sdb
kubernetesÊê≠Âª∫rook-ceph
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;http://lvelvis.github.io/post-images/1588233297037.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;ÂáÜÂ§áÂ∑•‰Ωú&#34;&gt;ÂáÜÂ§áÂ∑•‰Ωú&lt;/h1&gt;
&lt;p&gt;ÊâÄÊúâËäÇÁÇπÂºÄÂêØip_forward&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cat &amp;lt;&amp;lt;EOF &amp;gt;  /etc/sysctl.d/ceph.conf
net.ipv4.ip_forward = 1
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;sysctl -p&lt;/p&gt;
&lt;h1 id=&#34;ÂºÄÂßãÈÉ®ÁΩ≤operator&#34;&gt;ÂºÄÂßãÈÉ®ÁΩ≤Operator&lt;/h1&gt;
&lt;h2 id=&#34;ÈÉ®ÁΩ≤rook-operator&#34;&gt;ÈÉ®ÁΩ≤Rook Operator&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;cd $HOME
git clone https://github.com/rook/rook.git

cd rook
cd cluster/examples/kubernetes/ceph
kubectl apply -f operator.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;http://lvelvis.github.io/post-images/1588233371696.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;Êü•ÁúãoperatorÁöÑÁä∂ÊÄÅ&#34;&gt;Êü•ÁúãOperatorÁöÑÁä∂ÊÄÅ&lt;/h2&gt;
&lt;p&gt;ÊâßË°åapply‰πãÂêéÁ®çÁ≠â‰∏Ä‰ºö&lt;br&gt;
operator‰ºöÂú®ÈõÜÁæ§ÂÜÖÁöÑÊØè‰∏™‰∏ªÊú∫ÂàõÂª∫‰∏§‰∏™pod:rook-discover,rook-ceph-agent&lt;/p&gt;
&lt;p&gt;kubectl -n rook-ceph-system get pod -o wide&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588233523024.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ÁªôËäÇÁÇπÊâìÊ†áÁ≠æ&#34;&gt;ÁªôËäÇÁÇπÊâìÊ†áÁ≠æ&lt;/h2&gt;
&lt;p&gt;ËøêË°åceph-monÁöÑËäÇÁÇπÊâì‰∏äÔºöceph-mon=enabled&lt;br&gt;
kubectl label nodes {kube-node1,kube-node2,kube-node3} ceph-mon=enabled&lt;br&gt;
ËøêË°åceph-osdÁöÑËäÇÁÇπÔºå‰πüÂ∞±ÊòØÂ≠òÂÇ®ËäÇÁÇπÔºåÊâì‰∏äÔºöceph-osd=enabled&lt;br&gt;
kubectl label nodes {kube-node1,kube-node2,kube-node3} ceph-osd=enabled&lt;br&gt;
ËøêË°åceph-mgrÁöÑËäÇÁÇπÔºåÊâì‰∏äÔºöceph-mgr=enabled&lt;br&gt;
mgrÂè™ËÉΩÊîØÊåÅ‰∏Ä‰∏™ËäÇÁÇπËøêË°åÔºåËøôÊòØcephË∑ëk8sÈáåÁöÑÂ±ÄÈôê&lt;br&gt;
kubectl label nodes kube-node1 ceph-mgr=enabled&lt;/p&gt;
&lt;h2 id=&#34;ÈÖçÁΩÆclusteryamlÊñá‰ª∂&#34;&gt;ÈÖçÁΩÆcluster.yamlÊñá‰ª∂&lt;/h2&gt;
&lt;p&gt;ÂÆòÊñπÈÖçÁΩÆÊñá‰ª∂ËØ¶Ëß£Ôºöhttps://rook.io/docs/rook/v0.8/ceph-cluster-crd.html&lt;br&gt;
Êñá‰ª∂‰∏≠ÊúâÂá†‰∏™Âú∞ÊñπË¶ÅÊ≥®ÊÑèÔºö&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dataDirHostPath: Ëøô‰∏™Ë∑ØÂæÑÊòØ‰ºöÂú®ÂÆø‰∏ªÊú∫‰∏äÁîüÊàêÁöÑÔºå‰øùÂ≠òÁöÑÊòØcephÁöÑÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÂÜçÈáçÊñ∞ÁîüÊàê*ÈõÜÁæ§ÁöÑÊó∂ÂÄôË¶ÅÁ°Æ‰øùËøô‰∏™ÁõÆÂΩï‰∏∫Á©∫ÔºåÂê¶Âàômon‰ºöÊó†Ê≥ïÂêØÂä®&lt;/li&gt;
&lt;li&gt;useAllDevices: ‰ΩøÁî®ÊâÄÊúâÁöÑËÆæÂ§áÔºåÂª∫ËÆÆ‰∏∫falseÔºåÂê¶Âàô‰ºöÊääÂÆø‰∏ªÊú∫ÊâÄÊúâÂèØÁî®ÁöÑÁ£ÅÁõòÈÉΩÂπ≤Êéâ&lt;/li&gt;
&lt;li&gt;useAllNodesÔºö‰ΩøÁî®ÊâÄÊúâÁöÑnodeËäÇÁÇπÔºåÂª∫ËÆÆ‰∏∫falseÔºåËÇØÂÆö‰∏ç‰ºöÁî®k8sÈõÜÁæ§ÂÜÖÁöÑÊâÄÊúânodeÊù•Êê≠Âª∫cephÁöÑ&lt;/li&gt;
&lt;li&gt;databaseSizeMBÂíåjournalSizeMBÔºöÂΩìÁ£ÅÁõòÂ§ß‰∫é100GÁöÑÊó∂ÂÄôÔºåÂ∞±Ê≥®ÈáäËøô‰ø©È°πÂ∞±Ë°å‰∫Ü&lt;br&gt;
Êú¨Ê¨°ÂÆûÈ™åÁî®Âà∞ÁöÑ cluster.yaml Êñá‰ª∂ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: v1
kind: Namespace
metadata:
  name: rook-ceph
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: rook-ceph-cluster
  namespace: rook-ceph
---
kind: Role
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  name: rook-ceph-cluster
  namespace: rook-ceph
rules:
- apiGroups: [&amp;quot;&amp;quot;]
  resources: [&amp;quot;configmaps&amp;quot;]
  verbs: [ &amp;quot;get&amp;quot;, &amp;quot;list&amp;quot;, &amp;quot;watch&amp;quot;, &amp;quot;create&amp;quot;, &amp;quot;update&amp;quot;, &amp;quot;delete&amp;quot; ]
---
# Allow the operator to create resources in this cluster&#39;s namespace
kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  name: rook-ceph-cluster-mgmt
  namespace: rook-ceph
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: rook-ceph-cluster-mgmt
subjects:
- kind: ServiceAccount
  name: rook-ceph-system
  namespace: rook-ceph-system
---
# Allow the pods in this namespace to work with configmaps
kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  name: rook-ceph-cluster
  namespace: rook-ceph
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: rook-ceph-cluster
subjects:
- kind: ServiceAccount
  name: rook-ceph-cluster
  namespace: rook-ceph
---
apiVersion: ceph.rook.io/v1beta1
kind: Cluster
metadata:
  name: rook-ceph
  namespace: rook-ceph
spec:
  cephVersion:
    # The container image used to launch the Ceph daemon pods (mon, mgr, osd, mds, rgw).
    # v12 is luminous, v13 is mimic, and v14 is nautilus.
    # RECOMMENDATION: In production, use a specific version tag instead of the general v13 flag, which pulls the latest release and could result in different
    # versions running within the cluster. See tags available at https://hub.docker.com/r/ceph/ceph/tags/.
    image: ceph/ceph:v13
    # Whether to allow unsupported versions of Ceph. Currently only luminous and mimic are supported.
    # After nautilus is released, Rook will be updated to support nautilus.
    # Do not set to true in production.
    allowUnsupported: false
  # The path on the host where configuration files will be persisted. If not specified, a kubernetes emptyDir will be created (not recommended).
  # Important: if you reinstall the cluster, make sure you delete this directory from each host or else the mons will fail to start on the new cluster.
  # In Minikube, the &#39;/data&#39; directory is configured to persist across reboots. Use &amp;quot;/data/rook&amp;quot; in Minikube environment.
  dataDirHostPath: /var/lib/rook
  # The service account under which to run the daemon pods in this cluster if the default account is not sufficient (OSDs)
  serviceAccount: rook-ceph-cluster
  # set the amount of mons to be started
  # countÂèØ‰ª•ÂÆö‰πâceph-monËøêË°åÁöÑÊï∞ÈáèÔºåËøôÈáåÈªòËÆ§‰∏â‰∏™Â∞±Ë°å‰∫Ü
  mon:
    count: 3
    allowMultiplePerNode: true
  # enable the ceph dashboard for viewing cluster status
  # ÂºÄÂêØcephËµÑÊ∫êÈù¢Êùø
  dashboard:
    enabled: true
    # serve the dashboard under a subpath (useful when you are accessing the dashboard via a reverse proxy)
    # urlPrefix: /ceph-dashboard
  network:
    # toggle to use hostNetwork
    # ‰ΩøÁî®ÂÆø‰∏ªÊú∫ÁöÑÁΩëÁªúËøõË°åÈÄöËÆØ
    # ‰ΩøÁî®ÂÆø‰∏ªÊú∫ÁöÑÁΩëÁªúË≤å‰ººÂèØ‰ª•ËÆ©ÈõÜÁæ§Â§ñÁöÑ‰∏ªÊú∫ÊåÇËΩΩceph
    # ‰ΩÜÊòØÊàëÊ≤°ËØïËøáÔºåÊúâÂÖ¥Ë∂£ÁöÑÂÖÑÂºüÂèØ‰ª•ËØïËØïÊîπÊàêtrue
    # ÂèçÊ≠£ËøôÈáåÂè™ÊòØÈõÜÁæ§ÂÜÖÁî®ÔºåÊàëÂ∞±‰∏çÊîπ‰∫Ü
    hostNetwork: false
  # To control where various services will be scheduled by kubernetes, use the placement configuration sections below.
  # The example under &#39;all&#39; would have all services scheduled on kubernetes nodes labeled with &#39;role=storage-node&#39; and
  # tolerate taints with a key of &#39;storage-node&#39;.
  placement:
#    all:
#      nodeAffinity:
#        requiredDuringSchedulingIgnoredDuringExecution:
#          nodeSelectorTerms:
#          - matchExpressions:
#            - key: role
#              operator: In
#              values:
#              - storage-node
#      podAffinity:
#      podAntiAffinity:
#      tolerations:
#      - key: storage-node
#        operator: Exists
# The above placement information can also be specified for mon, osd, and mgr components
#    mon:
#    osd:
#    mgr:
# nodeAffinityÔºöÈÄöËøáÈÄâÊã©Ê†áÁ≠æÁöÑÊñπÂºèÔºåÂèØ‰ª•ÈôêÂà∂podË¢´Ë∞ÉÂ∫¶Âà∞ÁâπÂÆöÁöÑËäÇÁÇπ‰∏ä
# Âª∫ËÆÆÈôêÂà∂‰∏Ä‰∏ãÔºå‰∏∫‰∫ÜËÆ©ËøôÂá†‰∏™pod‰∏ç‰π±Ë∑ë
    mon:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: ceph-mon
              operator: In
              values:
              - enabled
    osd:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: ceph-osd
              operator: In
              values:
              - enabled
    mgr:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: ceph-mgr
              operator: In
              values:
              - enabled
  resources:
# The requests and limits set here, allow the mgr pod to use half of one CPU core and 1 gigabyte of memory
#    mgr:
#      limits:
#        cpu: &amp;quot;500m&amp;quot;
#        memory: &amp;quot;1024Mi&amp;quot;
#      requests:
#        cpu: &amp;quot;500m&amp;quot;
#        memory: &amp;quot;1024Mi&amp;quot;
# The above example requests/limits can also be added to the mon and osd components
#    mon:
#    osd:
  storage: # cluster level storage configuration and selection
    useAllNodes: false
    useAllDevices: false
    deviceFilter:
    location:
    config:
      # The default and recommended storeType is dynamically set to bluestore for devices and filestore for directories.
      # Set the storeType explicitly only if it is required not to use the default.
      # storeType: bluestore
      # databaseSizeMB: &amp;quot;1024&amp;quot; # this value can be removed for environments with normal sized disks (100 GB or larger)
      # journalSizeMB: &amp;quot;1024&amp;quot;  # this value can be removed for environments with normal sized disks (20 GB or larger)
# Cluster level list of directories to use for storage. These values will be set for all nodes that have no `directories` set.
#    directories:
#    - path: /rook/storage-dir
# Individual nodes and their config can be specified as well, but &#39;useAllNodes&#39; above must be set to false. Then, only the named
# nodes below will be used as storage resources.  Each node&#39;s &#39;name&#39; field should match their &#39;kubernetes.io/hostname&#39; label.
#Âª∫ËÆÆÁ£ÅÁõòÈÖçÁΩÆÊñπÂºèÂ¶Ç‰∏ãÔºö
#name: ÈÄâÊã©‰∏Ä‰∏™ËäÇÁÇπÔºåËäÇÁÇπÂêçÂ≠ó‰∏∫kubernetes.io/hostnameÁöÑÊ†áÁ≠æÔºå‰πüÂ∞±ÊòØkubectl get nodesÁúãÂà∞ÁöÑÂêçÂ≠ó
#devices: ÈÄâÊã©Á£ÅÁõòËÆæÁΩÆ‰∏∫OSD
# - name: &amp;quot;sdb&amp;quot;:Â∞Ü/dev/sdbËÆæÁΩÆ‰∏∫osd
    nodes:
    - name: &amp;quot;kube-node1&amp;quot;
      devices:
      - name: &amp;quot;sdb&amp;quot;
    - name: &amp;quot;kube-node2&amp;quot;
      devices:
      - name: &amp;quot;sdb&amp;quot;
    - name: &amp;quot;kube-node3&amp;quot;
      devices:
      - name: &amp;quot;sdb&amp;quot;

#      directories: # specific directories to use for storage can be specified for each node
#      - path: &amp;quot;/rook/storage-dir&amp;quot;
#      resources:
#        limits:
#          cpu: &amp;quot;500m&amp;quot;
#          memory: &amp;quot;1024Mi&amp;quot;
#        requests:
#          cpu: &amp;quot;500m&amp;quot;
#          memory: &amp;quot;1024Mi&amp;quot;
#    - name: &amp;quot;172.17.4.201&amp;quot;
#      devices: # specific devices to use for storage can be specified for each node
#      - name: &amp;quot;sdb&amp;quot;
#      - name: &amp;quot;sdc&amp;quot;
#      config: # configuration can be specified at the node level which overrides the cluster level config
#        storeType: filestore
#    - name: &amp;quot;172.17.4.301&amp;quot;
#      deviceFilter: &amp;quot;^sd.&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ÂºÄÂßãÈÉ®ÁΩ≤ceph&#34;&gt;ÂºÄÂßãÈÉ®ÁΩ≤ceph&lt;/h2&gt;
&lt;p&gt;ÈÉ®ÁΩ≤ceph&lt;br&gt;
kubectl apply -f cluster.yaml&lt;br&gt;
cluster‰ºöÂú®rook-cephËøô‰∏™namesapceÂàõÂª∫ËµÑÊ∫ê&lt;br&gt;
ÁúãÂà∞ÊâÄÊúâÁöÑpodÈÉΩRunningÂ∞±Ë°å‰∫Ü&lt;br&gt;
Ê≥®ÊÑèÁúã‰∏Ä‰∏ãpodÂàÜÂ∏ÉÁöÑÂÆø‰∏ªÊú∫ÔºåË∑üÊàë‰ª¨ÊâìÊ†áÁ≠æÁöÑ‰∏ªÊú∫ÊòØ‰∏ÄËá¥ÁöÑ&lt;br&gt;
kubectl -n rook-ceph get pod -o wide&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588233756856.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;ÂàáÊç¢Âà∞ÂÖ∂‰ªñ‰∏ªÊú∫Áúã‰∏Ä‰∏ãÁ£ÅÁõò&lt;/p&gt;
&lt;p&gt;ÂàáÊç¢Âà∞kube-node1&lt;br&gt;
lsblk&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588233803458.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ÈÖçÁΩÆceph-dashboard&#34;&gt;ÈÖçÁΩÆceph dashboard&lt;/h2&gt;
&lt;p&gt;Áúã‰∏ÄÁúºdashboardÂú®Âì™‰∏™service‰∏ä&lt;br&gt;
kubectl -n rook-ceph get service&lt;br&gt;
ÂèØ‰ª•ÁúãÂà∞dashboardÁõëÂê¨‰∫Ü8443Á´ØÂè£&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588233853544.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;ÂàõÂª∫‰∏™nodeportÁ±ªÂûãÁöÑservice‰ª•‰æøÈõÜÁæ§Â§ñÈÉ®ËÆøÈóÆ&lt;br&gt;
kubectl apply -f dashboard-external-https.yaml&lt;/p&gt;
&lt;p&gt;Êü•Áúã‰∏Ä‰∏ãnodeportÂú®Âì™‰∏™Á´ØÂè£&lt;br&gt;
kubectl -n rook-ceph get service&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588233909644.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;ÊâæÂá∫DashboardÁöÑÁôªÈôÜË¥¶Âè∑ÂíåÂØÜÁ†Å&lt;br&gt;
MGR_POD=&lt;code&gt;kubectl get pod -n rook-ceph | grep mgr | awk &#39;{print $1}&#39;&lt;/code&gt;&lt;br&gt;
kubectl -n rook-ceph logs $MGR_POD | grep password&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588233955731.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;ÊâìÂºÄÊµèËßàÂô®ËæìÂÖ•‰ªªÊÑè‰∏Ä‰∏™NodeÁöÑIP+nodeportÁ´ØÂè£&lt;br&gt;
ËøôÈáåÊàëÁöÑÂ∞±ÊòØÔºöhttps://192.168.1.2:30290&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588234024005.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588234065656.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ÈÖçÁΩÆceph‰∏∫storageclass&#34;&gt;ÈÖçÁΩÆceph‰∏∫storageclass&lt;/h2&gt;
&lt;p&gt;ÂÆòÊñπÁªô‰∫Ü‰∏Ä‰∏™Ê†∑Êú¨Êñá‰ª∂Ôºöstorageclass.yaml&lt;br&gt;
Ëøô‰∏™Êñá‰ª∂‰ΩøÁî®ÁöÑÊòØ RBD ÂùóÂ≠òÂÇ®&lt;br&gt;
poolÂàõÂª∫ËØ¶Ëß£Ôºöhttps://rook.io/docs/rook/v0.8/ceph-pool-crd.html&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: ceph.rook.io/v1beta1
kind: Pool
metadata:
  #Ëøô‰∏™nameÂ∞±ÊòØÂàõÂª∫Êàêceph pool‰πãÂêéÁöÑpoolÂêçÂ≠ó
  name: replicapool
  namespace: rook-ceph
spec:
  replicated:
    size: 1
  # size Ê±†‰∏≠Êï∞ÊçÆÁöÑÂâØÊú¨Êï∞,1Â∞±ÊòØ‰∏ç‰øùÂ≠ò‰ªª‰ΩïÂâØÊú¨
  failureDomain: osd
  #  failureDomainÔºöÊï∞ÊçÆÂùóÁöÑÊïÖÈöúÂüüÔºå
  #  ÂÄº‰∏∫hostÊó∂ÔºåÊØè‰∏™Êï∞ÊçÆÂùóÂ∞ÜÊîæÁΩÆÂú®‰∏çÂêåÁöÑ‰∏ªÊú∫‰∏ä
  #  ÂÄº‰∏∫osdÊó∂ÔºåÊØè‰∏™Êï∞ÊçÆÂùóÂ∞ÜÊîæÁΩÆÂú®‰∏çÂêåÁöÑosd‰∏ä
---
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
   name: ceph
   # StorageClassÁöÑÂêçÂ≠óÔºåpvcË∞ÉÁî®Êó∂Â°´ÁöÑÂêçÂ≠ó
provisioner: ceph.rook.io/block
parameters:
  pool: replicapool
  # Specify the namespace of the rook cluster from which to create volumes.
  # If not specified, it will use `rook` as the default namespace of the cluster.
  # This is also the namespace where the cluster will be
  clusterNamespace: rook-ceph
  # Specify the filesystem type of the volume. If not specified, it will use `ext4`.
  fstype: xfs
# ËÆæÁΩÆÂõûÊî∂Á≠ñÁï•ÈªòËÆ§‰∏∫ÔºöRetain
reclaimPolicy: Retain
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ÂàõÂª∫storageclass&#34;&gt;ÂàõÂª∫StorageClass&lt;/h2&gt;
&lt;p&gt;kubectl apply -f storageclass.yaml&lt;br&gt;
kubectl get storageclasses.storage.k8s.io  -n rook-ceph&lt;br&gt;
kubectl describe storageclasses.storage.k8s.io  -n rook-ceph&lt;br&gt;
kubernetesÊê≠Âª∫rook-ceph&lt;/p&gt;
&lt;p&gt;ÂàõÂª∫‰∏™nginx podÂ∞ùËØïÊåÇËΩΩ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cat &amp;lt;&amp;lt; EOF &amp;gt; nginx.yaml
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: nginx-pvc
spec:
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: 1Gi
  storageClassName: ceph

---
apiVersion: v1
kind: Service
metadata:
  name: nginx
spec:
  selector:
    app: nginx
  ports: 
  - port: 80
    name: nginx-port
    targetPort: 80
    protocol: TCP

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx
spec:
  replicas: 1
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      name: nginx
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx
        ports:
        - containerPort: 80
        volumeMounts:
        - mountPath: /html
          name: http-file
      volumes:
      - name: http-file
        persistentVolumeClaim:
          claimName: nginx-pvc
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;kubectl apply -f nginx.yaml&lt;br&gt;
Êü•Áúãpv,pvcÊòØÂê¶ÂàõÂª∫‰∫Ü&lt;br&gt;
kubectl get pv,pvc&lt;/p&gt;
&lt;p&gt;Áúã‰∏Ä‰∏ãnginxËøô‰∏™pod‰πüËøêË°å‰∫Ü&lt;br&gt;
kubectl get pod&lt;/p&gt;
&lt;p&gt;Âà†Èô§Ëøô‰∏™pod,ÁúãpvÊòØÂê¶ËøòÂ≠òÂú®&lt;br&gt;
kubectl delete -f nginx.yaml&lt;/p&gt;
&lt;p&gt;kubectl get pv,pvc&lt;br&gt;
ÂèØ‰ª•ÁúãÂà∞ÔºåpodÂíåpvcÈÉΩÂ∑≤ÁªèË¢´Âà†Èô§‰∫ÜÔºå‰ΩÜÊòØpvËøòÂú®ÔºÅÔºÅÔºÅ&lt;/p&gt;
&lt;h2 id=&#34;Ê∑ªÂä†Êñ∞ËäÇÁÇπËøõÂÖ•ÈõÜÁæ§&#34;&gt;Ê∑ªÂä†Êñ∞ËäÇÁÇπËøõÂÖ•ÈõÜÁæ§&lt;/h2&gt;
&lt;p&gt;ËøôÊ¨°Êàë‰ª¨Ë¶ÅÊäänode4Ê∑ªÂä†ËøõÈõÜÁæ§ÔºåÂÖàÊâìÊ†áÁ≠æ&lt;br&gt;
kubectl label nodes kube-node4 ceph-osd=enabled&lt;br&gt;
ÈáçÊñ∞ÁºñËæëcluster.yamlÊñá‰ª∂&lt;br&gt;
ÂéüÊù•ÁöÑÂü∫Á°Ä‰∏äÊ∑ªÂä†node4ÁöÑ‰ø°ÊÅØ&lt;/p&gt;
&lt;p&gt;cd $HOME/rook/cluster/examples/kubernetes/ceph/&lt;br&gt;
vi cluster.yam&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588234207475.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;apply‰∏Ä‰∏ãcluster.yamlÊñá‰ª∂&lt;br&gt;
kubectl apply -f cluster.yaml&lt;/p&gt;
&lt;p&gt;ÁõØÁùÄrook-cephÂêçÁß∞Á©∫Èó¥,ÈõÜÁæ§‰ºöËá™Âä®Ê∑ªÂä†node4ËøõÊù•&lt;br&gt;
kubectl -n rook-ceph get pod -o wide -w&lt;br&gt;
kubectl -n rook-ceph get pod -o wide&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588234283568.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588234307875.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
Âéªnode4ËäÇÁÇπÁúã‰∏Ä‰∏ãÁ£ÅÁõò&lt;br&gt;
lsblk&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588234334204.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;Âà†Èô§‰∏Ä‰∏™ËäÇÁÇπ&#34;&gt;Âà†Èô§‰∏Ä‰∏™ËäÇÁÇπ&lt;/h2&gt;
&lt;p&gt;ÂéªÊéânode3ÁöÑÊ†áÁ≠æ&lt;br&gt;
kubectl label nodes kube-node3 ceph-osd-&lt;br&gt;
ÈáçÊñ∞ÁºñËæëcluster.yamlÊñá‰ª∂&lt;br&gt;
Âà†Èô§node3ÁöÑ‰ø°ÊÅØ&lt;br&gt;
cd $HOME/rook/cluster/examples/kubernetes/ceph/&lt;br&gt;
vi cluster.yam&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588234380826.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;apply‰∏Ä‰∏ãcluster.yamlÊñá‰ª∂&lt;br&gt;
kubectl apply -f cluster.yaml&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588234493936.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;kubectl -n rook-ceph get pod -o wide&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588234548709.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;http://lvelvis.github.io/post-images/1588234579591.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ÊúÄÂêéËÆ∞ÂæóÂà†Èô§ÂÆø‰∏ªÊú∫ÁöÑ/var/lib/rookÊñá‰ª∂Â§π&lt;/p&gt;
">kubernetesÊê≠Âª∫rook-ceph</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="http://lvelvis.github.io/post/about/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;Ê¨¢ËøéÊù•Âà∞ÊàëÁöÑÂ∞èÁ´ôÂëÄÔºåÂæàÈ´òÂÖ¥ÈÅáËßÅ‰Ω†ÔºÅü§ù&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ÂÖ≥‰∫éÊú¨Á´ô&#34;&gt;üè† ÂÖ≥‰∫éÊú¨Á´ô&lt;/h2&gt;
&lt;p&gt;ËÆ∞ÂΩïÂπ≥Êó∂ËøêÁª¥Áõ∏ÂÖ≥ÁöÑÊäÄÊúØ:&lt;br&gt;
1.ÁΩëÁªú&lt;br&gt;
2.Á≥ªÁªü&lt;br&gt;
3.ËôöÊãüÂåñ&lt;br&gt;
4.Êï∞ÊçÆÂ∫ì&lt;br&gt;
5.‰∏≠Èó¥‰ª∂&lt;br&gt;
...&lt;/p&gt;
&lt;h2 id=&#34;Âçö‰∏ªÊòØË∞Å&#34;&gt;üë®‚Äçüíª Âçö‰∏ªÊòØË∞Å&lt;/h2&gt;
&lt;p&gt;ÁõÆÂâçÂú®ËÅå‰∫éÂ∑®‰∫∫ÁΩëÁªú&lt;/p&gt;
&lt;h2 id=&#34;ÂÖ¥Ë∂£Áà±Â•Ω&#34;&gt;‚õπ ÂÖ¥Ë∂£Áà±Â•Ω&lt;/h2&gt;
&lt;p&gt;Áï™Ââß FPSÂ∞ÑÂáªÊ∏∏Êàè dota&lt;/p&gt;
&lt;h2 id=&#34;ËÅîÁ≥ªÊàëÂëÄ&#34;&gt;üì¨ ËÅîÁ≥ªÊàëÂëÄ&lt;/h2&gt;
">ÂÖ≥‰∫é</a>
      </div>
      
    </div>
  </div>
</div>
<script>
  // var escape = "[{&#34;content&#34;:&#34;&lt;p&gt;Âú®beego‰∏≠‰ΩøÁî®zapÁÆ°ÁêÜÊó•ÂøóÔºåÂæàÊñπ‰æøüëç&lt;br&gt;\nÈúÄË¶ÅÂú®conf/app.confÂÆö‰πâÂá†‰∏™ÂèÇÊï∞&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;appname = web-terminal\nhttpport = &amp;quot;9600&amp;quot;\n\nrunmode = &amp;quot;prod&amp;quot;\nLogLevel = &amp;quot;info&amp;quot;\nautorender = true\nrecoverpanic = false\ncopyrequestbody = true\nviewspath = &amp;quot;static&amp;quot;\nLogPath = &amp;quot;logs/k8s-websocket.log&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;logger.go&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;package controllers\n\nimport (\n\t&amp;quot;os&amp;quot;\n\n\t&amp;quot;github.com/astaxie/beego&amp;quot;\n\t&amp;quot;github.com/natefinch/lumberjack&amp;quot;\n\t&amp;quot;go.uber.org/zap&amp;quot;\n\t&amp;quot;go.uber.org/zap/zapcore&amp;quot;\n)\n\n//MyLoggerÂàùÂßãÂåñzaploggerÊó•ÂøóÂ∫ì\nvar MyLogger *zap.Logger\n\nfunc initLogger(logpath string, loglevel string) *zap.Logger {\n\n\t// ËÆæÁΩÆÊó•ÂøóÁ∫ßÂà´\n\tvar level zapcore.Level\n\tswitch loglevel {\n\tcase &amp;quot;debug&amp;quot;:\n\t\tlevel = zap.DebugLevel\n\tcase &amp;quot;info&amp;quot;:\n\t\tlevel = zap.InfoLevel\n\tcase &amp;quot;error&amp;quot;:\n\t\tlevel = zap.ErrorLevel\n\tdefault:\n\t\tlevel = zap.InfoLevel\n\t}\n\n\thook := lumberjack.Logger{\n\t\tFilename:   logpath, // Êó•ÂøóÊñá‰ª∂Ë∑ØÂæÑ\n\t\tMaxSize:    20,      // ÊØè‰∏™Êó•ÂøóÊñá‰ª∂‰øùÂ≠òÁöÑÊúÄÂ§ßÂ∞∫ÂØ∏ Âçï‰ΩçÔºöM\n\t\tMaxBackups: 10,      // Êó•ÂøóÊñá‰ª∂ÊúÄÂ§ö‰øùÂ≠òÂ§öÂ∞ë‰∏™Â§á‰ªΩ\n\t\tMaxAge:     7,       // Êñá‰ª∂ÊúÄÂ§ö‰øùÂ≠òÂ§öÂ∞ëÂ§©\n\t\tCompress:   true,    // ÊòØÂê¶ÂéãÁº©\n\t}\n\n\tencoderConfig := zapcore.EncoderConfig{\n\t\tTimeKey:        &amp;quot;time&amp;quot;,\n\t\tLevelKey:       &amp;quot;level&amp;quot;,\n\t\tNameKey:        &amp;quot;logger&amp;quot;,\n\t\tCallerKey:      &amp;quot;linenum&amp;quot;,\n\t\tMessageKey:     &amp;quot;msg&amp;quot;,\n\t\tStacktraceKey:  &amp;quot;stacktrace&amp;quot;,\n\t\tLineEnding:     zapcore.DefaultLineEnding,\n\t\tEncodeLevel:    zapcore.LowercaseLevelEncoder,  // Â∞èÂÜôÁºñÁ†ÅÂô®\n\t\tEncodeTime:     zapcore.ISO8601TimeEncoder,     // ISO8601 UTC Êó∂Èó¥Ê†ºÂºè\n\t\tEncodeDuration: zapcore.SecondsDurationEncoder, //\n\t\tEncodeCaller:   zapcore.ShortCallerEncoder,     // Áü≠Ë∑ØÂæÑÁºñÁ†ÅÂô®\n\t\tEncodeName:     zapcore.FullNameEncoder,\n\t}\n\n\tcore := zapcore.NewCore(\n\t\tzapcore.NewJSONEncoder(encoderConfig),                                           // ÁºñÁ†ÅÂô®ÈÖçÁΩÆ\n\t\tzapcore.NewMultiWriteSyncer(zapcore.AddSync(os.Stdout), zapcore.AddSync(&amp;amp;hook)), // ÊâìÂç∞Âà∞ÊéßÂà∂Âè∞ÂíåÊñá‰ª∂\n\t\tlevel, // Êó•ÂøóÁ∫ßÂà´\n\t)\n\n\t// ÂºÄÂêØÂºÄÂèëÊ®°ÂºèÔºåÂ†ÜÊ†àË∑üË∏™\n\tcaller := zap.AddCaller()\n\t// ÂºÄÂêØÊñá‰ª∂ÂèäË°åÂè∑\n\tdevelopment := zap.Development()\n\n\t// ËÆæÁΩÆÂàùÂßãÂåñÂ≠óÊÆµ\n\tfiled := zap.Fields(zap.String(&amp;quot;serviceName&amp;quot;, &amp;quot;k8s-websocket-dashboard&amp;quot;))\n\t// ÊûÑÈÄ†Êó•Âøó\n\tlogger := zap.New(core, caller, development, filed)\n\n\tlogger.Info(&amp;quot;initlog ÂàùÂßãÂåñÊàêÂäü&amp;quot;)\n\treturn logger\n}\n\n// ÂàùÂßãÂåñÊó•Âøó\nfunc init() {\n\tlogPath := beego.AppConfig.String(&amp;quot;LogPath&amp;quot;)\n\tloglevel := beego.AppConfig.String(&amp;quot;LogLevel&amp;quot;)\n\tMyLogger = initLogger(logPath, loglevel)\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Êó•ÂøóËæìÂá∫Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;{&amp;quot;level&amp;quot;:&amp;quot;info&amp;quot;,&amp;quot;time&amp;quot;:&amp;quot;2020-06-02T19:41:37.799+0800&amp;quot;,&amp;quot;linenum&amp;quot;:&amp;quot;controllers/logger.go:59&amp;quot;,&amp;quot;msg&amp;quot;:&amp;quot;log ÂàùÂßãÂåñÊàêÂäü&amp;quot;,&amp;quot;serviceName&amp;quot;:&amp;quot;k8s-websocket-dashboard&amp;quot;}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;golang-bi-ji-zip-ri-zhi-shi-yong&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;golangÁ¨îËÆ∞-zipÊó•Âøó‰ΩøÁî®&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;zap&#34;,&#34;slug&#34;:&#34;t0_qVBCTZ&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/t0_qVBCTZ/&#34;},{&#34;index&#34;:-1,&#34;name&#34;:&#34;golang&#34;,&#34;slug&#34;:&#34;oHQV9cP9p&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/oHQV9cP9p/&#34;},{&#34;name&#34;:&#34;beego&#34;,&#34;slug&#34;:&#34;WCSltmB8m&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/WCSltmB8m/&#34;}],&#34;date&#34;:&#34;2020-06-03 14:17:23&#34;,&#34;dateFormat&#34;:&#34;2020-06-03&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/golang-bi-ji-zip-ri-zhi-shi-yong/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:138000,&#34;words&#34;:444,&#34;minutes&#34;:3},&#34;description&#34;:&#34;Âú®beego‰∏≠‰ΩøÁî®zapÁÆ°ÁêÜÊó•ÂøóÔºåÂæàÊñπ‰æøüëç\nÈúÄË¶ÅÂú®conf/app.confÂÆö‰πâÂá†‰∏™ÂèÇÊï∞\nappname = web-terminal\nhttpport = &amp;quot;9600&amp;quot;\n\nrunmode = &amp;quot;prod&amp;q...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;h1 id=\&#34;Ëé∑ÂèñÂèÇÊï∞\&#34;&gt;Ëé∑ÂèñÂèÇÊï∞&lt;/h1&gt;\n&lt;p&gt;Êàë‰ª¨ÁªèÂ∏∏ÈúÄË¶ÅËé∑ÂèñÁî®Êà∑‰º†ÈÄíÁöÑÊï∞ÊçÆÔºåÂåÖÊã¨Get„ÄÅPOSTÁ≠âÊñπÂºèÁöÑËØ∑Ê±ÇÔºåbeegoÈáåÈù¢‰ºöËá™Âä®Ëß£ÊûêËøô‰∫õÊï∞ÊçÆÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÊñπÂºèËé∑ÂèñÊï∞ÊçÆÔºö&lt;/p&gt;\n&lt;p&gt;GetString(key string) string&lt;br&gt;\nGetStrings(key string) []string&lt;br&gt;\nGetInt(key string) (int64, error)&lt;br&gt;\nGetBool(key string) (bool, error)&lt;br&gt;\nGetFloat(key string) (float64, error)&lt;br&gt;\nÁ§∫‰æã1Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;func (this *MainController) Post() {\n    jsoninfo := &amp;lt;strong&amp;gt;this.GetString&amp;lt;/strong&amp;gt;(&amp;quot;jsoninfo&amp;quot;)\n    if jsoninfo == &amp;quot;&amp;quot; {\n        this.Ctx.WriteString(&amp;quot;jsoninfo is empty&amp;quot;)\n        return\n    }\n}```\nÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÁöÑÊï∞ÊçÆÂèØËÉΩÊòØÂÖ∂ÂÆÉÁ±ªÂûãÔºå‰æãÂ¶ÇÊòØintÁ±ªÂûãËÄå‰∏çÊòØint64ÔºåÈÇ£‰πà‰Ω†ÈúÄË¶ÅËøôÊ†∑Â§ÑÁêÜÔºö\n\nÁ§∫‰æã2Ôºö\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;func (this *MainController) Post() {&lt;br&gt;\nid := &lt;strong&gt;this.Input().Get&lt;/strong&gt;(&amp;quot;id&amp;quot;)&lt;br&gt;\nintid, err := &lt;strong&gt;strconv.Atoi&lt;/strong&gt;(id)&lt;br&gt;\n}```&lt;br&gt;\nÊõ¥Â§öÂÖ∂‰ªñÁöÑrequestÁöÑ‰ø°ÊÅØÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøáthis.Ctx.RequestËé∑Âèñ‰ø°ÊÅØ„ÄÇ&lt;/p&gt;\n&lt;p&gt;ÂÖ≥‰∫éËØ•ÂØπË±°ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ïÂèØÂèÇËÄÉrequestÂÆòÊñπÊâãÂÜåhttps://gowalker.org/net/http#Request&lt;/p&gt;\n&lt;h1 id=\&#34;Áõ¥Êé•Ëß£ÊûêÂà∞struct\&#34;&gt;Áõ¥Êé•Ëß£ÊûêÂà∞struct&lt;/h1&gt;\n&lt;p&gt;Â¶ÇÊûúË¶ÅÊääË°®ÂçïÈáåÁöÑÂÜÖÂÆπËµãÂÄºÂà∞‰∏Ä‰∏™structÈáåÔºåÈô§‰∫ÜÁî®‰∏äÈù¢ÁöÑÊñπÊ≥ï‰∏Ä‰∏™‰∏Ä‰∏™Ëé∑ÂèñÂÜçËµãÂÄº‰πãÂ§ñÔºå&lt;br&gt;\nbeegoÊèê‰æõ‰∫ÜÈÄöËøáÂè¶Â§ñ‰∏Ä‰∏™Êõ¥‰æøÊç∑ÁöÑÊñπÂºèÔºåÂ∞±ÊòØÈÄöËøástructÁöÑÂ≠óÊÆµÂêçÊàñtag‰∏éË°®ÂçïÂ≠óÊÆµÂØπÂ∫îÁõ¥Êé•Ëß£ÊûêÂà∞struct„ÄÇ&lt;/p&gt;\n&lt;p&gt;Á§∫‰æã3Ôºö&lt;/p&gt;\n&lt;p&gt;ÂÆö‰πâstruct&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;type user struct {\n    Id    int         `form:&amp;quot;-&amp;quot;`\n    Name  interface{} `form:&amp;quot;&amp;lt;strong&amp;gt;username&amp;lt;/strong&amp;gt;&amp;quot;`\n    Age   int         `form:&amp;quot;&amp;lt;strong&amp;gt;age&amp;lt;/strong&amp;gt;&amp;quot;`\n    Email string\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Ë°®Âçï&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;&amp;lt;form id=&amp;quot;&amp;lt;strong&amp;gt;user&amp;lt;/strong&amp;gt;&amp;quot;&amp;gt;\n    ÂêçÂ≠óÔºö&amp;lt;input name=&amp;quot;&amp;lt;strong&amp;gt;username&amp;lt;/strong&amp;gt;&amp;quot; type=&amp;quot;text&amp;quot; /&amp;gt;\n    Âπ¥ÈæÑÔºö&amp;lt;input name=&amp;quot;&amp;lt;strong&amp;gt;age&amp;lt;/strong&amp;gt;&amp;quot; type=&amp;quot;text&amp;quot; /&amp;gt;\n    ÈÇÆÁÆ±Ôºö&amp;lt;input name=&amp;quot;Email&amp;quot; type=&amp;quot;text&amp;quot; /&amp;gt;\n    &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Êèê‰∫§&amp;quot; /&amp;gt;\n&amp;lt;/form&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;controllerÈáåËß£Êûê&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;func (this *MainController) Post() {\n    u := &amp;lt;strong&amp;gt;user{}&amp;lt;/strong&amp;gt;\n    if err := this.ParseForm(&amp;lt;strong&amp;gt;&amp;amp;u&amp;lt;/strong&amp;gt;); err != nil {\n        //handle error\n    }\n}„ÄÄ„ÄÄ\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÈúÄË¶ÅËØ¥ÊòéÁöÑÊòØÔºö&lt;/p&gt;\n&lt;p&gt;Ôºà1ÔºâstructTag formÁöÑÂÆö‰πâÂíårenderformÊñπÊ≥ïÂÖ±Áî®‰∏Ä‰∏™Ê†áÁ≠æ„ÄÇ&lt;/p&gt;\n&lt;p&gt;Ôºà2ÔºâÂÆö‰πâstructÊó∂ÔºåÂ≠óÊÆµÂêçÂêéÂ¶ÇÊûúÊúâformËøô‰∏™tagÔºåÂàô‰ºöÊääformË°®ÂçïÈáåÁöÑnameÂíåtagÁöÑÂêçÂ≠ó‰∏ÄÊ†∑ÁöÑÂ≠óÊÆµËµãÂÄºÁªôËøô‰∏™Â≠óÊÆµÔºå&lt;/p&gt;\n&lt;p&gt;Âê¶ÂàôÂ∞±‰ºöÊääformË°®ÂçïÈáå‰∏éÂ≠óÊÆµÂêç‰∏ÄÊ†∑ÁöÑË°®ÂçïÂÜÖÂÆπËµãÂÄºÁªôËøô‰∏™Â≠óÊÆµ„ÄÇ&lt;/p&gt;\n&lt;p&gt;‰æãÂ¶Ç‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Ôºå‰ºöÊääË°®Âçï‰∏≠ÁöÑusernameÂíåageÂàÜÂà´ËµãÂÄºÁªôuserÈáåÁöÑNameÂíåAgeÂ≠óÊÆµÔºåËÄåEmailÈáåÁöÑÂÜÖÂÆπÂàô‰ºöËµãÂÄºÁªôEmailËøô‰∏™Â≠óÊÆµ„ÄÇ&lt;/p&gt;\n&lt;p&gt;Ôºà3ÔºâË∞ÉÁî®Controller PraseFormËøô‰∏™ÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºå‰º†ÂÖ•ÁöÑÂèÇÊï∞ÂøÖÈ°ª‰∏∫‰∏Ä‰∏™structÁöÑÊåáÈíàÔºåÂê¶ÂàôÂØπstructÁöÑËµãÂÄº‰∏ç‰ºöÊàêÂäüÂπ∂ËøîÂõûxx must be a struct pointerÁöÑÈîôËØØ„ÄÇ&lt;/p&gt;\n&lt;p&gt;Ôºà4ÔºâÂ¶ÇÊûúË¶ÅÂøΩÁï•‰∏Ä‰∏™Â≠óÊÆµÔºåÊúâ‰∏§ÁßçÊñπÊ≥ïÔºå‰∏ÄÊòØÔºöÂ≠óÊÆµÂêçÂ∞èÂÜôÂºÄÂ§¥Ôºå‰∫åÊòØÔºöformÊ†áÁ≠æËÆæÁΩÆ‰∏∫_&lt;/p&gt;\n&lt;h1 id=\&#34;Ëé∑Âèñrequest-bodyÈáåÁöÑÂÜÖÂÆπ\&#34;&gt;Ëé∑ÂèñRequest BodyÈáåÁöÑÂÜÖÂÆπ&lt;/h1&gt;\n&lt;p&gt;Âú®APIÁöÑÂºÄÂèë‰∏≠ÔºåÊàë‰ª¨ÁªèÂ∏∏‰ºöÁî®Âà∞JSONÊàñXMLÊù•‰Ωú‰∏∫Êï∞ÊçÆ‰∫§‰∫íÁöÑÊ†ºÂºèÔºåÂ¶Ç‰ΩïÂú®beego‰∏≠Ëé∑ÂèñRequest BodyÈáåÁöÑJSONÊàñXMLÁöÑÊï∞ÊçÆÂë¢Ôºü&lt;/p&gt;\n&lt;p&gt;È¶ñÂÖàÔºåÂú®ÈÖçÁΩÆÊñá‰ª∂ÈáåËÆæÁΩÆcopyrequestbody = true&lt;/p&gt;\n&lt;p&gt;ÂÖ∂Ê¨°ÔºåÂú®Controller‰∏≠Ôºö&lt;/p&gt;\n&lt;p&gt;Á§∫‰æã4Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;func (this *ObjectController) Post() {\n    var ob models.Object\n    var err error\n    if err = json.Unmarshal(this.Ctx.Input.RequestBody, &amp;amp;ob); err == nil {\n        objectid := models.AddOne(ob)\n        this.Data[&amp;quot;json&amp;quot;] = &amp;quot;{\\&amp;quot;ObjectId\\&amp;quot;:\\&amp;quot;&amp;quot; + objectid + &amp;quot;\\&amp;quot;}&amp;quot;\n    } else {\n        this.Data[&amp;quot;json&amp;quot;] = err.Error()\n    }\n    this.ServeJSON()\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;h1 id=\&#34;Êñá‰ª∂‰∏ä‰º†\&#34;&gt;Êñá‰ª∂‰∏ä‰º†&lt;/h1&gt;\n&lt;p&gt;Âú®beego‰∏≠‰Ω†ÂèØ‰ª•ÂæàÂÆπÊòìÁöÑÂ§ÑÁêÜÊñá‰ª∂‰∏ä‰º†ÔºåÂ∞±ÊòØÂà´ÂøòËÆ∞Âú®‰Ω†ÁöÑformË°®Âçï‰∏≠Â¢ûÂä†‚Äúenctype=&amp;quot;multipart/form-data‚ÄùÔºåÂê¶Âàô‰Ω†ÁöÑÊµèËßàÂô®‰∏ç‰ºö‰º†Ëæì‰Ω†ÁöÑ‰∏ä‰º†Êñá‰ª∂„ÄÇ&lt;/p&gt;\n&lt;p&gt;Êñá‰ª∂‰∏ä‰º†‰πãÂêé‰∏ÄËà¨ÊòØÊîæÂú®Á≥ªÁªüÁöÑÂÜÖÂ≠òÈáåÈù¢ÔºåÂ¶ÇÊûúÊñá‰ª∂ÁöÑsizeÂ§ß‰∫éËÆæÁΩÆÁöÑÁºìÂ≠òÂ§ßÂ∞èÔºåÈÇ£‰πàÂ∞±ÊîæÂú®‰∏¥Êó∂Êñá‰ª∂‰∏≠Ôºå&lt;/p&gt;\n&lt;p&gt;ÈªòËÆ§ÁöÑÁºìÂ≠òÂÜÖÂ≠òÊòØ64MÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÊñπÂºèÊù•Ë∞ÉÊï¥Ëøô‰∏™ÁºìÂ≠òÂÜÖÂ≠òÁöÑÂ§ßÂ∞è„ÄÇ&lt;/p&gt;\n&lt;p&gt;beego.MaxMemory = 1&amp;lt;&amp;lt;22&lt;br&gt;\nÊàñËÄÖÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÄöËøáÂ¶Ç‰∏ãËÆæÁΩÆÔºö&lt;/p&gt;\n&lt;p&gt;maxmemory = 1&amp;lt;&amp;lt;22&lt;br&gt;\nBeegoÊèê‰æõ‰∫Ü‰∏§‰∏™ÂæàÊñπ‰æøÁöÑÊñπÊ≥ïÊù•Â§ÑÁêÜÊñá‰ª∂‰∏ä‰º†Ôºö&lt;/p&gt;\n&lt;p&gt;Ôºà1ÔºâGetFile(key string) (multipart.File, *multipart.FileHeader, error)&lt;/p&gt;\n&lt;p&gt;ËØ•ÊñπÊ≥ï‰∏ªË¶ÅÁî®‰∫éÁî®Êà∑ËØªÂèñË°®Âçï‰∏≠ÁöÑÊñá‰ª∂Âêçthe_fileÔºåÁÑ∂ÂêéËøîÂõûÁõ∏Â∫îÁöÑ‰ø°ÊÅØÔºåÁî®Êà∑Ê†πÊçÆËøô‰∫õÂèòÈáèÊù•Â§ÑÁêÜÊñá‰ª∂‰∏ä‰º†ÔºöËøáÊª§„ÄÅ‰øùÂ≠òÊñá‰ª∂Á≠â„ÄÇ&lt;/p&gt;\n&lt;p&gt;Ôºà2ÔºâSaveToFile(fromfile, tofile string) error&lt;/p&gt;\n&lt;p&gt;ËØ•ÊñπÊ≥ïÊòØÂú®GetFileÁöÑÂü∫Á°Ä‰∏äÂÆûÁé∞‰∫ÜÂø´ÈÄü‰øùÂ≠òÁöÑÂäüËÉΩÔºåfromfileÊòØÊèê‰∫§ÁöÑÊó∂ÂÄôhtmlË°®Âçï‰∏≠ÁöÑname„ÄÇ&lt;/p&gt;\n&lt;p&gt;Á§∫‰æã5&lt;/p&gt;\n&lt;p&gt;Ë°®ÂçïÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;&amp;lt;form enctype=&amp;quot;multipart/form-data&amp;quot; method=&amp;quot;post&amp;quot;&amp;gt;\n    &amp;lt;input type=&amp;quot;file&amp;quot; name=&amp;quot;uploadname&amp;quot; /&amp;gt;\n    &amp;lt;input type=&amp;quot;submit&amp;quot;&amp;gt;\n&amp;lt;/form&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Controller‰∏≠‰ª£Á†ÅÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;func (c *FormController) Post() {\n    f, h, err := c.GetFile(&amp;quot;uploadname&amp;quot;)\n    if err != nil {\n        log.Fatal(&amp;quot;getfile err &amp;quot;, err)\n    }\n    defer f.Close()\n    c.SaveToFile(&amp;quot;uploadname&amp;quot;, &amp;quot;static/upload/&amp;quot; + h.Filename) // ‰øùÂ≠ò‰ΩçÁΩÆÂú® static/upload, Ê≤°ÊúâÊñá‰ª∂Â§πË¶ÅÂÖàÂàõÂª∫\n     \n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;Êï∞ÊçÆÁªëÂÆö\&#34;&gt;Êï∞ÊçÆÁªëÂÆö&lt;/h1&gt;\n&lt;p&gt;ÊîØÊåÅ‰ªéÁî®Êà∑ËØ∑Ê±Ç‰∏≠Áõ¥Êé•Êï∞ÊçÆbindÂà∞ÊåáÂÆöÁöÑÂØπË±°„ÄÇ&lt;/p&gt;\n&lt;p&gt;Á§∫‰æã6Ôºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var id int\nthis.Ctx.Input.Bind(&amp;amp;id, &amp;quot;id&amp;quot;)  //id ==123\n \nvar isok bool\nthis.Ctx.Input.Bind(&amp;amp;isok, &amp;quot;isok&amp;quot;)  //isok ==true\n \nvar ft float64\nthis.Ctx.Input.Bind(&amp;amp;ft, &amp;quot;ft&amp;quot;)  //ft ==1.2\n \nol := make([]int, 0, 2)\nthis.Ctx.Input.Bind(&amp;amp;ol, &amp;quot;ol&amp;quot;)  //ol ==[1 2]\n \nul := make([]string, 0, 2)\nthis.Ctx.Input.Bind(&amp;amp;ul, &amp;quot;ul&amp;quot;)  //ul ==[str array]\n \nuser struct{Name}\nthis.Ctx.Input.Bind(&amp;amp;user, &amp;quot;user&amp;quot;)  //user =={Name:&amp;quot;astaxie&amp;quot;}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;golang-bi-ji-beego-huo-qu-url-qing-qiu-de-can-shu&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;golangÁ¨îËÆ∞-beegoËé∑ÂèñurlËØ∑Ê±ÇÁöÑÂèÇÊï∞&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;golang&#34;,&#34;slug&#34;:&#34;oHQV9cP9p&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/oHQV9cP9p/&#34;},{&#34;name&#34;:&#34;beego&#34;,&#34;slug&#34;:&#34;WCSltmB8m&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/WCSltmB8m/&#34;}],&#34;date&#34;:&#34;2020-06-02 12:00:50&#34;,&#34;dateFormat&#34;:&#34;2020-06-02&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/golang-bi-ji-beego-huo-qu-url-qing-qiu-de-can-shu/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;6 min read&#34;,&#34;time&#34;:340000,&#34;words&#34;:1252,&#34;minutes&#34;:6},&#34;description&#34;:&#34;Ëé∑ÂèñÂèÇÊï∞\nÊàë‰ª¨ÁªèÂ∏∏ÈúÄË¶ÅËé∑ÂèñÁî®Êà∑‰º†ÈÄíÁöÑÊï∞ÊçÆÔºåÂåÖÊã¨Get„ÄÅPOSTÁ≠âÊñπÂºèÁöÑËØ∑Ê±ÇÔºåbeegoÈáåÈù¢‰ºöËá™Âä®Ëß£ÊûêËøô‰∫õÊï∞ÊçÆÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÊñπÂºèËé∑ÂèñÊï∞ÊçÆÔºö\nGetString(key string) string\nGetStrings(key string...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0\&#34;&gt;Ëé∑ÂèñÂèÇÊï∞&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%9B%B4%E6%8E%A5%E8%A7%A3%E6%9E%90%E5%88%B0struct\&#34;&gt;Áõ¥Êé•Ëß£ÊûêÂà∞struct&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96request-body%E9%87%8C%E7%9A%84%E5%86%85%E5%AE%B9\&#34;&gt;Ëé∑ÂèñRequest BodyÈáåÁöÑÂÜÖÂÆπ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0\&#34;&gt;Êñá‰ª∂‰∏ä‰º†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A\&#34;&gt;Êï∞ÊçÆÁªëÂÆö&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h1 id=\&#34;ÁÆÄ‰ªã\&#34;&gt;ÁÆÄ‰ªã&lt;/h1&gt;\n&lt;p&gt;Json(Javascript Object Nanotation)ÊòØ‰∏ÄÁßçÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèÔºåÂ∏∏Áî®‰∫éÂâçÂêéÁ´ØÊï∞ÊçÆ‰º†Ëæì„ÄÇ‰ªªÊÑè‰∏ÄÁ´ØÂ∞ÜÊï∞ÊçÆËΩ¨Êç¢Êàêjson Â≠óÁ¨¶‰∏≤ÔºåÂè¶‰∏ÄÁ´ØÂÜçÂ∞ÜËØ•Â≠óÁ¨¶‰∏≤Ëß£ÊûêÊàêÁõ∏Â∫îÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂ¶ÇstringÁ±ªÂûãÔºåstrcutÂØπË±°Á≠â„ÄÇ&lt;/p&gt;\n&lt;p&gt;goËØ≠Ë®ÄÊú¨Ë∫´‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜjsonÁöÑÂ∑•ÂÖ∑ÂåÖ‚Äùencoding/json‚Äù„ÄÇ&lt;br&gt;\nÊõ¥Â§öÁöÑ‰ΩøÁî®ÊñπÂºèÔºåÂèØ‰ª•ÂèÇËÄÉÔºöhttps://studygolang.com/articles/6742&lt;/p&gt;\n&lt;h1 id=\&#34;ÂÆûÁé∞\&#34;&gt;ÂÆûÁé∞&lt;/h1&gt;\n&lt;p&gt;Json MarshalÔºöÂ∞ÜÊï∞ÊçÆÁºñÁ†ÅÊàêjsonÂ≠óÁ¨¶‰∏≤&lt;br&gt;\nÁúã‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;type Stu struct {\n    Name  string `json:&amp;quot;name&amp;quot;`\n    Age   int\n    HIgh  bool\n    sex   string\n    Class *Class `json:&amp;quot;class&amp;quot;`\n}\n\ntype Class struct {\n    Name  string\n    Grade int\n}\n\nfunc main() {\n    //ÂÆû‰æãÂåñ‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑÔºåÁî®‰∫éÁîüÊàêjsonÂ≠óÁ¨¶‰∏≤\n    stu := Stu{\n        Name: &amp;quot;Âº†‰∏â&amp;quot;,\n        Age:  18,\n        HIgh: true,\n        sex:  &amp;quot;Áî∑&amp;quot;,\n    }\n\n    //ÊåáÈíàÂèòÈáè\n    cla := new(Class)\n    cla.Name = &amp;quot;1Áè≠&amp;quot;\n    cla.Grade = 3\n    stu.Class=cla\n\n    //MarshalÂ§±Ë¥•Êó∂err!=nil\n    jsonStu, err := json.Marshal(stu)\n    if err != nil {\n        fmt.Println(&amp;quot;ÁîüÊàêjsonÂ≠óÁ¨¶‰∏≤ÈîôËØØ&amp;quot;)\n    }\n\n    //jsonStuÊòØ[]byteÁ±ªÂûãÔºåËΩ¨ÂåñÊàêstringÁ±ªÂûã‰æø‰∫éÊü•Áúã\n    fmt.Println(string(jsonStu))\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÁªìÊûúÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;{&amp;quot;name&amp;quot;:&amp;quot;Âº†‰∏â&amp;quot;,&amp;quot;Age&amp;quot;:18,&amp;quot;HIgh&amp;quot;:true,&amp;quot;class&amp;quot;:{&amp;quot;Name&amp;quot;:&amp;quot;1Áè≠&amp;quot;,&amp;quot;Grade&amp;quot;:3}}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;‰ªéÁªìÊûú‰∏≠ÂèØ‰ª•ÁúãÂá∫&lt;/p&gt;\n&lt;p&gt;Âè™Ë¶ÅÊòØÂèØÂØºÂá∫ÊàêÂëòÔºàÂèòÈáèÈ¶ñÂ≠óÊØçÂ§ßÂÜôÔºâÔºåÈÉΩÂèØ‰ª•ËΩ¨Êàêjson„ÄÇÂõ†ÊàêÂëòÂèòÈáèsexÊòØ‰∏çÂèØÂØºÂá∫ÁöÑÔºåÊïÖÊó†Ê≥ïËΩ¨Êàêjson„ÄÇ&lt;/p&gt;\n&lt;p&gt;Â¶ÇÊûúÂèòÈáèÊâì‰∏ä‰∫ÜjsonÊ†áÁ≠æÔºåÂ¶ÇNameÊóÅËæπÁöÑ &lt;code&gt;json:&amp;quot;name&amp;quot;&lt;/code&gt; ÔºåÈÇ£‰πàËΩ¨ÂåñÊàêÁöÑjson keyÂ∞±Áî®ËØ•Ê†áÁ≠æ‚Äúname‚ÄùÔºåÂê¶ÂàôÂèñÂèòÈáèÂêç‰Ωú‰∏∫keyÔºåÂ¶Ç‚ÄúAge‚ÄùÔºå‚ÄúHIgh‚Äù„ÄÇ&lt;/p&gt;\n&lt;p&gt;boolÁ±ªÂûã‰πüÊòØÂèØ‰ª•Áõ¥Êé•ËΩ¨Êç¢‰∏∫jsonÁöÑvalueÂÄº„ÄÇChannelÔºå complex ‰ª•ÂèäÂáΩÊï∞‰∏çËÉΩË¢´ÁºñÁ†ÅjsonÂ≠óÁ¨¶‰∏≤„ÄÇÂΩìÁÑ∂ÔºåÂæ™ÁéØÁöÑÊï∞ÊçÆÁªìÊûÑ‰πü‰∏çË°åÔºåÂÆÉ‰ºöÂØºËá¥marshalÈô∑ÂÖ•Ê≠ªÂæ™ÁéØ„ÄÇ&lt;/p&gt;\n&lt;p&gt;ÊåáÈíàÂèòÈáèÔºåÁºñÁ†ÅÊó∂Ëá™Âä®ËΩ¨Êç¢‰∏∫ÂÆÉÊâÄÊåáÂêëÁöÑÂÄºÔºåÂ¶ÇclaÂèòÈáè„ÄÇ&lt;br&gt;\nÔºàÂΩìÁÑ∂Ôºå‰∏ç‰º†ÊåáÈíàÔºåStu structÁöÑÊàêÂëòClassÂ¶ÇÊûúÊç¢ÊàêClass structÁ±ªÂûãÔºåÊïàÊûú‰πüÊòØ‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑ„ÄÇÂè™‰∏çËøáÊåáÈíàÊõ¥Âø´Ôºå‰∏îËÉΩËäÇÁúÅÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÔºâ&lt;/p&gt;\n&lt;p&gt;ÊúÄÂêéÔºåÂº∫Ë∞É‰∏ÄÂè•ÔºöjsonÁºñÁ†ÅÊàêÂ≠óÁ¨¶‰∏≤ÂêéÂ∞±ÊòØÁ∫ØÁ≤πÁöÑÂ≠óÁ¨¶‰∏≤‰∫Ü„ÄÇ&lt;/p&gt;\n&lt;p&gt;‰∏äÈù¢ÁöÑÊàêÂëòÂèòÈáèÈÉΩÊòØÂ∑≤Áü•ÁöÑÁ±ªÂûãÔºåÂè™ËÉΩÊé•Êî∂ÊåáÂÆöÁöÑÁ±ªÂûãÔºåÊØîÂ¶ÇstringÁ±ªÂûãÁöÑNameÂè™ËÉΩËµãÂÄºstringÁ±ªÂûãÁöÑÊï∞ÊçÆ„ÄÇ&lt;br&gt;\n‰ΩÜÊúâÊó∂‰∏∫‰∫ÜÈÄöÁî®ÊÄßÔºåÊàñ‰Ωø‰ª£Á†ÅÁÆÄÊ¥ÅÔºåÊàë‰ª¨Â∏åÊúõÊúâ‰∏ÄÁßçÁ±ªÂûãÂèØ‰ª•Êé•ÂèóÂêÑÁßçÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÂπ∂ËøõË°åjsonÁºñÁ†Å„ÄÇËøôÂ∞±Áî®Âà∞‰∫Üinterface{}Á±ªÂûã„ÄÇ&lt;/p&gt;\n&lt;p&gt;ÂâçË®ÄÔºö&lt;br&gt;\ninterface{}Á±ªÂûãÂÖ∂ÂÆûÊòØ‰∏™Á©∫Êé•Âè£ÔºåÂç≥Ê≤°ÊúâÊñπÊ≥ïÁöÑÊé•Âè£„ÄÇgoÁöÑÊØè‰∏ÄÁßçÁ±ªÂûãÈÉΩÂÆûÁé∞‰∫ÜËØ•Êé•Âè£„ÄÇÂõ†Ê≠§Ôºå‰ªª‰ΩïÂÖ∂‰ªñÁ±ªÂûãÁöÑÊï∞ÊçÆÈÉΩÂèØ‰ª•ËµãÂÄºÁªôinterface{}Á±ªÂûã„ÄÇ&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;type Stu struct {\n    Name  interface{} `json:&amp;quot;name&amp;quot;`\n    Age   interface{}\n    HIgh  interface{}\n    sex   interface{}\n    Class interface{} `json:&amp;quot;class&amp;quot;`\n}\n\ntype Class struct {\n    Name  string\n    Grade int\n}\n\nfunc main() {\n    //‰∏éÂâçÈù¢ÁöÑ‰æãÂ≠ê‰∏ÄÊ†∑\n    ......\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÁªìÊûúÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;{&amp;quot;name&amp;quot;:&amp;quot;Âº†‰∏â&amp;quot;,&amp;quot;Age&amp;quot;:18,&amp;quot;HIgh&amp;quot;:true,&amp;quot;class&amp;quot;:{&amp;quot;Name&amp;quot;:&amp;quot;1Áè≠&amp;quot;,&amp;quot;Grade&amp;quot;:3}}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;‰ªéÁªìÊûú‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÊó†ËÆ∫ÊòØstringÔºåintÔºåboolÔºåËøòÊòØÊåáÈíàÁ±ªÂûãÁ≠âÔºåÈÉΩÂèØËµãÂÄºÁªôinterface{}Á±ªÂûãÔºå‰∏îÊ≠£Â∏∏ÁºñÁ†ÅÔºåÊïàÊûú‰∏éÂâçÈù¢ÁöÑ‰æãÂ≠ê‰∏ÄÊ†∑„ÄÇ&lt;/p&gt;\n&lt;p&gt;Ë°•ÂÖÖÔºö&lt;br&gt;\nÂú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÔºåÁºñÁ†ÅÊàêjson‰∏≤ÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂæÄÂæÄÊòØÂàáÁâáÁ±ªÂûã„ÄÇÂ¶Ç‰∏ãÂÆö‰πâ‰∫Ü‰∏Ä‰∏™[]StuReadÁ±ªÂûãÁöÑÂàáÁâá&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;//Ê≠£Á°ÆÁ§∫ËåÉ\n\n//ÊñπÂºè1ÔºöÂè™Â£∞ÊòéÔºå‰∏çÂàÜÈÖçÂÜÖÂ≠ò\nvar stus1 []*StuRead\n\n//ÊñπÂºè2ÔºöÂàÜÈÖçÂàùÂßãÂÄº‰∏∫0ÁöÑÂÜÖÂ≠ò\nstus2 := make([]*StuRead,0)\n\n//ÈîôËØØÁ§∫ËåÉ\n//new()Âè™ËÉΩÂÆû‰æãÂåñ‰∏Ä‰∏™structÂØπË±°ÔºåËÄå[]StuReadÊòØÂàáÁâáÔºå‰∏çÊòØÂØπË±°\nstus := new([]StuRead)\n\nstu1 := StuRead{ÊàêÂëòËµãÂÄº...}\nstu2 := StuRead{ÊàêÂëòËµãÂÄº...}\n\n//Áî±ÊñπÂºè1Âíå2ÂàõÂª∫ÁöÑÂàáÁâáÔºåÈÉΩËÉΩÊàêÂäüËøΩÂä†Êï∞ÊçÆ\n//ÊñπÂºè2ÊúÄÂ•ΩÂàÜÈÖç0ÈïøÂ∫¶ÔºåappendÊó∂‰ºöËá™Âä®Â¢ûÈïø„ÄÇÂèç‰πãÊåáÂÆöÂàùÂßãÈïøÂ∫¶ÔºåÈïøÂ∫¶‰∏çÂ§üÊó∂‰∏ç‰ºöËá™Âä®Â¢ûÈïøÔºåÂØºËá¥Êï∞ÊçÆ‰∏¢Â§±\nstus1 := appen(stus1,stu1,stu2)\nstus2 := appen(stus2,stu1,stu2)\n\n//ÊàêÂäüÁºñÁ†Å\njson1,_ := json.Marshal(stus1)\njson2,_ := json.Marshal(stus2)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Ëß£Á†ÅÊó∂ÂÆö‰πâÂØπÂ∫îÁöÑÂàáÁâáÊé•ÂèóÂç≥ÂèØ&lt;/p&gt;\n&lt;p&gt;Json UnmarshalÔºöÂ∞ÜjsonÂ≠óÁ¨¶‰∏≤Ëß£Á†ÅÂà∞Áõ∏Â∫îÁöÑÊï∞ÊçÆÁªìÊûÑ&lt;br&gt;\nÊàë‰ª¨Â∞Ü‰∏äÈù¢ÁöÑ‰æãÂ≠êËøõË°åËß£Á†Å&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;type StuRead struct {\n    Name  interface{} `json:&amp;quot;name&amp;quot;`\n    Age   interface{}\n    HIgh  interface{}\n    sex   interface{}\n    Class interface{} `json:&amp;quot;class&amp;quot;`\n    Test  interface{}\n}\n\ntype Class struct {\n    Name  string\n    Grade int\n}\n\nfunc main() {\n    //jsonÂ≠óÁ¨¶‰∏≠ÁöÑ&amp;quot;ÂºïÂè∑ÔºåÈúÄÁî®\\ËøõË°åËΩ¨‰πâÔºåÂê¶ÂàôÁºñËØëÂá∫Èîô\n    //jsonÂ≠óÁ¨¶‰∏≤Ê≤øÁî®‰∏äÈù¢ÁöÑÁªìÊûúÔºå‰ΩÜÂØπkeyËøõË°å‰∫ÜÂ§ßÂ∞èÁöÑ‰øÆÊîπÔºåÂπ∂Ê∑ªÂä†‰∫ÜsexÊï∞ÊçÆ\n    data:=&amp;quot;{\\&amp;quot;name\\&amp;quot;:\\&amp;quot;Âº†‰∏â\\&amp;quot;,\\&amp;quot;Age\\&amp;quot;:18,\\&amp;quot;high\\&amp;quot;:true,\\&amp;quot;sex\\&amp;quot;:\\&amp;quot;Áî∑\\&amp;quot;,\\&amp;quot;CLASS\\&amp;quot;:{\\&amp;quot;naME\\&amp;quot;:\\&amp;quot;1Áè≠\\&amp;quot;,\\&amp;quot;GradE\\&amp;quot;:3}}&amp;quot;\n    str:=[]byte(data)\n\n    //1.UnmarshalÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØjsonÂ≠óÁ¨¶‰∏≤ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÊé•ÂèójsonËß£ÊûêÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ\n    //Á¨¨‰∫å‰∏™ÂèÇÊï∞ÂøÖÈ°ªÊòØÊåáÈíàÔºåÂê¶ÂàôÊó†Ê≥ïÊé•Êî∂Ëß£ÊûêÁöÑÊï∞ÊçÆÔºåÂ¶Çstu‰ªç‰∏∫Á©∫ÂØπË±°StuRead{}\n    //2.ÂèØ‰ª•Áõ¥Êé•stu:=new(StuRead),Ê≠§Êó∂ÁöÑstuËá™Ë∫´Â∞±ÊòØÊåáÈíà\n    stu:=StuRead{}\n    err:=json.Unmarshal(str,&amp;amp;stu)\n\n    //Ëß£ÊûêÂ§±Ë¥•‰ºöÊä•ÈîôÔºåÂ¶ÇjsonÂ≠óÁ¨¶‰∏≤Ê†ºÂºè‰∏çÂØπÔºåÁº∫&amp;quot;Âè∑ÔºåÁº∫}Á≠â„ÄÇ\n    if err!=nil{\n        fmt.Println(err)\n    }\n\n    fmt.Println(stu)\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÁªìÊûúÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;{Âº†‰∏â 18 true &amp;lt;nil&amp;gt; map[naME:1Áè≠ GradE:3] &amp;lt;nil&amp;gt;}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÊÄªÁªìÔºö&lt;/p&gt;\n&lt;p&gt;jsonÂ≠óÁ¨¶‰∏≤Ëß£ÊûêÊó∂ÔºåÈúÄË¶Å‰∏Ä‰∏™‚ÄúÊé•Êî∂‰Ωì‚ÄùÊé•ÂèóËß£ÊûêÂêéÁöÑÊï∞ÊçÆÔºå‰∏îUnmarshalÊó∂Êé•Êî∂‰ΩìÂøÖÈ°ª‰º†ÈÄíÊåáÈíà„ÄÇÂê¶ÂàôËß£ÊûêËôΩ‰∏çÊä•ÈîôÔºå‰ΩÜÊï∞ÊçÆÊó†Ê≥ïËµãÂÄºÂà∞Êé•Âèó‰Ωì‰∏≠„ÄÇÂ¶ÇËøôÈáåÁî®ÁöÑÊòØStuRead{}Êé•Êî∂„ÄÇ&lt;/p&gt;\n&lt;p&gt;Ëß£ÊûêÊó∂ÔºåÊé•Êî∂‰ΩìÂèØËá™Ë°åÂÆö‰πâ„ÄÇjson‰∏≤‰∏≠ÁöÑkeyËá™Âä®Âú®Êé•Êî∂‰Ωì‰∏≠ÂØªÊâæÂåπÈÖçÁöÑÈ°πËøõË°åËµãÂÄº„ÄÇÂåπÈÖçËßÑÂàôÊòØÔºö&lt;/p&gt;\n&lt;p&gt;ÂÖàÊü•Êâæ‰∏ékey‰∏ÄÊ†∑ÁöÑjsonÊ†áÁ≠æÔºåÊâæÂà∞ÂàôËµãÂÄºÁªôËØ•Ê†áÁ≠æÂØπÂ∫îÁöÑÂèòÈáè(Â¶ÇName)„ÄÇ&lt;br&gt;\nÊ≤°ÊúâjsonÊ†áÁ≠æÁöÑÔºåÂ∞±‰ªé‰∏äÂæÄ‰∏ã‰æùÊ¨°Êü•ÊâæÂèòÈáèÂêç‰∏ékey‰∏ÄÊ†∑ÁöÑÂèòÈáèÔºåÂ¶ÇAge„ÄÇÊàñËÄÖÂèòÈáèÂêçÂøΩÁï•Â§ßÂ∞èÂÜôÂêé‰∏ékey‰∏ÄÊ†∑ÁöÑÂèòÈáè„ÄÇÂ¶ÇHIghÔºåClass„ÄÇÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÁöÑÂ∞±ËµãÂÄºÔºåÂêéÈù¢Â∞±ÁÆóÊúâÂåπÈÖçÁöÑ‰πüÂøΩÁï•„ÄÇ&lt;br&gt;\n(ÂâçÊèêÊòØËØ•ÂèòÈáèÂøÖÈúÄÊòØÂèØÂØºÂá∫ÁöÑÔºåÂç≥È¶ñÂ≠óÊØçÂ§ßÂÜô)„ÄÇ&lt;br&gt;\n‰∏çÂèØÂØºÂá∫ÁöÑÂèòÈáèÊó†Ê≥ïË¢´Ëß£ÊûêÔºàÂ¶ÇsexÂèòÈáèÔºåËôΩÁÑ∂json‰∏≤‰∏≠Êúâkey‰∏∫sexÁöÑk-vÔºåËß£ÊûêÂêéÂÖ∂ÂÄº‰ªç‰∏∫nil,Âç≥Á©∫ÂÄºÔºâ&lt;/p&gt;\n&lt;p&gt;ÂΩìÊé•Êî∂‰Ωì‰∏≠Â≠òÂú®json‰∏≤‰∏≠ÂåπÈÖç‰∏ç‰∫ÜÁöÑÈ°πÊó∂ÔºåËß£Êûê‰ºöËá™Âä®ÂøΩÁï•ËØ•È°πÔºåËØ•È°π‰ªç‰øùÁïôÂéüÂÄº„ÄÇÂ¶ÇÂèòÈáèTestÔºå‰øùÁïôÁ©∫ÂÄºnil„ÄÇ&lt;/p&gt;\n&lt;p&gt;‰Ω†‰∏ÄÂÆö‰ºöÂèëÁé∞ÔºåÂèòÈáèClassË≤å‰ººÊ≤°ÊúâËß£Êûê‰∏∫Êàë‰ª¨ÊúüÂæÖÊ†∑Â≠ê„ÄÇÂõ†‰∏∫Ê≠§Êó∂ÁöÑClassÊòØ‰∏™interface{}Á±ªÂûãÁöÑÂèòÈáèÔºåËÄåjson‰∏≤‰∏≠key‰∏∫CLASSÁöÑvalueÊòØ‰∏™Â§çÂêàÁªìÊûÑÔºå‰∏çÊòØÂèØ‰ª•Áõ¥Êé•Ëß£ÊûêÁöÑÁÆÄÂçïÁ±ªÂûãÊï∞ÊçÆÔºàÂ¶Ç‚ÄúÂº†‰∏â‚ÄùÔºå18ÔºåtrueÁ≠âÔºâ„ÄÇÊâÄ‰ª•Ëß£ÊûêÊó∂ÔºåÁî±‰∫éÊ≤°ÊúâÊåáÂÆöÂèòÈáèClassÁöÑÂÖ∑‰ΩìÁ±ªÂûãÔºåjsonËá™Âä®Â∞Üvalue‰∏∫Â§çÂêàÁªìÊûÑÁöÑÊï∞ÊçÆËß£Êûê‰∏∫map[string]interface{}Á±ªÂûãÁöÑÈ°π„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊ≠§Êó∂ÁöÑstruct ClassÂØπË±°‰∏éStuRead‰∏≠ÁöÑClassÂèòÈáèÊ≤°ÊúâÂçäÊØõÈí±ÂÖ≥Á≥ªÔºåÊïÖ‰∏éËøôÊ¨°ÁöÑjsonËß£ÊûêÊ≤°ÊúâÂçäÊØõÈí±ÂÖ≥Á≥ª„ÄÇ&lt;/p&gt;\n&lt;p&gt;ËÆ©Êàë‰ª¨Áúã‰∏Ä‰∏ãËøôÂá†‰∏™interface{}ÂèòÈáèËß£ÊûêÂêéÁöÑÁ±ªÂûã&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;func main() {\n    //‰∏éÂâçËæπjsonËß£ÊûêÁöÑ‰ª£Á†Å‰∏ÄËá¥\n    ...\n    fmt.Println(stu) //ÊâìÂç∞jsonËß£ÊûêÂâçÂèòÈáèÁ±ªÂûã\n    err:=json.Unmarshal(str,&amp;amp;stu)\n    fmt.Println(&amp;quot;--------------json Ëß£ÊûêÂêé-----------&amp;quot;)\n    ... \n    fmt.Println(stu) //ÊâìÂç∞jsonËß£ÊûêÂêéÂèòÈáèÁ±ªÂûã    \n}\n\n//Âà©Áî®ÂèçÂ∞ÑÔºåÊâìÂç∞ÂèòÈáèÁ±ªÂûã\nfunc printType(stu *StuRead){\n    nameType:=reflect.TypeOf(stu.Name)\n    ageType:=reflect.TypeOf(stu.Age)\n    highType:=reflect.TypeOf(stu.HIgh)\n    sexType:=reflect.TypeOf(stu.sex)\n    classType:=reflect.TypeOf(stu.Class)\n    testType:=reflect.TypeOf(stu.Test)\n\n    fmt.Println(&amp;quot;nameType:&amp;quot;,nameType)\n    fmt.Println(&amp;quot;ageType:&amp;quot;,ageType)\n    fmt.Println(&amp;quot;highType:&amp;quot;,highType)\n    fmt.Println(&amp;quot;sexType:&amp;quot;,sexType)\n    fmt.Println(&amp;quot;classType:&amp;quot;,classType)\n    fmt.Println(&amp;quot;testType:&amp;quot;,testType)\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÁªìÊûúÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;nameType: &amp;lt;nil&amp;gt;\nageType: &amp;lt;nil&amp;gt;\nhighType: &amp;lt;nil&amp;gt;\nsexType: &amp;lt;nil&amp;gt;\nclassType: &amp;lt;nil&amp;gt;\ntestType: &amp;lt;nil&amp;gt;\n--------------json Ëß£ÊûêÂêé-----------\nnameType: string\nageType: float64\nhighType: bool\nsexType: &amp;lt;nil&amp;gt;\nclassType: map[string]interface {}\ntestType: &amp;lt;nil&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;‰ªéÁªìÊûú‰∏≠ÂèØËßÅ&lt;/p&gt;\n&lt;p&gt;interface{}Á±ªÂûãÂèòÈáèÂú®jsonËß£ÊûêÂâçÔºåÊâìÂç∞Âá∫ÁöÑÁ±ªÂûãÈÉΩ‰∏∫nilÔºåÂ∞±ÊòØÊ≤°ÊúâÂÖ∑‰ΩìÁ±ªÂûãÔºåËøôÊòØÁ©∫Êé•Âè£Ôºàinterface{}Á±ªÂûãÔºâÁöÑÁâπÁÇπ„ÄÇ&lt;/p&gt;\n&lt;p&gt;jsonËß£ÊûêÂêéÔºåjson‰∏≤‰∏≠valueÔºåÂè™Ë¶ÅÊòØ‚ÄùÁÆÄÂçïÊï∞ÊçÆ‚ÄùÔºåÈÉΩ‰ºöÊåâÁÖßÈªòËÆ§ÁöÑÁ±ªÂûãËµãÂÄºÔºåÂ¶Ç‚ÄùÂº†‰∏â‚ÄùË¢´ËµãÂÄºÊàêstringÁ±ªÂûãÂà∞NameÂèòÈáè‰∏≠ÔºåÊï∞Â≠ó18ÂØπÂ∫îfloat64ÔºåtrueÂØπÂ∫îboolÁ±ªÂûã„ÄÇ&lt;/p&gt;\n&lt;p&gt;‚ÄúÁÆÄÂçïÊï∞ÊçÆ‚ÄùÔºöÊòØÊåá‰∏çËÉΩÂÜçËøõË°å‰∫åÊ¨°jsonËß£ÊûêÁöÑÊï∞ÊçÆÔºåÂ¶Ç‚Äùname‚Äù:‚ÄùÂº†‰∏â‚ÄùÂè™ËÉΩËøõË°å‰∏ÄÊ¨°jsonËß£Êûê„ÄÇ&lt;br&gt;\n‚ÄúÂ§çÂêàÊï∞ÊçÆ‚ÄùÔºöÁ±ª‰ºº‚ÄùCLASS\\‚Äù:{\\‚ÄùnaME\\‚Äù:\\‚Äù1Áè≠\\‚Äù,\\‚ÄùGradE\\‚Äù:3}ËøôÊ†∑ÁöÑÊï∞ÊçÆÔºåÊòØÂèØËøõË°å‰∫åÊ¨°ÁîöËá≥Â§öÊ¨°jsonËß£ÊûêÁöÑÔºåÂõ†‰∏∫ÂÆÉÁöÑvalue‰πüÊòØ‰∏™ÂèØË¢´Ëß£ÊûêÁöÑÁã¨Á´ãjson„ÄÇÂç≥Á¨¨‰∏ÄÊ¨°Ëß£Êûêkey‰∏∫CLASSÁöÑvalueÔºåÁ¨¨‰∫åÊ¨°Ëß£Êûêvalue‰∏≠ÁöÑkey‰∏∫naMEÂíåGradEÁöÑvalue&lt;/p&gt;\n&lt;p&gt;ÂØπ‰∫é‚ÄùÂ§çÂêàÊï∞ÊçÆ‚ÄùÔºåÂ¶ÇÊûúÊé•Êî∂‰Ωì‰∏≠ÈÖçÁöÑÈ°πË¢´Â£∞Êòé‰∏∫interface{}Á±ªÂûãÔºågoÈÉΩ‰ºöÈªòËÆ§Ëß£ÊûêÊàêmap[string]interface{}Á±ªÂûã„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Áõ¥Êé•Ëß£ÊûêÂà∞struct ClassÂØπË±°‰∏≠ÔºåÂèØ‰ª•Â∞ÜÊé•Âèó‰ΩìÂØπÂ∫îÁöÑÈ°πÂÆö‰πâ‰∏∫ËØ•structÁ±ªÂûã„ÄÇÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö&lt;/p&gt;\n&lt;p&gt;type StuRead struct {&lt;br&gt;\n...&lt;br&gt;\n//ÊôÆÈÄöstructÁ±ªÂûã&lt;br&gt;\nClass Class &lt;code&gt;json:&amp;quot;class&amp;quot;&lt;/code&gt;&lt;br&gt;\n//ÊåáÈíàÁ±ªÂûã&lt;br&gt;\nClass *Class &lt;code&gt;json:&amp;quot;class&amp;quot;&lt;/code&gt;&lt;br&gt;\n}&lt;/p&gt;\n&lt;p&gt;stuÊâìÂç∞ÁªìÊûú&lt;/p&gt;\n&lt;p&gt;ClassÁ±ªÂûãÔºö{Âº†‰∏â 18 true &lt;nil&gt; {1Áè≠ 3} &lt;nil&gt;}&lt;br&gt;\n*ClassÁ±ªÂûãÔºö{Âº†‰∏â 18 true &lt;nil&gt; 0xc42008a0c0 &lt;nil&gt;}&lt;/p&gt;\n&lt;p&gt;ÂèØ‰ª•ÁúãÂá∫Ôºå‰º†ÈÄíClassÁ±ªÂûãÁöÑÊåáÈíàÊó∂Ôºåstu‰∏≠ÁöÑClassÂèòÈáèÂ≠òÁöÑÊòØÊåáÈíàÔºåÊàë‰ª¨ÂèØÈÄöËøáËØ•ÊåáÈíàÁõ¥Êé•ËÆøÈóÆÊâÄÂ±ûÁöÑÊï∞ÊçÆÔºåÂ¶Çstu.Class.Name/stu.Class.Grade&lt;/p&gt;\n&lt;p&gt;ClassÂèòÈáèËß£ÊûêÂêéÁ±ªÂûã&lt;/p&gt;\n&lt;p&gt;classType: main.Class&lt;br&gt;\nclassType: *main.Class&lt;br&gt;\nËß£ÊûêÊó∂ÔºåÂ¶ÇÊûúÊé•Âèó‰Ωì‰∏≠ÂêåÊó∂Â≠òÂú®2‰∏™ÂåπÈÖçÁöÑÈ°πÔºå‰ºöÂèëÁîü‰ªÄ‰πàÂë¢Ôºü&lt;br&gt;\nÊµãËØï1&lt;/p&gt;\n&lt;p&gt;type StuRead struct {&lt;br&gt;\nNAme interface{}&lt;br&gt;\nName  interface{}&lt;br&gt;\nNAMe interface{}    &lt;code&gt;json:&amp;quot;name&amp;quot;&lt;/code&gt;&lt;br&gt;\n}&lt;br&gt;\nÁªìÊûú1:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;//ÂΩìÂ≠òÂú®ÂåπÈÖçÁöÑjsonÊ†áÁ≠æÊó∂ÔºåÂÖ∂ÂØπÂ∫îÁöÑÈ°πË¢´ËµãÂÄº„ÄÇ\n//ÂàáËÆ∞ÔºöÂåπÈÖçÁöÑÊ†áÁ≠æÂèØ‰ª•Ê≤°ÊúâÔºå‰ΩÜÊúâÊó∂ÊúÄÂ•ΩÂè™Êúâ‰∏Ä‰∏™Âì¶\n{&amp;lt;nil&amp;gt; &amp;lt;nil&amp;gt; Âº†‰∏â}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÊµãËØï2&lt;/p&gt;\n&lt;p&gt;type StuRead struct {&lt;br&gt;\nNAme interface{}&lt;br&gt;\nName  interface{}&lt;br&gt;\nNAMe interface{}    &lt;code&gt;json:&amp;quot;name&amp;quot;&lt;/code&gt;&lt;br&gt;\nNamE interface{}    &lt;code&gt;json:&amp;quot;name&amp;quot;&lt;/code&gt;&lt;br&gt;\n}&lt;br&gt;\nÁªìÊûú2&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;//ÂΩìÂåπÈÖçÁöÑjsonÊ†áÁ≠æÊúâÂ§ö‰∏™Êó∂ÔºåÊ†áÁ≠æÂØπÂ∫îÁöÑÈ°πÈÉΩ‰∏ç‰ºöË¢´ËµãÂÄº„ÄÇ\n//ÂøΩÁï•Ê†áÁ≠æÈ°πÔºå‰ªé‰∏äÂæÄ‰∏ãÂØªÊâæÁ¨¨‰∏Ä‰∏™Ê≤°ÊúâÊ†áÁ≠æ‰∏îÂåπÈÖçÁöÑÈ°πËµãÂÄº\n{Âº†‰∏â &amp;lt;nil&amp;gt; &amp;lt;nil&amp;gt; &amp;lt;nil&amp;gt;}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÊµãËØï3&lt;/p&gt;\n&lt;p&gt;type StuRead struct {&lt;br&gt;\nNAme interface{}&lt;br&gt;\nName  interface{}&lt;br&gt;\n}&lt;br&gt;\nÁªìÊûú3&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;//Ê≤°ÊúâjsonÊ†áÁ≠æÊó∂Ôºå‰ªé‰∏äÂæÄ‰∏ãÔºåÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÁöÑÈ°π‰ºöË¢´ËµãÂÄºÂì¶\n{Âº†‰∏â &amp;lt;nil&amp;gt;}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÊµãËØï4&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;type StuRead struct {\n    NAMe interface{}    `json:&amp;quot;name&amp;quot;`\n    NamE interface{}    `json:&amp;quot;name&amp;quot;`\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÁªìÊûú4&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;//ÂΩìÁõ∏ÂêåÁöÑjsonÊ†áÁ≠æÊúâÂ§ö‰∏™Ôºå‰∏îÊ≤°Êúâ‰∏çÂ∏¶Ê†áÁ≠æÁöÑÂåπÈÖçÈ°πÊó∂ÔºåÊä•Èîô‰∫ÜÂì¶\n# command-line-arguments\nsrc/test/b.go:48: stu.Name undefined (type *StuRead has no field or method Name, but does have NAMe)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÂèØËßÅÔºå‰∏éÂâçËæπËØ¥ËøáÁöÑÂåπÈÖçËßÑÂàôÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ&lt;/p&gt;\n&lt;p&gt;Â¶ÇÊûú‰∏çÊÉ≥ÊåáÂÆöClassÂèòÈáè‰∏∫ÂÖ∑‰ΩìÁöÑÁ±ªÂûãÔºå‰ªçÊÉ≥‰øùÁïôinterface{}Á±ªÂûãÔºå‰ΩÜÂèàÂ∏åÊúõËØ•ÂèòÈáèÂèØ‰ª•Ëß£ÊûêÂà∞struct ClassÂØπË±°‰∏≠ÔºåËøôÊó∂ÂÄôËØ•ÊÄé‰πàÂäûÂë¢Ôºü&lt;/p&gt;\n&lt;p&gt;ËøôÁßçÈúÄÊ±ÇÊòØÂæàÂèØËÉΩÂ≠òÂú®ÁöÑÔºå‰æãÂ¶ÇÁ¨îËÄÖÊàëÂ∞±Á¢∞Âà∞‰∫Ü&lt;/p&gt;\n&lt;p&gt;ÂäûÊ≥ïËøòÊòØÊúâÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜËØ•ÂèòÈáèÂÆö‰πâ‰∏∫json.RawMessageÁ±ªÂûã&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;type StuRead struct {\n    Name  interface{}\n    Age   interface{}\n    HIgh  interface{}\n    Class json.RawMessage `json:&amp;quot;class&amp;quot;` //Ê≥®ÊÑèËøôÈáå\n}\n\ntype Class struct {\n    Name  string\n    Grade int\n}\n\nfunc main() {\n    data:=&amp;quot;{\\&amp;quot;name\\&amp;quot;:\\&amp;quot;Âº†‰∏â\\&amp;quot;,\\&amp;quot;Age\\&amp;quot;:18,\\&amp;quot;high\\&amp;quot;:true,\\&amp;quot;sex\\&amp;quot;:\\&amp;quot;Áî∑\\&amp;quot;,\\&amp;quot;CLASS\\&amp;quot;:{\\&amp;quot;naME\\&amp;quot;:\\&amp;quot;1Áè≠\\&amp;quot;,\\&amp;quot;GradE\\&amp;quot;:3}}&amp;quot;\n    str:=[]byte(data)\n    stu:=StuRead{}\n    _:=json.Unmarshal(str,&amp;amp;stu)\n\n    //Ê≥®ÊÑèËøôÈáåÔºö‰∫åÊ¨°Ëß£ÊûêÔºÅ\n    cla:=new(Class)\n    json.Unmarshal(stu.Class,cla)\n\n    fmt.Println(&amp;quot;stu:&amp;quot;,stu)\n    fmt.Println(&amp;quot;string(stu.Class):&amp;quot;,string(stu.Class))\n    fmt.Println(&amp;quot;class:&amp;quot;,cla)\n    printType(&amp;amp;stu) //ÂáΩÊï∞ÂÆûÁé∞ÂâçÈù¢‰æãÂ≠êÊúâ\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÁªìÊûú&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;stu: {Âº†‰∏â 18 true [123 34 110 97 77 69 34 58 34 49 231 143 173 34 44 34 71 114 97 100 69 34 58 51 125]}\nstring(stu.Class): {&amp;quot;naME&amp;quot;:&amp;quot;1Áè≠&amp;quot;,&amp;quot;GradE&amp;quot;:3}\nclass: &amp;amp;{1Áè≠ 3}\nnameType: string\nageType: float64\nhighType: bool\nclassType: json.RawMessage\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;‰ªéÁªìÊûú‰∏≠ÂèØËßÅ&lt;/p&gt;\n&lt;p&gt;Êé•Êî∂‰Ωì‰∏≠ÔºåË¢´Â£∞Êòé‰∏∫json.RawMessageÁ±ªÂûãÁöÑÂèòÈáèÂú®jsonËß£ÊûêÊó∂ÔºåÂèòÈáèÂÄº‰ªç‰øùÁïôjsonÁöÑÂéüÂÄºÔºåÂç≥Êú™Ë¢´Ëá™Âä®Ëß£Êûê‰∏∫map[string]interface{}Á±ªÂûã„ÄÇÂ¶ÇÂèòÈáèClassËß£ÊûêÂêéÁöÑÂÄº‰∏∫Ôºö{‚ÄúnaME‚Äù:‚Äù1Áè≠‚Äù,‚ÄùGradE‚Äù:3}&lt;/p&gt;\n&lt;p&gt;‰ªéÊâìÂç∞ÁöÑÁ±ªÂûã‰πüÂèØ‰ª•ÁúãÂá∫ÔºåÂú®Á¨¨‰∏ÄÊ¨°jsonËß£ÊûêÊó∂ÔºåÂèòÈáèClassÁöÑÁ±ªÂûãÊòØjson.RawMessage„ÄÇÊ≠§Êó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÂØπËØ•ÂèòÈáèËøõË°å‰∫åÊ¨°jsonËß£ÊûêÔºåÂõ†‰∏∫ÂÖ∂ÂÄº‰ªçÊòØ‰∏™Áã¨Á´ã‰∏îÂèØËß£ÊûêÁöÑÂÆåÊï¥json‰∏≤„ÄÇÊàë‰ª¨Âè™ÈúÄÂÜçÂÆö‰πâ‰∏Ä‰∏™Êñ∞ÁöÑÊé•Âèó‰ΩìÂç≥ÂèØÔºåÂ¶Çjson.Unmarshal(stu.Class,cla)&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;golang-bi-ji-json-shu-ju-jie-xi-marshal-yu-unmarshal&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;golangÁ¨îËÆ∞-jsonÊï∞ÊçÆËß£ÊûêÔºöMarshal‰∏éUnmarshal&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;golang&#34;,&#34;slug&#34;:&#34;oHQV9cP9p&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/oHQV9cP9p/&#34;}],&#34;date&#34;:&#34;2020-05-28 18:15:31&#34;,&#34;dateFormat&#34;:&#34;2020-05-28&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/golang-bi-ji-json-shu-ju-jie-xi-marshal-yu-unmarshal/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;13 min read&#34;,&#34;time&#34;:754000,&#34;words&#34;:2981,&#34;minutes&#34;:13},&#34;description&#34;:&#34;ÁÆÄ‰ªã\nJson(Javascript Object Nanotation)ÊòØ‰∏ÄÁßçÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèÔºåÂ∏∏Áî®‰∫éÂâçÂêéÁ´ØÊï∞ÊçÆ‰º†Ëæì„ÄÇ‰ªªÊÑè‰∏ÄÁ´ØÂ∞ÜÊï∞ÊçÆËΩ¨Êç¢Êàêjson Â≠óÁ¨¶‰∏≤ÔºåÂè¶‰∏ÄÁ´ØÂÜçÂ∞ÜËØ•Â≠óÁ¨¶‰∏≤Ëß£ÊûêÊàêÁõ∏Â∫îÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂ¶ÇstringÁ±ªÂûãÔºåstrcutÂØπË±°Á≠â„ÄÇ\ngo...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%AE%80%E4%BB%8B\&#34;&gt;ÁÆÄ‰ªã&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%9E%E7%8E%B0\&#34;&gt;ÂÆûÁé∞&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h1 id=\&#34;Êï∞ÁªÑ\&#34;&gt;Êï∞ÁªÑ&lt;/h1&gt;\n&lt;p&gt;Êï∞ÁªÑÁöÑÈïøÂ∫¶‰∏ÄÊó¶ÂÆö‰πâ‰∫ÜÂ∞±‰∏çËÉΩÂä®ÊÄÅÂ¢ûÈïøÔºåÂπ∂‰∏îÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÁ±ªÂûãÂøÖÈ°ªÁõ∏Âêå„ÄÇ&lt;/p&gt;\n&lt;h2 id=\&#34;ÂàõÂª∫ÊñπÊ≥ï\&#34;&gt;ÂàõÂª∫ÊñπÊ≥ïÔºö&lt;/h2&gt;\n&lt;p&gt;var Êï∞ÁªÑÂêç [ÈïøÂ∫¶]Êï∞ÊçÆÁ±ªÂûã&lt;br&gt;\n‰æãÂ¶ÇÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;package main\nimport &amp;quot;fmt&amp;quot;\n \nfunc main(){\n    var test [5]int //ÂÆö‰πâÊï∞ÁªÑÂêçÂ≠ótestÔºåÈïøÂ∫¶‰∏∫5ÔºåÊï∞ÊçÆÁ±ªÂûã‰∏∫intÁöÑÊï∞ÁªÑ\n    test[0] = 1    //ËµãÂÄº\n    test[1] = 2   \n    test[2] = 3\n    test[3] = 4\n    fmt.Println(test) \n    fmt.Println(test[2])\n    fmt.Println(test[1:3]) //ËæìÂá∫1Âà∞3ÁöÑÊï∞ÁªÑ\n    fmt.Println(test[0:]) //0Âà∞ÁªìÂ∞æ\n    fmt.Println(test[:3])  //0Âà∞3\n \n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code&gt;##ÁªìÊûú##\n[1 2 3 4 0]\n3\n[2 3]\n[1 2 3 4 0]\n[1 2 3]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;Êï∞ÁªÑÁöÑÂõõÁßçÂàùÂßãÂåñÊñπÂºè\&#34;&gt;Êï∞ÁªÑÁöÑÂõõÁßçÂàùÂßãÂåñÊñπÂºè&lt;/h2&gt;\n&lt;p&gt;‰æãÂ¶ÇÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var s1 [3]int = [3]int{1,2,3}\nfmt.Println(&amp;quot;s1&amp;quot;,s1)\nvar s2 [4]int = [...]int{5,6,7,8} //[...]ÊòØÂõ∫ÂÆöÂÜôÊ≥ï\nfmt.Println(&amp;quot;s2&amp;quot;,s2)\nvar s3 = [2]int{9,10} //Á¨¨‰∏ÄÁßçÁöÑÁÆÄÂåñ\nfmt.Println(&amp;quot;s3&amp;quot;,s3)\nvar s4 = [...]int{3:43,1:41,0:40,2:42} //Á±ª‰ººÈîÆÂÄºÂØπ\nfmt.Println(&amp;quot;s4&amp;quot;,s4)\nvar s5 = new([5]int)\ns5[4] =12\nfmt.Println(&amp;quot;s5&amp;quot;,s5)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code&gt;##ÁªìÊûú##\ns1 [1 2 3]\ns2 [5 6 7 8]\ns3 [9 10]\ns4 [40 41 42 43]\ns5 [0 0 0 0 5]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;Êï∞ÁªÑÁöÑÈÅçÂéÜ\&#34;&gt;Êï∞ÁªÑÁöÑÈÅçÂéÜ&lt;/h2&gt;\n&lt;p&gt;‰æãÂ¶ÇÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var s4 = [...]int{3:43,1:41,0:40,2:42} //Á±ª‰ººÈîÆÂÄºÂØπ\nfmt.Println(&amp;quot;s4&amp;quot;,s4)\n     \nfor index,value := range s4{\nfmt.Println(index,value)\n}\n \n#ÁªìÊûú##\n0 40\n1 41\n2 42\n3 43\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code&gt;var s4 = [...]int{3:43,1:41,0:40,2:42} //Á±ª‰ººÈîÆÂÄºÂØπ\nfor i := 0;i &amp;lt;len(s4);i++{\nfmt.Println(i,s4[i])\n}\n \n#ÁªìÊûú##\n0 40\n1 41\n2 42\n3 43\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;sliceÂàáÁâá\&#34;&gt;sliceÂàáÁâá&lt;/h1&gt;\n&lt;p&gt;1„ÄÅÂàáÁâáÊòØÊï∞ÁªÑÁöÑÂºïÁî®(ÂàáÁâáÊòØÊï∞ÁªÑÁöÑ‰∏ÄÈÉ®ÂàÜ)&lt;br&gt;\n2„ÄÅÂàáÁâáÁöÑ‰ΩøÁî®Á±ª‰ººÊï∞ÁªÑÔºåÂ¶ÇÈÅçÂéÜ&lt;br&gt;\n3„ÄÅÂàáÁâáÁöÑÈïøÂ∫¶ÊòØÂèØÂèòÁöÑ&lt;/p&gt;\n&lt;h2 id=\&#34;ÂàõÂª∫ËØ≠Ê≥ï\&#34;&gt;ÂàõÂª∫ËØ≠Ê≥ï&lt;/h2&gt;\n&lt;p&gt;var ÂàáÁâáÂêç []Á±ªÂûã&lt;br&gt;\nÂ¶ÇÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var qiepian []int\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ÂàáÁâáÁ§∫‰æã\&#34;&gt;ÂàáÁâáÁ§∫‰æã:&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;###‰æãÂ≠ê‰∏Ä&amp;lt;br&amp;gt;var suzhu [4]int = [...]int{5,6,7,8}\nslice := suzhu[1:4] //1Âà∞4ÁöÑÂÄºÔºå‰∏çÂåÖÂê´4\nfmt.Println(suzhu)\nfmt.Println(slice)\nfmt.Println(&amp;quot;ÂàáÁâáÁöÑÂÆπÈáè&amp;quot;,cap(slice))\n \n##ÁªìÊûú\n[5 6 7 8]\n[6 7 8]\nÂàáÁâáÁöÑÂÆπÈáè 3&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;\n###‰æãÂ≠ê‰∫å„ÄÅ‰ΩøÁî®makeÂàõÂª∫ÂàáÁâá\nvar slice []int = make([]int,4,10) //Á±ªÂûãÔºåÂ§ßÂ∞è(ÈïøÂ∫¶),ÂÆπÈáèÔºàÂèØÈÄâÔºâÔºåÂÆπÈáèÂøÖÈ°ªÂ§ß‰∫éÈïøÂ∫¶\nslice[0] = 10\nslice[1] = 11\nfmt.Println(slice)\n \n##ÁªìÊûú##\n[10 11 0 0]\n \n \n###‰æãÂ≠ê‰∏â\nvar slice []int = []int {2,4,6}\nfmt.Println(slice)\n \n##ÁªìÊûú##\n2 4 6\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ÂàáÁâáÁöÑappendËøΩÂä†\&#34;&gt;ÂàáÁâáÁöÑappendËøΩÂä†&lt;/h2&gt;\n&lt;p&gt;‰æãÂ¶ÇÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var slice []int = []int {2,4,6}\nfmt.Println(slice)\n//‰ΩøÁî®appendÁõ¥Êé•ËøΩÂä†ÂàáÁâáÂÜÖÂÆπÔºàÁ±ª‰ººpython listÁöÑappendÔºâ\nslice = append(slice,8,10)\nfmt.Println(slice)\nslice = append(slice,slice...) //ËøΩÂä†ÂàáÁâáÔºå...ÊòØÂõ∫ÂÆöÂÜôÊ≥ï\nfmt.Println(slice)\n \n###ÁªìÊûú###\n[2 4 6]\n[2 4 6 8 10]\n[2 4 6 8 10 2 4 6 8 10]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ÂàáÁâáÁöÑcopyÊìç‰Ωú\&#34;&gt;ÂàáÁâáÁöÑcopyÊìç‰Ωú&lt;/h2&gt;\n&lt;p&gt;‰ΩøÁî®copyÂÜÖÁΩÆÂáΩÊï∞&lt;br&gt;\n‰æãÂ¶Ç:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var slice []int = []int {2,4,6}\nfmt.Println(slice)\nvar slice2 []int = make([]int,5)\nfmt.Println(slice2)\ncopy(slice2,slice) //Â∞ÜsliceÂ§çÂà∂Áªôslice2\nfmt.Println(slice)\nfmt.Println(slice2)\n \n##ÁªìÊûú##\n[2 4 6]\n[0 0 0 0 0]\n[2 4 6]\n[2 4 6 0 0]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;‰ΩøÁî®ÂàáÁâáÊîπÂèòÂ≠óÁ¨¶‰∏≤ÁöÑÂÜÖÂÆπ\&#34;&gt;‰ΩøÁî®ÂàáÁâáÊîπÂèòÂ≠óÁ¨¶‰∏≤ÁöÑÂÜÖÂÆπ&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;var str string = &amp;quot;hello&amp;quot;\nfmt.Println(str)\narr := []byte(str)\narr[1] = &#39;a&#39; //ËΩ¨ÊàêÂ≠óÁ¨¶‰∏≤\narr1 := []rune(str) //‰∏≠ÊñáËΩ¨Êç¢\narr1[0] = &#39;Áãó&#39;\nfmt.Println(arr)\nstr = string(arr)\nfmt.Println(str)\nstr = string(arr1)\nfmt.Println(str)\n \n##ÁªìÊûú##\nhello\n[104 97 108 108 111]\nhello\nÁãóhello\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;map\&#34;&gt;map&lt;/h1&gt;\n&lt;p&gt;mapÊòØkey-valueÊï∞ÊçÆÁªìÊûÑ(Á±ª‰ººpythonÁöÑdict)&lt;br&gt;\nmapÊòØÊó†Â∫èÂ≠òÂÇ®ÁöÑ&lt;/p&gt;\n&lt;p&gt;ÂàõÂª∫mapËØ≠Ê≥ï&lt;br&gt;\nvar map ÂèòÈáèÂêç map[keytype]valuetype&lt;/p&gt;\n&lt;p&gt;Â¶ÇÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var m1 map[string]string\nvar m2 map[string]int\nvar m3 map[int]string\nvar m4 map[string]map[string]string\n```„ÄÄ„ÄÄ\n\n‰ΩøÁî®‰æãÂ≠êÔºö\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;package main&lt;br&gt;\nimport &amp;quot;fmt&amp;quot;&lt;/p&gt;\n&lt;p&gt;func main(){&lt;br&gt;\nvar m1 map[string]string&lt;br&gt;\n//Âú®‰ΩøÁî®mapÂâç,ÈúÄË¶ÅÂÖàmakeÔºåmakeÁöÑ‰ΩúÁî®ÊäÄÊúØÁªômapÂàÜÈÖçÊï∞ÊçÆÁ©∫Èó¥&lt;br&gt;\nm1 = make(map[string]string)&lt;br&gt;\nm2 := map[string]string{  //‰ΩøÁî®ÊñπÂºè‰∫å&lt;br&gt;\n&amp;quot;a1&amp;quot; : &amp;quot;q1&amp;quot;,&lt;br&gt;\n&amp;quot;a2&amp;quot; : &amp;quot;a2&amp;quot;,&lt;br&gt;\n}&lt;br&gt;\nm1[&amp;quot;s1&amp;quot;] = &amp;quot;‰∫öÁ¥¢&amp;quot;&lt;br&gt;\nm1[&amp;quot;s2&amp;quot;] = &amp;quot;Áõñ‰º¶&amp;quot;&lt;br&gt;\nfmt.Println(m1)&lt;br&gt;\nfmt.Println(m1[&amp;quot;s1&amp;quot;])&lt;br&gt;\nfmt.Println(m2)&lt;br&gt;\n}&lt;/p&gt;\n&lt;p&gt;###ÁªìÊûú###&lt;br&gt;\nmap[s1:‰∫öÁ¥¢ s2:Áõñ‰º¶]&lt;br&gt;\n‰∫öÁ¥¢&lt;br&gt;\nmap[a1:q1 a2:a2]&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;\n \n\nmapÁöÑÂ¢ûÂà†ÊîπÊü•\nÂ¢û„ÄÅÊîπ\nmap[key] = value //Ê≤°ÊúâÂ∞±Â¢ûÂä†ÔºåÂ≠òÂú®Â∞±‰øÆÊîπ\n\nÂà†\ndelete(map,key)\n\nÊü•\nmap[key]   //ÂØπÂ∫îÁöÑvalueÔºåÂíåpythonÁöÑdict‰∏ÄÊ†∑&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;golang-bi-ji-shu-zu-qie-pian-map&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;golangÁ¨îËÆ∞-Êï∞ÁªÑ„ÄÅÂàáÁâá„ÄÅmap&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;golang&#34;,&#34;slug&#34;:&#34;oHQV9cP9p&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/oHQV9cP9p/&#34;}],&#34;date&#34;:&#34;2020-05-26 13:29:04&#34;,&#34;dateFormat&#34;:&#34;2020-05-26&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/golang-bi-ji-shu-zu-qie-pian-map/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;5 min read&#34;,&#34;time&#34;:292000,&#34;words&#34;:966,&#34;minutes&#34;:5},&#34;description&#34;:&#34;Êï∞ÁªÑ\nÊï∞ÁªÑÁöÑÈïøÂ∫¶‰∏ÄÊó¶ÂÆö‰πâ‰∫ÜÂ∞±‰∏çËÉΩÂä®ÊÄÅÂ¢ûÈïøÔºåÂπ∂‰∏îÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÁ±ªÂûãÂøÖÈ°ªÁõ∏Âêå„ÄÇ\nÂàõÂª∫ÊñπÊ≥ïÔºö\nvar Êï∞ÁªÑÂêç [ÈïøÂ∫¶]Êï∞ÊçÆÁ±ªÂûã\n‰æãÂ¶ÇÔºö\npackage main\nimport &amp;quot;fmt&amp;quot;\n \nfunc main(){\n    va...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%95%B0%E7%BB%84\&#34;&gt;Êï∞ÁªÑ&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%9B%E5%BB%BA%E6%96%B9%E6%B3%95\&#34;&gt;ÂàõÂª∫ÊñπÊ≥ïÔºö&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%95%B0%E7%BB%84%E7%9A%84%E5%9B%9B%E7%A7%8D%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E5%BC%8F\&#34;&gt;Êï∞ÁªÑÁöÑÂõõÁßçÂàùÂßãÂåñÊñπÂºè&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%95%B0%E7%BB%84%E7%9A%84%E9%81%8D%E5%8E%86\&#34;&gt;Êï∞ÁªÑÁöÑÈÅçÂéÜ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#slice%E5%88%87%E7%89%87\&#34;&gt;sliceÂàáÁâá&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%9B%E5%BB%BA%E8%AF%AD%E6%B3%95\&#34;&gt;ÂàõÂª∫ËØ≠Ê≥ï&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%87%E7%89%87%E7%A4%BA%E4%BE%8B\&#34;&gt;ÂàáÁâáÁ§∫‰æã:&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%87%E7%89%87%E7%9A%84append%E8%BF%BD%E5%8A%A0\&#34;&gt;ÂàáÁâáÁöÑappendËøΩÂä†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%87%E7%89%87%E7%9A%84copy%E6%93%8D%E4%BD%9C\&#34;&gt;ÂàáÁâáÁöÑcopyÊìç‰Ωú&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BD%BF%E7%94%A8%E5%88%87%E7%89%87%E6%94%B9%E5%8F%98%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%86%85%E5%AE%B9\&#34;&gt;‰ΩøÁî®ÂàáÁâáÊîπÂèòÂ≠óÁ¨¶‰∏≤ÁöÑÂÜÖÂÆπ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#map\&#34;&gt;map&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;pre&gt;&lt;code&gt;HPAÂÖ®Áß∞Horizontal Pod AutoscalingÔºåÊòØK8sÂÆûÁé∞podËá™Âä®Ê∞¥Âπ≥Êâ©ÂÆπÁº©ÂÆπÁöÑÁâπÊÄßÔºåËøô‰∏™ÁâπÊÄß‰ΩøÊï¥‰∏™kubernetesÈõÜÁæ§È©¨‰∏äÈ´òÂ§ß‰∏äËµ∑Êù•‰∫Ü„ÄÇ\nË¶Å‰ΩøÁî®HPA‰πü‰∏çÊòØËøô‰πàÁÆÄÂçïÁöÑÔºåHPA apiÂàÜv1„ÄÅv2beta1„ÄÅv2bate2‰∏âÁßçÔºåv1Âè™ÊîØÊåÅÈÄöËøáCPUË°°ÈáèÊâ©Áº©ÂÆπÔºåv2bate1Âä†ÂÖ•ÈíàÂØπÂÜÖÂ≠ò‰Ωú‰∏∫Â∫¶ÈáèÔºåv2bate2ÂèØ‰ª•Áî®customer metrics‰æãÂ¶ÇÁΩëÁªúÁ≠âÔºåÊâÄ‰ª•v2bate1ÂºÄÂßãÊâçÊØîËæÉÂÆûÁî®„ÄÇ\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Ë¶Å‰ΩøÁî®HPAÂøÖÈ°ªË¶ÅÂºÄÂêØ‰ª•‰∏ã‰∏§‰∏™ÁâπÊÄßÔºö&lt;/p&gt;\n&lt;p&gt;Aggregation Layer ËÅöÂêàÂ±ÇÔºåÈÄöËøá‰∏éÊ†∏ÂøÉÁöÑapiserverÂàÜÁ¶ªÔºåÂÆûÁé∞Ëá™ÂÆö‰πâÁöÑÊâ©Â±ïÂäüËÉΩ&lt;br&gt;\nmetrics-server Êï∞ÊçÆÊî∂ÈõÜÔºåËÉΩÂ§üÊî∂ÈõÜpod„ÄÅnodeÁ≠âÂÆûÊó∂ËøêË°åÊåáÊ†áÔºàcpu„ÄÅÂÜÖÂ≠òÔºâÔºåÁªôk8sÈõÜÁæ§‰ΩøÁî®Ôºå‰æãÂ¶Çkubectl topÂëΩ‰ª§„ÄÅHPA&lt;br&gt;\nÊØîËæÉËÄÅÁöÑÁâàÊú¨‰ΩøÁî®heapster&lt;/p&gt;\n&lt;h1 id=\&#34;aggregation-layer\&#34;&gt;Aggregation Layer&lt;/h1&gt;\n&lt;p&gt;Ë¶ÅÊâìÂºÄAggregation LayerÔºåÈúÄË¶ÅÈÖçÁΩÆ‰∏Ä‰∏ãapiserverÔºåÂ¢ûÂä†Áõ∏ÂÖ≥ËÆ§ËØÅËØÅ‰π¶„ÄÇËÆ§ËØÅÊµÅÁ®ãÊòØclientÂèëËµ∑ËØ∑Ê±ÇÂà∞apiserverÔºåapiserver‰∏éaggergated apiserverÂª∫Á´ãtlsÂÆâÂÖ®ÈìæÊé•ÔºåÊääËØ∑Ê±ÇproxyÂà∞aggergated apiserverÔºåÁªßÁª≠ËøõË°å‚Äìrequestheader-*ÂèÇÊï∞ÁöÑÁõ∏ÂÖ≥ËÆ§ËØÅ„ÄÇ&lt;/p&gt;\n&lt;p&gt;ËÆ§ËØÅÊµÅÁ®ã&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1589865988979.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;ÈúÄË¶ÅÁîüÊàêaggregate‰ΩøÁî®ÁöÑËØÅ‰π¶ÔºåÂèÇËÄÉcfsslÁîüÊàêËØÅ‰π¶ÊñπÊ≥ïÔºåproxy-client-cert-fileÁöÑCNÈúÄË¶Å‰∏érequestheader-allowed-namesÂåπÈÖç„ÄÇ&lt;br&gt;\nÂú®apiserverÂ¢ûÂä†Â¶Ç‰∏ãÂêØÂä®ÂèÇÊï∞&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;--requestheader-client-ca-file=/etc/kubernetes/pki/agg-ca.pem\n--proxy-client-cert-file=/etc/kubernetes/pki/aggregate.pem\n--proxy-client-key-file=/etc/kubernetes/pki/aggregate-key.pem\n--requestheader-allowed-names=aggregator\n--requestheader-extra-headers-prefix=X-Remote-Extra-\n--requestheader-group-headers=X-Remote-Group\n--requestheader-username-headers=X-Remote-User\n#Â¶ÇÊûúkube-proxyÊ≤°ÊúâÂú®Master‰∏äÈù¢ËøêË°åÔºåËøòÈúÄË¶ÅÈÖçÁΩÆ\n--enable-aggregator-routing=true\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;metrics-server\&#34;&gt;metrics server&lt;/h1&gt;\n&lt;p&gt;‰ªék8s 1.8ÂºÄÂßãÔºåÈõÜÁæ§ÁöÑËµÑÊ∫ê‰ΩøÁî®ÊÉÖÂÜµÈÉΩÈÄöËøámetrics apiÊî∂ÈõÜÔºå‰æãÂ¶ÇÂÆπÂô®CPU„ÄÅÂÜÖÂ≠ò„ÄÇËøô‰∫õÊåáÊ†áÂèØÁî®‰∫ékuberctl topÊàñËÄÖk8sÁöÑHPAÁ≠âÁâπÊÄß„ÄÇ&lt;br&gt;\nmetrice serverÂèØ‰ª•Âú®githubÊâæÂà∞Âπ∂ÈÉ®ÁΩ≤&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;git clone https://github.com/kubernetes-incubator/metrics-server\ncd metrics-server\nkubectl create -f deploy/1.8+/\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code&gt;Ê≥®1Ôºömetrics-serverÈªòËÆ§‰ΩøÁî®nodeÁöÑ‰∏ªÊú∫ÂêçÔºå‰ΩÜÊòØcorednsÈáåÈù¢Ê≤°ÊúâÁâ©ÁêÜÊú∫‰∏ªÊú∫ÂêçÁöÑËß£ÊûêÔºå‰∏ÄÁßçÊòØÈÉ®ÁΩ≤ÁöÑÊó∂ÂÄôÊ∑ªÂä†‰∏Ä‰∏™ÂèÇÊï∞Ôºö ‚Äìkubelet-preferred-address-types=InternalIP,Hostname,InternalDNS,ExternalDNS,ExternalIP,Á¨¨‰∫åÁßçÊòØ‰ΩøÁî®dnsmasqÊûÑÂª∫‰∏Ä‰∏™‰∏äÊ∏∏ÁöÑdnsÊúçÂä°\nÊ≥®2Ôºökubelet ÁöÑ10250Á´ØÂè£‰ΩøÁî®ÁöÑÊòØhttpsÂçèËÆÆÔºåËøûÊé•ÈúÄË¶ÅÈ™åËØÅtlsËØÅ‰π¶„ÄÇÂèØ‰ª•Âú®metrics serverÂêØÂä®ÂëΩ‰ª§Ê∑ªÂä†ÂèÇÊï∞‚Äìkubelet-insecure-tls‰∏çÈ™åËØÅÂÆ¢Êà∑Á´ØËØÅ‰π¶\nÊ≥®3ÔºöyamlÊñá‰ª∂‰∏≠ÁöÑimageÂú∞ÂùÄk8s.gcr.io/metrics-server-amd64:v0.3.3 ÈúÄË¶ÅÊ¢ØÂ≠êÔºåÈúÄË¶ÅÊîπÊàê‰∏≠ÂõΩÂèØ‰ª•ËÆøÈóÆÁöÑimageÂú∞ÂùÄÔºåÂèØ‰ª•‰ΩøÁî®aliyunÁöÑ„ÄÇËøôÈáå‰ΩøÁî®hub.docker.comÈáåÁöÑgoogleÈïúÂÉèÂú∞ÂùÄ image: mirrorgooglecontainers/metrics-server-amd64:v0.3.3\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÊàêÂäüËøêË°åkubectl topÂëΩ‰ª§&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;ubuntu@k8s-dev-m1:~/k8sssl/agglayer$ kubectl top nodes\nNAME                   CPU(cores)   CPU%   MEMORY(bytes)   MEMORY%   \nk8s-dev-node2          103m         5%      2696Mi                 72%       \nk8s-dev-node3.bxr.cn   115m      2%     5312Mi                  67%  \nk8s-dev-node4          57m          2%       2634Mi                  70%     \nk8s-dev-node5          148m         7%       2443Mi                  65%\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;hpa\&#34;&gt;HPA&lt;/h1&gt;\n&lt;pre&gt;&lt;code&gt;Êúâ‰∫ÜmetricsÂ∞±ÂèØ‰ª•ÂºÄÂßã‰ΩøÁî®HPAÁâπÊÄß‰∫Ü„ÄÇhpaÊúâÂá†‰∏™ÁâπÁÇπ\ndeployÊàñËÄÖrsÁ≠âÈúÄË¶ÅËÆæÁΩÆresourcesÊâçËÉΩ‰ΩøÁî®hpa\nÂ¶ÇÊûúÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™HPA controllerÔºåÂÆÉ‰ºöÊØèÈöî15sÔºàÂèØ‰ª•ÈÄöËøá‚Äìhorizontal-pod-autoscaler-sync-period‰øÆÊîπÔºâÊ£ÄÊµã‰∏ÄÊ¨°hpaÂÆö‰πâÁöÑËµÑÊ∫ê‰∏éÂÆûÈôÖËµÑÊ∫ê‰ΩøÁî®ÊÉÖÂÜµÔºåÂ¶ÇÊûúËææÂà∞ÈòÄÂÄºÂ∞±‰ºöË∞ÉÊï¥podÊï∞Èáè„ÄÇ\nHPAËÆæÁΩÆÁöÑÈòÄÂÄº‰∏çÊòØÁªùÂØπÁöÑÔºåÂÖÅËÆ∏ËÆæÁΩÆ‰∏Ä‰∏™ÊµÆÂä®ËåÉÂõ¥Ôºå‚Äìhorizontal-pod-autoscaler-toleranceÈªòËÆ§ÊòØ0.1\npodË∞ÉÊï¥ÁÆóÊ≥ï desiredReplicas = ceil[currentReplicas * ( currentMetricValue / desiredMetricValue )]\nscaleÊúâ‰∏Ä‰∏™Á™óÂè£ÊúüÔºåÊúüÈó¥ÊØèÊ¨°ÂèòÂåñ‰ºöËÆ∞ÂΩï‰∏ãÊù•ÔºåÈÄâÊã©ÊúÄ‰ºòÁöÑË∞ÉÊï¥Âª∫ËÆÆÂÜçËøõË°åscaleÔºåËøôÊ†∑ÂèØ‰ª•‰øùËØÅËµÑÊ∫êÂπ≥ÊªëÂèòÂä®ÔºåÈÄöËøá‚Äìhorizontal-pod-autoscaler-downscale-stabilizationËÆæÂÆöÔºåÈªòËÆ§5ÂàÜÈíü„ÄÇ\nÈÄöËøáhpaË∞ÉÊï¥Êñ∞Â¢ûÁöÑpod‰∏ç‰ºöÈ©¨‰∏äreadyÔºåËøôÊó∂ÂÄôÊî∂ÈõÜÁöÑmetricsÂ∞±‰∏çÂáÜÔºå‰∏∫‰∫ÜÂáèÂ∞ëÂΩ±ÂìçÔºåhpa‰∏ÄÂºÄÂßã‰∏ç‰ºöÊî∂ÈõÜÊñ∞podÁöÑmetrics„ÄÇÈÄöËøá‚Äìhorizontal-pod-autoscaler-initial-readiness-delayÔºàÈªòËÆ§30sÔºâÂíå ‚Äìhorizontal-pod-autoscaler-cpu-initialization-periodÔºàÈªòËÆ§‰∏∫ 5 ÂàÜÈíüÔºâË∞ÉÊï¥\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;img src=\&#34;http://lvelvis.github.io/post-images/1589866316410.svg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nÁ§∫‰æãhpa.yml:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;apiVersion: autoscaling/v2beta2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: hpa-test\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: podinfo\n  minReplicas: 2\n  maxReplicas: 10\n  metrics:\n  - type: Resource\n    resource:\n      name: cpu\n      target:\n        type: Utilization\n        averageUtilization: 75\n  - type: Resource\n    resource:\n      name: memory\n      target:\n        type: Utilization \n        averageUtilization: 160\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;‰∏äÈù¢ÁöÑÁ§∫‰æãÂåÖÊã¨cpuÂíåmemoryÊåáÊ†áÔºåaverageUtilizationËøô‰∏™ÁôæÂàÜÊØîÊòØÊ†πÊçÆdeploymentÁöÑresources.requestsËÆ°ÁÆóÁöÑ„ÄÇ‰æãÂ¶ÇÊúâdeploymentÈôêÂà∂requestsÊòØ512MiÔºåreplicasÊòØ2ÔºåÂÆûÈôÖpod1Áî®‰∫Ü612MiÔºåpod2Áî®‰∫Ü598MiÔºåËÆ°ÁÆóÂÖ¨ÂºèÊòØ (612+598)/2/512 = 118%&lt;/p&gt;\n&lt;p&gt;Êü•ÁúãhpaÁöÑÊÉÖÂÜµÔºåtargetsÁ¨¨‰∏Ä‰∏™ÊòØmemoryÔºåÁ¨¨‰∫å‰∏™ÊòØcpuÊåáÊ†áÔºåREPLICASÊòØÊ†πÊçÆËÆ°ÁÆóÂêéÁöÑÂΩìÂâçpodÊï∞&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;ubuntu@k8s-m1:~/k8s/hpa$ kubectl get hpa\nNAME       REFERENCE            TARGETS             MINPODS   MAXPODS   REPLICAS   AGE\nhpa-test   Deployment/podinfo   120%/160%, 6%/75%   2         4         3          97m\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÂÆòÊñπÁ§∫‰æãËøòÂåÖÊã¨packets-per-second„ÄÅrequests-per-secondËøô‰∫õÊåáÊ†áÔºåÈúÄË¶ÅËøõ‰∏ÄÊ≠•È™åËØÅ&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;apiVersion: autoscaling/v2beta1\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: php-apache\n  namespace: default\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: php-apache\n  minReplicas: 1\n  maxReplicas: 10\n  metrics:\n  - type: Resource\n    resource:\n      name: cpu\n      target:\n        type: AverageUtilization\n        averageUtilization: 50\n  - type: Pods\n    pods:\n      metric:\n        name: packets-per-second\n      targetAverageValue: 1k\n  - type: Object\n    object:\n      metric:\n        name: requests-per-second\n      describedObject:\n        apiVersion: networking.k8s.io/v1beta1\n        kind: Ingress\n        name: main-route\n      target:\n        kind: Value\n        value: 10k\nstatus:\n  observedGeneration: 1\n  lastScaleTime: &amp;lt;some-time&amp;gt;\n  currentReplicas: 1\n  desiredReplicas: 1\n  currentMetrics:\n  - type: Resource\n    resource:\n      name: cpu\n    current:\n      averageUtilization: 0\n      averageValue: 0\n  - type: Object\n    object:\n      metric:\n        name: requests-per-second\n      describedObject:\n        apiVersion: networking.k8s.io/v1beta1\n        kind: Ingress\n        name: main-route\n      current:\n        value: 10k\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=\&#34;https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough/#create-horizontal-pod-autoscaler\&#34;&gt;ÂÆòÊñπhpaÂèÇÊï∞&lt;/a&gt;&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;k8s-hpa-dan-xing-kuo-rong-pei-zhi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;k8s hpaÂºπÊÄßÊâ©ÂÆπÈÖçÁΩÆ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;hpa&#34;,&#34;slug&#34;:&#34;1VCnVUFme&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/1VCnVUFme/&#34;},{&#34;index&#34;:-1,&#34;name&#34;:&#34;k8s&#34;,&#34;slug&#34;:&#34;Q617Y3Kh2&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/Q617Y3Kh2/&#34;}],&#34;date&#34;:&#34;2020-05-19 13:24:13&#34;,&#34;dateFormat&#34;:&#34;2020-05-19&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/k8s-hpa-dan-xing-kuo-rong-pei-zhi/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;6 min read&#34;,&#34;time&#34;:328000,&#34;words&#34;:1211,&#34;minutes&#34;:6},&#34;description&#34;:&#34;HPAÂÖ®Áß∞Horizontal Pod AutoscalingÔºåÊòØK8sÂÆûÁé∞podËá™Âä®Ê∞¥Âπ≥Êâ©ÂÆπÁº©ÂÆπÁöÑÁâπÊÄßÔºåËøô‰∏™ÁâπÊÄß‰ΩøÊï¥‰∏™kubernetesÈõÜÁæ§È©¨‰∏äÈ´òÂ§ß‰∏äËµ∑Êù•‰∫Ü„ÄÇ\nË¶Å‰ΩøÁî®HPA‰πü‰∏çÊòØËøô‰πàÁÆÄÂçïÁöÑÔºåHPA apiÂàÜv1„ÄÅv2beta1„ÄÅv2ba...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#aggregation-layer\&#34;&gt;Aggregation Layer&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#metrics-server\&#34;&gt;metrics server&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#hpa\&#34;&gt;HPA&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;Go ËØ≠Ë®ÄÂÜÖÈÉ®ÂÖ∂ÂÆûÂ∑≤ÁªèÊèê‰æõ‰∫Ü http.ServeFileÔºåÈÄöËøáËøô‰∏™ÂáΩÊï∞ÂèØ‰ª•ÂÆûÁé∞ÈùôÊÄÅÊñá‰ª∂ÁöÑÊúçÂä°„ÄÇ&lt;/p&gt;\n&lt;p&gt;beego ÈíàÂØπËøô‰∏™ÂäüËÉΩËøõË°å‰∫Ü‰∏ÄÂ±ÇÂ∞ÅË£ÖÔºåÈÄöËøá‰∏ãÈù¢ÁöÑÊñπÂºèËøõË°åÈùôÊÄÅÊñá‰ª∂Ê≥®ÂÜåÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;beego.SetStaticPath(&amp;quot;/static&amp;quot;,&amp;quot;public&amp;quot;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØË∑ØÂæÑÔºåurl Ë∑ØÂæÑ‰ø°ÊÅØ&lt;br&gt;\nÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØÈùôÊÄÅÊñá‰ª∂ÁõÆÂΩïÔºàÁõ∏ÂØπÂ∫îÁî®ÊâÄÂú®ÁöÑÁõÆÂΩïÔºâ&lt;br&gt;\nbeego ÊîØÊåÅÂ§ö‰∏™ÁõÆÂΩïÁöÑÈùôÊÄÅÊñá‰ª∂Ê≥®ÂÜåÔºåÁî®Êà∑ÂèØ‰ª•Ê≥®ÂÜåÂ¶Ç‰∏ãÁöÑÈùôÊÄÅÊñá‰ª∂ÁõÆÂΩïÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;beego.SetStaticPath(&amp;quot;/images&amp;quot;,&amp;quot;images&amp;quot;)\nbeego.SetStaticPath(&amp;quot;/css&amp;quot;,&amp;quot;css&amp;quot;)\nbeego.SetStaticPath(&amp;quot;/js&amp;quot;,&amp;quot;js&amp;quot;)\n```„ÄÄ„ÄÄ\n\nËÆæÁΩÆ‰∫ÜÂ¶Ç‰∏äÁöÑÈùôÊÄÅÁõÆÂΩï‰πãÂêéÔºåÁî®Êà∑ËÆøÈóÆ /images/login/login.pngÔºåÈÇ£‰πàÂ∞±‰ºöËÆøÈóÆÂ∫îÁî®ÂØπÂ∫îÁöÑÁõÆÂΩï‰∏ãÈù¢ÁöÑ images/login/login.png Êñá‰ª∂„ÄÇ\n\nÂ¶ÇÊûúÊòØËÆøÈóÆ /static/img/logo.pngÔºåÈÇ£‰πàÂ∞±ËÆøÈóÆ public/img/logo.pngÊñá‰ª∂„ÄÇ\n\nÈªòËÆ§ÊÉÖÂÜµ‰∏ã beego ‰ºöÂà§Êñ≠ÁõÆÂΩï‰∏ãÊñá‰ª∂ÊòØÂê¶Â≠òÂú®Ôºå‰∏çÂ≠òÂú®Áõ¥Êé•ËøîÂõû 404 È°µÈù¢ÔºåÂ¶ÇÊûúËØ∑Ê±ÇÁöÑÊòØ index.htmlÔºåÈÇ£‰πàÁî±‰∫é http.ServeFile ÈªòËÆ§ÊòØ‰ºöË∑≥ËΩ¨ÁöÑÔºå‰∏çÊèê‰æõËØ•È°µÈù¢ÁöÑÊòæÁ§∫„ÄÇ\n\nÂõ†Ê≠§ beego ÂèØ‰ª•ËÆæÁΩÆ beego.BConfig.WebConfig.DirectoryIndex=true ËøôÊ†∑Êù•‰ΩøÂæóÊòæÁ§∫ index.html È°µÈù¢„ÄÇËÄå‰∏îÂºÄÂêØËØ•ÂäüËÉΩ‰πãÂêéÔºåÁî®Êà∑ËÆøÈóÆÁõÆÂΩïÂ∞±‰ºöÊòæÁ§∫ËØ•ÁõÆÂΩï‰∏ãÊâÄÊúâÁöÑÊñá‰ª∂ÂàóË°®„ÄÇ&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;beego-jing-tai-wen-jian-jia-zai-lu-jing-xiu-gai&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;beegoÈùôÊÄÅÊñá‰ª∂Âä†ËΩΩË∑ØÂæÑ‰øÆÊîπ&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;golang&#34;,&#34;slug&#34;:&#34;oHQV9cP9p&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/oHQV9cP9p/&#34;},{&#34;name&#34;:&#34;beego&#34;,&#34;slug&#34;:&#34;WCSltmB8m&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/WCSltmB8m/&#34;}],&#34;date&#34;:&#34;2020-05-11 12:49:08&#34;,&#34;dateFormat&#34;:&#34;2020-05-11&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/beego-jing-tai-wen-jian-jia-zai-lu-jing-xiu-gai/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:77000,&#34;words&#34;:328,&#34;minutes&#34;:2},&#34;description&#34;:&#34;Go ËØ≠Ë®ÄÂÜÖÈÉ®ÂÖ∂ÂÆûÂ∑≤ÁªèÊèê‰æõ‰∫Ü http.ServeFileÔºåÈÄöËøáËøô‰∏™ÂáΩÊï∞ÂèØ‰ª•ÂÆûÁé∞ÈùôÊÄÅÊñá‰ª∂ÁöÑÊúçÂä°„ÄÇ\nbeego ÈíàÂØπËøô‰∏™ÂäüËÉΩËøõË°å‰∫Ü‰∏ÄÂ±ÇÂ∞ÅË£ÖÔºåÈÄöËøá‰∏ãÈù¢ÁöÑÊñπÂºèËøõË°åÈùôÊÄÅÊñá‰ª∂Ê≥®ÂÜåÔºö\nbeego.SetStaticPath(&amp;quot;/static&amp;...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;p&gt;Ceph v0.55 ÂèäÂêéÁª≠ÁâàÊú¨ÈªòËÆ§ÂºÄÂêØ‰∫Ü cephx ËÆ§ËØÅ„ÄÇ‰ªéÁî®Êà∑Á©∫Èó¥Ôºà FUSE ÔºâÊåÇËΩΩ‰∏Ä Ceph Êñá‰ª∂Á≥ªÁªüÂâçÔºåÁ°Æ‰øùÂÆ¢Êà∑Á´Ø‰∏ªÊú∫Êúâ‰∏Ä‰ªΩ Ceph ÈÖçÁΩÆÂâØÊú¨„ÄÅÂíåÂÖ∑Â§á Ceph ÂÖÉÊï∞ÊçÆÊúçÂä°Âô®ËÉΩÂäõÁöÑÂØÜÈí•ÁéØ„ÄÇ&lt;/p&gt;\n&lt;p&gt;1„ÄÅ Âú®ÂÆ¢Êà∑Á´Ø‰∏ªÊú∫‰∏äÔºåÊääÁõëËßÜÂô®‰∏ªÊú∫‰∏äÁöÑ Ceph ÈÖçÁΩÆÊñá‰ª∂Êã∑Ë¥ùÂà∞ /etc/ceph/ ÁõÆÂΩï‰∏ã&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;sudo mkdir -p /etc/ceph\nsudo scp {user}@{server-machine}:/etc/ceph/ceph.conf /etc/ceph/ceph.conf\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;2„ÄÅ Âú®ÂÆ¢Êà∑Á´Ø‰∏ªÊú∫‰∏äÔºåÊääÁõëËßÜÂô®‰∏ªÊú∫‰∏äÁöÑ Ceph ÂØÜÈí•ÁéØÊã∑Ë¥ùÂà∞ /etc/ceph ÁõÆÂΩï‰∏ã&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;sudo scp {user}@{server-machine}:/etc/ceph/ceph.keyring /etc/ceph/ceph.keyring\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;3„ÄÅ Á°Æ‰øùÂÆ¢Êà∑Á´ØÊú∫Âô®‰∏äÁöÑ Ceph ÈÖçÁΩÆÊñá‰ª∂ÂíåÂØÜÈí•ÁéØÈÉΩÊúâÂêàÈÄÇÁöÑÊùÉÈôê‰ΩçÔºåÂ¶Ç chmod 644 „ÄÇ&lt;br&gt;\ncephx Â¶Ç‰ΩïÈÖçÁΩÆËØ∑ÂèÇËÄÉ CEPHX ÈÖçÁΩÆÂèÇËÄÉ„ÄÇ&lt;br&gt;\nË¶ÅÊää Ceph Êñá‰ª∂Á≥ªÁªüÊåÇËΩΩ‰∏∫Áî®Êà∑Á©∫Èó¥Êñá‰ª∂Á≥ªÁªüÔºåÂèØ‰ª•Áî® ceph-fuse ÂëΩ‰ª§Ôºå‰æãÂ¶ÇÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;sudo mkdir /home/usernname/cephfs\nsudo ceph-fuse -m 192.168.0.1:6789 /home/username/cephfs\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ËØ¶ÊÉÖËßÅ &lt;a href=\&#34;http://docs.ceph.org.cn/man/8/ceph-fuse/\&#34;&gt;ceph-fuse&lt;/a&gt;&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;yong-hu-kong-jian-gua-zai-ceph-wen-jian-xi-tong&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Áî®Êà∑Á©∫Èó¥ÊåÇËΩΩ CEPH Êñá‰ª∂Á≥ªÁªü&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;rook-ceph&#34;,&#34;slug&#34;:&#34;hu0mNDfuy&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/hu0mNDfuy/&#34;}],&#34;date&#34;:&#34;2020-05-08 14:03:36&#34;,&#34;dateFormat&#34;:&#34;2020-05-08&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/yong-hu-kong-jian-gua-zai-ceph-wen-jian-xi-tong/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:61000,&#34;words&#34;:242,&#34;minutes&#34;:2},&#34;description&#34;:&#34;Ceph v0.55 ÂèäÂêéÁª≠ÁâàÊú¨ÈªòËÆ§ÂºÄÂêØ‰∫Ü cephx ËÆ§ËØÅ„ÄÇ‰ªéÁî®Êà∑Á©∫Èó¥Ôºà FUSE ÔºâÊåÇËΩΩ‰∏Ä Ceph Êñá‰ª∂Á≥ªÁªüÂâçÔºåÁ°Æ‰øùÂÆ¢Êà∑Á´Ø‰∏ªÊú∫Êúâ‰∏Ä‰ªΩ Ceph ÈÖçÁΩÆÂâØÊú¨„ÄÅÂíåÂÖ∑Â§á Ceph ÂÖÉÊï∞ÊçÆÊúçÂä°Âô®ËÉΩÂäõÁöÑÂØÜÈí•ÁéØ„ÄÇ\n1„ÄÅ Âú®ÂÆ¢Êà∑Á´Ø‰∏ªÊú∫‰∏äÔºåÊääÁõëËßÜÂô®‰∏ªÊú∫...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;h1 id=\&#34;ÈóÆÈ¢ò\&#34;&gt;ÈóÆÈ¢ò&lt;/h1&gt;\n&lt;pre&gt;&lt;code&gt;curl https://192.168.0.200:8443\nÊèêÁ§∫curl: (60) Peer&#39;s Certificate issuer is not recognized.\ncurl: (60) Peer&#39;s Certificate issuer is not recognized.\nMore details here: http://curl.haxx.se/docs/sslcerts.html\n\ncurl performs SSL certificate verification by default, using a &amp;quot;bundle&amp;quot;\n of Certificate Authority (CA) public keys (CA certs). If the default\n bundle file isn&#39;t adequate, you can specify an alternate file\n using the --cacert option.\nIf this HTTPS server uses a certificate signed by a CA represented in\n the bundle, the certificate verification probably failed due to a\n problem with the certificate (it might be expired, or the name might\n not match the domain name in the URL).\nIf you&#39;d like to turn off curl&#39;s verification of the certificate, use\n the -k (or --insecure) option.\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;mac-os-x\&#34;&gt;Mac OS X&lt;/h1&gt;\n&lt;h2 id=\&#34;Ê∑ªÂä†ËØÅ‰π¶\&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;sudo security add-trusted-cert -d -r trustRoot -k /Library/Keychains/System.keychain ~/new-root-certificate.crt\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ÁßªÈô§ËØÅ‰π¶\&#34;&gt;ÁßªÈô§ËØÅ‰π¶Ôºö&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;sudo security delete-certificate -c &amp;quot;&amp;lt;name of existing certificate&amp;gt;&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;windows\&#34;&gt;Windows&lt;/h1&gt;\n&lt;h2 id=\&#34;Ê∑ªÂä†ËØÅ‰π¶-2\&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;certutil -addstore -f &amp;quot;ROOT&amp;quot; new-root-certificate.crt\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ÁßªÈô§ËØÅ‰π¶-2\&#34;&gt;ÁßªÈô§ËØÅ‰π¶Ôºö&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;certutil -delstore &amp;quot;ROOT&amp;quot; serial-number-hex\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;linux-ubuntu-debian\&#34;&gt;Linux (Ubuntu, Debian)&lt;/h1&gt;\n&lt;h2 id=\&#34;Ê∑ªÂä†ËØÅ‰π¶-3\&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;Â§çÂà∂ CA Êñá‰ª∂Âà∞ÁõÆÂΩïÔºö /usr/local/share/ca-certificates/\nÊâßË°å:\nsudo cp foo.crt /usr/local/share/ca-certificates/foo.crt\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;Êõ¥Êñ∞-ca-ËØÅ‰π¶Â∫ì\&#34;&gt;Êõ¥Êñ∞ CA ËØÅ‰π¶Â∫ì:&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;sudo update-ca-certificates\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ÁßªÈô§ËØÅ‰π¶-3\&#34;&gt;ÁßªÈô§ËØÅ‰π¶Ôºö&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;Remove your CA.\n\nUpdate the CA store:\n\nsudo update-ca-certificates --fresh\n\nRestart Kerio Connect to reload the certificates in the 32-bit versions or Debian 7.\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;linux-centos-6\&#34;&gt;Linux (CentOs 6)&lt;/h1&gt;\n&lt;h2 id=\&#34;Ê∑ªÂä†ËØÅ‰π¶-4\&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/h2&gt;\n&lt;p&gt;// root-ca.crt ‰∏∫caËØÅ‰π¶&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;ÂÆâË£Ö ca-certificates package:\n\nyum install ca-certificates\n\nÂêØÁî®dynamic CA configuration feature:\n\nupdate-ca-trust force-enable\n\nAdd it as a new file to /etc/pki/ca-trust/source/anchors/:\ncp root-ca.crt /etc/pki/ca-trust/source/anchors/\n\nÊâßË°å:\n\nupdate-ca-trust extract\n\nRestart Kerio Connect to reload the certificates in the 32-bit version.\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;linux-centos-5\&#34;&gt;Linux (CentOs 5)&lt;/h1&gt;\n&lt;h2 id=\&#34;Ê∑ªÂä†ËØÅ‰π¶-5\&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;Append your trusted certificate to file /etc/pki/tls/certs/ca-bundle.crt\n\ncat foo.crt &amp;gt;&amp;gt; /etc/pki/tls/certs/ca-bundle.crt\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;ÊµãËØïËÆøÈóÆ\&#34;&gt;ÊµãËØïËÆøÈóÆ&lt;/h1&gt;\n&lt;pre&gt;&lt;code&gt; curl -v &amp;quot;https:/gitlab.test.com/micro-lib/server?go-get=1&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;linux-ru-he-dao-ru-zi-ding-yi-zheng-shu&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;linuxÂ¶Ç‰ΩïÂØºÂÖ•Ëá™ÂÆö‰πâËØÅ‰π¶&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;linux&#34;,&#34;slug&#34;:&#34;qf8arSPKY&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/qf8arSPKY/&#34;},{&#34;name&#34;:&#34;ssl&#34;,&#34;slug&#34;:&#34;EVZAZcQaN&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/EVZAZcQaN/&#34;}],&#34;date&#34;:&#34;2020-05-06 16:33:15&#34;,&#34;dateFormat&#34;:&#34;2020-05-06&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/linux-ru-he-dao-ru-zi-ding-yi-zheng-shu/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:141000,&#34;words&#34;:406,&#34;minutes&#34;:3},&#34;description&#34;:&#34;ÈóÆÈ¢ò\ncurl https://192.168.0.200:8443\nÊèêÁ§∫curl: (60) Peer&#39;s Certificate issuer is not recognized.\ncurl: (60) Peer&#39;s Certifica...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%97%AE%E9%A2%98\&#34;&gt;ÈóÆÈ¢ò&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#mac-os-x\&#34;&gt;Mac OS X&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B7%BB%E5%8A%A0%E8%AF%81%E4%B9%A6\&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A7%BB%E9%99%A4%E8%AF%81%E4%B9%A6\&#34;&gt;ÁßªÈô§ËØÅ‰π¶Ôºö&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#windows\&#34;&gt;Windows&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B7%BB%E5%8A%A0%E8%AF%81%E4%B9%A6-2\&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A7%BB%E9%99%A4%E8%AF%81%E4%B9%A6-2\&#34;&gt;ÁßªÈô§ËØÅ‰π¶Ôºö&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#linux-ubuntu-debian\&#34;&gt;Linux (Ubuntu, Debian)&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B7%BB%E5%8A%A0%E8%AF%81%E4%B9%A6-3\&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%9B%B4%E6%96%B0-ca-%E8%AF%81%E4%B9%A6%E5%BA%93\&#34;&gt;Êõ¥Êñ∞ CA ËØÅ‰π¶Â∫ì:&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A7%BB%E9%99%A4%E8%AF%81%E4%B9%A6-3\&#34;&gt;ÁßªÈô§ËØÅ‰π¶Ôºö&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#linux-centos-6\&#34;&gt;Linux (CentOs 6)&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B7%BB%E5%8A%A0%E8%AF%81%E4%B9%A6-4\&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#linux-centos-5\&#34;&gt;Linux (CentOs 5)&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B7%BB%E5%8A%A0%E8%AF%81%E4%B9%A6-5\&#34;&gt;Ê∑ªÂä†ËØÅ‰π¶Ôºö&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B5%8B%E8%AF%95%E8%AE%BF%E9%97%AE\&#34;&gt;ÊµãËØïËÆøÈóÆ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;ÂâçÊèê\&#34;&gt;ÂâçÊèê&lt;/h3&gt;\n&lt;p&gt;Áî±‰∫éistioÈÉ®ÁΩ≤Âà∞IDC„ÄÅÈùû‰∫ëÁéØÂ¢ÉÊó†Ê≥ïËé∑ÂèñÂÆ¢Êà∑Á´ØÁúüÂÆûIPÂú∞ÂùÄÔºåwebÂ∫îÁî®Êó†Ê≥ï‰ΩøÁî®ËØ•ÁªÑ‰ª∂ÔºåÊó©ÊúüÁâàÊú¨ÁöÑistioÂÅö‰∫ÜÂæàÂ§öÊµãËØïÔºåÊúÄÁªàÊó†Ê≥ïÂÆûÁé∞Ëé∑Âèñremote client addressÔºõ&lt;/p&gt;\n&lt;h3 id=\&#34;ÁéØÂ¢É\&#34;&gt;ÁéØÂ¢É&lt;/h3&gt;\n&lt;p&gt;kubernetesÁâàÊú¨Ôºök8s-1.16.9&lt;br&gt;\nistioÁâàÊú¨Ôºö1.5&lt;/p&gt;\n&lt;h3 id=\&#34;ÊñπÊ≥ï\&#34;&gt;ÊñπÊ≥ï&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;kubectl -n istio-system edit  deployments. istio-pilot\nÊ∑ªÂä†Â¶Ç‰∏ãÔºö\n       env:\n       - name: PILOT_SIDECAR_USE_REMOTE_ADDRESS\n          value: &amp;quot;true&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;‰ª•‰∏ãÊòØgithubÁõ∏Â∫îÁöÑissue&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588232244321.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;ÂÖ∂‰ªñÊµãËØï\&#34;&gt;ÂÖ∂‰ªñÊµãËØï&lt;/h3&gt;\n&lt;p&gt;istio-1.5ÁâàÊú¨ÂõûÂΩíÂçï‰ΩìÔºåÂêÑ‰∏™ÁªÑ‰ª∂‰ºòÂåñ‰∫ÜÂæàÂ§öÔºåÂêéÊúüÊµãËØïhttpÈìæÊé•‰∏étcpÈìæÊé•Â∫îÁî®&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;istio-ke-hu-duan-yuan-di-zhi-ru-he-xian-shi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;istio-ÂÆ¢Êà∑Á´ØÊ∫êÂú∞ÂùÄÂ¶Ç‰ΩïÊòæÁ§∫&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;istio&#34;,&#34;slug&#34;:&#34;d8Hk7igEb&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/d8Hk7igEb/&#34;},{&#34;index&#34;:-1,&#34;name&#34;:&#34;k8s&#34;,&#34;slug&#34;:&#34;Q617Y3Kh2&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/Q617Y3Kh2/&#34;}],&#34;date&#34;:&#34;2020-04-30 15:32:39&#34;,&#34;dateFormat&#34;:&#34;2020-04-30&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/istio-ke-hu-duan-yuan-di-zhi-ru-he-xian-shi/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:32000,&#34;words&#34;:133,&#34;minutes&#34;:1},&#34;description&#34;:&#34;ÂâçÊèê\nÁî±‰∫éistioÈÉ®ÁΩ≤Âà∞IDC„ÄÅÈùû‰∫ëÁéØÂ¢ÉÊó†Ê≥ïËé∑ÂèñÂÆ¢Êà∑Á´ØÁúüÂÆûIPÂú∞ÂùÄÔºåwebÂ∫îÁî®Êó†Ê≥ï‰ΩøÁî®ËØ•ÁªÑ‰ª∂ÔºåÊó©ÊúüÁâàÊú¨ÁöÑistioÂÅö‰∫ÜÂæàÂ§öÊµãËØïÔºåÊúÄÁªàÊó†Ê≥ïÂÆûÁé∞Ëé∑Âèñremote client addressÔºõ\nÁéØÂ¢É\nkubernetesÁâàÊú¨Ôºök8s-1.16...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%89%8D%E6%8F%90\&#34;&gt;ÂâçÊèê&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%8E%AF%E5%A2%83\&#34;&gt;ÁéØÂ¢É&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%96%B9%E6%B3%95\&#34;&gt;ÊñπÊ≥ï&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B6%E4%BB%96%E6%B5%8B%E8%AF%95\&#34;&gt;ÂÖ∂‰ªñÊµãËØï&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h1 id=\&#34;ÂâçÊèê\&#34;&gt;ÂâçÊèêÔºö&lt;/h1&gt;\n&lt;p&gt;Âú®kubernetesÈõÜÁæ§‰∏≠ÈÉ®ÁΩ≤elkÁªÑ‰ª∂ÔºåesÈõÜÁæ§ÈÉ®ÁΩ≤3‰∏™ËäÇÁÇπÔºåkibanaÈÉ®ÁΩ≤‰∏Ä‰∏™ÔºåÂÆπÂô®Êï∞ÊçÆÊåÅ‰πÖÂåñÈúÄË¶Åstorageclass&lt;/p&gt;\n&lt;p&gt;‰æùËµñÔºö&lt;br&gt;\nHelm&lt;br&gt;\nPersistent Volumes&lt;/p&gt;\n&lt;h1 id=\&#34;ÂáÜÂ§áÈÖçÁΩÆ\&#34;&gt;ÂáÜÂ§áÈÖçÁΩÆ&lt;/h1&gt;\n&lt;p&gt;Áî±‰∫érepoÂú®Á∫øÂÆâË£ÖÂ§™ÊÖ¢ÔºåÂª∫ËÆÆ‰∏ãËΩΩcharÊú¨Âú∞‰øÆÊîπÂèÇÊï∞ÂêéÂÆâË£Ö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;git clone https://github.com/elastic/helm-charts.git\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;ÈÉ®ÁΩ≤-elk\&#34;&gt;ÈÉ®ÁΩ≤ ELK&lt;/h1&gt;\n&lt;h2 id=\&#34;ÂàõÂª∫elkÂëΩÂêçÁ©∫Èó¥\&#34;&gt;ÂàõÂª∫elkÂëΩÂêçÁ©∫Èó¥&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;#cat elk-ns.yml\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: elk\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ÈÉ®ÁΩ≤elasticsearch\&#34;&gt;ÈÉ®ÁΩ≤elasticsearch&lt;/h2&gt;\n&lt;p&gt;cd helm-charts/elasticsearch&lt;/p&gt;\n&lt;p&gt;helm install --namespace=elk  --name=elasticsearch .&lt;/p&gt;\n&lt;h2 id=\&#34;ÈÉ®ÁΩ≤-kibana\&#34;&gt;ÈÉ®ÁΩ≤ Kibana&lt;/h2&gt;\n&lt;p&gt;cd helm-charts/kibana&lt;/p&gt;\n&lt;p&gt;helm install --namespace=elk --name=kibana .&lt;br&gt;\nÈÄöËøá kubectl get deploy Âíå pod ‰∫ÜËß£ÈÉ®ÁΩ≤Áä∂ÊÄÅÔºõ&lt;/p&gt;\n&lt;h1 id=\&#34;Â∞èÁü•ËØÜ\&#34;&gt;Â∞èÁü•ËØÜ&lt;/h1&gt;\n&lt;p&gt;Kibana Áõ¥Êé•ÈÄöËøá K8S ÂÜÖÈÉ® DNS ÂüüÂêç ËÆøÈóÆ ES„ÄÇ&lt;/p&gt;\n&lt;p&gt;Êü•ÁúãÂÆπÂô®ÂÜÖÁöÑÈÖçÁΩÆ&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;kubectl  exec kibana-kibana-7cbc5db55c-6qct7 -c kibana -- cat /usr/share/kibana/config/kibana.yml\n\n# Default Kibana configuration for docker target\nserver.name: kibana\nserver.host: &amp;quot;0&amp;quot;\nelasticsearch.hosts: [ &amp;quot;http://elasticsearch:9200&amp;quot; ]\nxpack.monitoring.ui.container.elasticsearch.enabled: true\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;kibana-Ê∑ªÂä†-ingress\&#34;&gt;Kibana Ê∑ªÂä† Ingress&lt;/h1&gt;\n&lt;p&gt;ÈÄöËøá Ingress Ê∑ªÂä†ËÆøÈóÆÂÖ•Âè£&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;apiVersion: extensions/v1beta1\nkind: Ingress\nmetadata:\n  name: kibana\n  namespace: default\nspec:\n  rules:\n  - host: &amp;lt;YourDomain&amp;gt;  ## ËÆøÈóÆ Kibana ÁöÑÂüüÂêç \n    http:\n      paths:\n      - backend:\n          serviceName: kibana-kibana\n          servicePort: 5601\n        path: /\n status:\n  loadBalancer:\n    ingress:\n    - ip: &amp;lt;YourLoadBalancerIP&amp;gt;  ## LB ÁöÑ IP\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1 id=\&#34;ËÆøÈóÆÊµãËØï\&#34;&gt;ËÆøÈóÆÊµãËØï&lt;/h1&gt;\n&lt;p&gt;ËÆøÈóÆÂüüÂêçÔºåÂç≥ÂèØÊâìÂºÄ Kibana 7.3 ÁâàÊú¨Ôºõ&lt;/p&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588231324831.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;p&gt;Êü•ÁúãÈõÜÁæ§ÁöÑËøêË°åÁä∂ÊÄÅ&lt;/p&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;2\&#34;&gt;&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588231313286.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;p&gt;‰πüÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°åÊü•Áúã&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;~$ curl  -s &amp;lt;YourESHost&amp;gt;/_cluster/health | jq .\n{\n  &amp;quot;cluster_name&amp;quot;: &amp;quot;elasticsearch&amp;quot;,\n  &amp;quot;status&amp;quot;: &amp;quot;yellow&amp;quot;,\n  &amp;quot;timed_out&amp;quot;: false,\n  &amp;quot;number_of_nodes&amp;quot;: 3,\n  &amp;quot;number_of_data_nodes&amp;quot;: 3,\n  &amp;quot;active_primary_shards&amp;quot;: 19,\n  &amp;quot;active_shards&amp;quot;: 35,\n  &amp;quot;relocating_shards&amp;quot;: 0,\n  &amp;quot;initializing_shards&amp;quot;: 0,\n  &amp;quot;unassigned_shards&amp;quot;: 3,\n  &amp;quot;delayed_unassigned_shards&amp;quot;: 0,\n  &amp;quot;number_of_pending_tasks&amp;quot;: 0,\n  &amp;quot;number_of_in_flight_fetch&amp;quot;: 0,\n  &amp;quot;task_max_waiting_in_queue_millis&amp;quot;: 0,\n  &amp;quot;active_shards_percent_as_number&amp;quot;: 92.10526315789474\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;k8s-tong-guo-helm-bu-shu-elk-73&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;K8SÈÄöËøáhelm ÈÉ®ÁΩ≤ ELK 7.3&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;elk&#34;,&#34;slug&#34;:&#34;Diytd8lD3&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/Diytd8lD3/&#34;},{&#34;index&#34;:-1,&#34;name&#34;:&#34;k8s&#34;,&#34;slug&#34;:&#34;Q617Y3Kh2&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/Q617Y3Kh2/&#34;}],&#34;date&#34;:&#34;2020-04-30 15:12:33&#34;,&#34;dateFormat&#34;:&#34;2020-04-30&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/k8s-tong-guo-helm-bu-shu-elk-73/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:111000,&#34;words&#34;:366,&#34;minutes&#34;:2},&#34;description&#34;:&#34;ÂâçÊèêÔºö\nÂú®kubernetesÈõÜÁæ§‰∏≠ÈÉ®ÁΩ≤elkÁªÑ‰ª∂ÔºåesÈõÜÁæ§ÈÉ®ÁΩ≤3‰∏™ËäÇÁÇπÔºåkibanaÈÉ®ÁΩ≤‰∏Ä‰∏™ÔºåÂÆπÂô®Êï∞ÊçÆÊåÅ‰πÖÂåñÈúÄË¶Åstorageclass\n‰æùËµñÔºö\nHelm\nPersistent Volumes\nÂáÜÂ§áÈÖçÁΩÆ\nÁî±‰∫érepoÂú®Á∫øÂÆâË£ÖÂ§™ÊÖ¢ÔºåÂª∫ËÆÆ‰∏ãËΩΩ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%89%8D%E6%8F%90\&#34;&gt;ÂâçÊèêÔºö&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%87%86%E5%A4%87%E9%85%8D%E7%BD%AE\&#34;&gt;ÂáÜÂ§áÈÖçÁΩÆ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%83%A8%E7%BD%B2-elk\&#34;&gt;ÈÉ®ÁΩ≤ ELK&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%9B%E5%BB%BAelk%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4\&#34;&gt;ÂàõÂª∫elkÂëΩÂêçÁ©∫Èó¥&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%83%A8%E7%BD%B2elasticsearch\&#34;&gt;ÈÉ®ÁΩ≤elasticsearch&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%83%A8%E7%BD%B2-kibana\&#34;&gt;ÈÉ®ÁΩ≤ Kibana&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B0%8F%E7%9F%A5%E8%AF%86\&#34;&gt;Â∞èÁü•ËØÜ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#kibana-%E6%B7%BB%E5%8A%A0-ingress\&#34;&gt;Kibana Ê∑ªÂä† Ingress&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%AE%BF%E9%97%AE%E6%B5%8B%E8%AF%95\&#34;&gt;ËÆøÈóÆÊµãËØï&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;ÊúÄËøëÂèàÂá∫Êù•‰∏™kubesphereÁöÑÂ∑•ÂÖ∑Áî®Êù•ÁÆ°ÁêÜk8sÔºå‰ªäÂ§©ÁâπÊÑèÊù•ÂÆâË£Ö‰ΩìÈ™å‰∏ãÔºõ&lt;br&gt;\ngithubÂú∞ÂùÄÔºöhttps://github.com/pixiake/ks-installer&lt;/p&gt;\n&lt;p&gt;ÂÆòÊñπ‰ΩøÁî®ÊñáÊ°£Ôºöhttps://kubesphere.io/docs/advanced-v2.0/zh-CN/installation/all-in-one/&lt;/p&gt;\n&lt;p&gt;ÂÖàÊîæ‰∏äÂÆâË£ÖÊïàÊûúÂõæÔºåUIÁïåÈù¢ËøòÊòØÂæàÊ∏ÖÁàΩÁöÑÔºö&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588152934567.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;ÂΩìÂâçÁéØÂ¢É\&#34;&gt;ÂΩìÂâçÁéØÂ¢ÉÔºö&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;k8sÈõÜÁæ§Â∑≤ÁªèÂÆâË£ÖÂÆåÊàêÔºåÁî®kubesphereÁÆ°ÁêÜÁé∞ÊúâÁöÑk8sÈõÜÁæ§Ôºõ\n\nk8sÁâàÊú¨‰∏∫1.14  \n\nÁ≥ªÁªü‰∏∫centos7.6\n\nkubesphere‰ΩøÁî®Ë¶ÅÊ±ÇÔºö\n\nkubernetes version &amp;gt; 1.13.0\n\nhelm version &amp;gt; 2.10.0\n\na default storage class must be in kubernetes cluster\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÂÆâË£ÖÂÆåÊàêÂêéÈªòËÆ§Áî®Êà∑ÂêçÂØÜÁ†ÅÔºö&lt;/p&gt;\n&lt;p&gt;Áî®Êà∑ÂêçÔºöadmin&lt;/p&gt;\n&lt;p&gt;ÂØÜÁ†ÅÔºöP@88w0rd&lt;/p&gt;\n&lt;h3 id=\&#34;ÂºÄÂßãÂÆâË£Ö\&#34;&gt;ÂºÄÂßãÂÆâË£Ö&lt;/h3&gt;\n&lt;p&gt;ÂÆâË£ÖÊ≠•È™§Â§ßÊ¶ÇËÆ∞ÂΩïÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;kubectl create ns kubesphere-system\nkubectl create ns kubesphere-monitoring-system\n\n#ËÆøÈóÆetcdÁî®Âà∞ÁöÑsecret\nkubectl -n kubesphere-monitoring-system create secret generic kube-etcd-client-certs  --from-file=etcd-client-ca.crt=ca.pem  --from-file=etcd-client.crt=etcd-key.pem  --from-file=etcd-client.key=etcd.pem\n\n#ÁÆ°ÁêÜk8sÁî®Âà∞ÁöÑsecret\n\nkubectl -n kubesphere-system create secret generic kubesphere-ca  --from-file=ca.crt=ca.pem --from-file=ca.key=ca-key.pem\n\n#cloneÂ•ΩgithubÈ°πÁõÆÔºåÊâßË°å‰∏ãÈù¢ÁöÑËøôÊù°ÂëΩ‰ª§\n\ncd deploy\nkubectl apply -f kubesphere-installer.yaml\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ÊâßË°åÂÆå‰∏äÈù¢ÁöÑÂëΩ‰ª§ÔºåÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÔºåÊü•ÁúãÂÆâË£ÖËøáÁ®ãÊó•Âøó&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;kubectl logs -n kubesphere-system $(kubectl get pod -n kubesphere-system -l job-name=kubesphere-installer -o jsonpath=&#39;{.items[0].metadata.name}&#39;) -f\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Êü•ÁúãÂÆâË£ÖÁªìÊûúÔºåSTATUSË∑ü‰∏ãÈù¢‰øùÊåÅ‰∏ÄËá¥ÊâçËØ¥ÊòéÂÆâË£ÖÊàêÂäü&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;[root@ks-allinone deploy]# kubectl get pods -n kubesphere-system\nNAME                                     READY   STATUS      RESTARTS   AGE\nks-account-6db466d8dc-srrwj              1/1     Running     0          149m\nks-apigateway-7d77cb9495-jzmg6           1/1     Running     0          170m\nks-apiserver-f8469fd47-b58rm             1/1     Running     0          166m\nks-console-54c849bdc9-dfkbf              1/1     Running     0          168m\nks-console-54c849bdc9-z2d5q              1/1     Running     0          168m\nks-controller-manager-569456b4cd-gngm5   1/1     Running     0          170m\nks-docs-6bbdcc9bfb-6jldz                 1/1     Running     0          3h7m\nkubesphere-installer-7ph6l               0/1     Completed   1          3h11m\nopenldap-5c986c5bff-rzqwv                1/1     Running     0          3h25m\nredis-76dc4db5dd-lv6kg                   1/1     Running     0          149m\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ÂÆâË£ÖËøáÁ®ãÂá∫Áé∞ÁöÑÈîôËØØ\&#34;&gt;ÂÆâË£ÖËøáÁ®ãÂá∫Áé∞ÁöÑÈîôËØØ&lt;/h3&gt;\n&lt;p&gt;1.Âú®ÂÆâË£ÖÁöÑÊó∂ÊèêÁ§∫metrics-serverÂ∑≤ÁªèÂÆâË£ÖÔºåÂØºËá¥ÂÆâË£Ö‰∏≠Êñ≠Ôºõ&lt;/p&gt;\n&lt;p&gt;Ëß£ÊûêÂäûÊ≥ïÔºöÂú®kubesphere-installer.yamlÁöÑconfigMapÂ¢ûÂä†ÈÖçÁΩÆÔºömetrics_server_enable: FalseÔºàÈªòËÆ§ÊòØÊ≤°ÊúâÁöÑÔºâ&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;apiVersion: v1\ndata:\n  ks-config.yaml: |\n    kube_apiserver_host: 10.10.5.208:6443\n    etcd_tls_enable: True\n    etcd_endpoint_ips: 10.10.5.169,10.10.5.183,10.10.5.184\n    disableMultiLogin: True\n    elk_prefix: logstash\n    metrics_server_enable: False\n  #  local_registry: 192.168.1.2:5000\nkind: ConfigMap\nmetadata:\n  name: kubesphere-config\n  namespace: kubesphere-system\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Â¢ûÂä†IngressÈÖçÁΩÆÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;apiVersion: extensions/v1beta1\nkind: Ingress\nmetadata:\n  name: kubesphere\n  namespace: kubesphere-system\n  annotations:\n    #kubernetes.io/ingress.class: traefik\n    kubernetes.io/ingress.class: nginx\nspec:\n  rules:\n  - host: ks.staplescn.com\n    http:\n      paths:\n      - path:\n        backend:\n          serviceName: ks-console\n          servicePort: 80\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ËÆøÈóÆÁïåÈù¢Ôºö&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588153130667.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;kubesphere-an-zhuang-shi-yong-ti-yan&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;kubesphereÂÆâË£Ö‰ΩøÁî®‰ΩìÈ™å&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;kubesphere&#34;,&#34;slug&#34;:&#34;BU7sbQs51&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/BU7sbQs51/&#34;},{&#34;index&#34;:-1,&#34;name&#34;:&#34;k8s&#34;,&#34;slug&#34;:&#34;Q617Y3Kh2&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/Q617Y3Kh2/&#34;}],&#34;date&#34;:&#34;2020-04-29 17:33:05&#34;,&#34;dateFormat&#34;:&#34;2020-04-29&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/kubesphere-an-zhuang-shi-yong-ti-yan/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:176000,&#34;words&#34;:576,&#34;minutes&#34;:3},&#34;description&#34;:&#34;ÊúÄËøëÂèàÂá∫Êù•‰∏™kubesphereÁöÑÂ∑•ÂÖ∑Áî®Êù•ÁÆ°ÁêÜk8sÔºå‰ªäÂ§©ÁâπÊÑèÊù•ÂÆâË£Ö‰ΩìÈ™å‰∏ãÔºõ\ngithubÂú∞ÂùÄÔºöhttps://github.com/pixiake/ks-installer\nÂÆòÊñπ‰ΩøÁî®ÊñáÊ°£Ôºöhttps://kubesphere.io/doc...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BD%93%E5%89%8D%E7%8E%AF%E5%A2%83\&#34;&gt;ÂΩìÂâçÁéØÂ¢ÉÔºö&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BC%80%E5%A7%8B%E5%AE%89%E8%A3%85\&#34;&gt;ÂºÄÂßãÂÆâË£Ö&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E5%87%BA%E7%8E%B0%E7%9A%84%E9%94%99%E8%AF%AF\&#34;&gt;ÂÆâË£ÖËøáÁ®ãÂá∫Áé∞ÁöÑÈîôËØØ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h1 id=\&#34;ÂâçË®Ä\&#34;&gt;ÂâçË®Ä&lt;/h1&gt;\n&lt;p&gt;Êàë‰ª¨ÈÄöÂ∏∏ÁöÑÂºÄÂèëÊµÅÁ®ãÊòØÔºåÂú®Êú¨Âú∞ÂºÄÂèëÂÆåÊàêÂ∫îÁî®‰πãÂêéÔºå‰ΩøÁî®git‰Ωú‰∏∫ÁâàÊú¨ÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÂ∞ÜÊú¨Âú∞‰ª£Á†ÅÊèê‰∫§Âà∞Á±ª‰ººGithubËøôÊ†∑ÁöÑ‰ªìÂ∫ì‰∏≠ÂÅöÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÂΩìÊàë‰ª¨ÂèØËÉΩÊù•Ëá™Â§ö‰∏™‰ªìÂ∫ì„ÄÅÂèØËÉΩÊ∂âÂèäÂà∞Â§ö‰∏™‰∏≠Èó¥‰ª∂‰Ωú‰∏∫Â∫ïÂ±Ç‰æùËµñ‰∏ÄËµ∑ÈÉ®ÁΩ≤Âà∞Áîü‰∫ßÁéØÂ¢É‰∏≠Êó∂ÔºåÁõ∏‰ø°‰∏çÂ∞ëÂú®Â§ß‰∏≠Âûã‰ºÅ‰∏öÂ∑•‰ΩúÁöÑÂ∞è‰ºô‰º¥ÈÉΩÁü•ÈÅìÂÖ¨Âè∏ÂÜÖÈÉ®ÈÄöÂ∏∏‰ºöÊúâÂèëÂ∏ÉÁ≥ªÁªüÔºåÈÇ£‰πà‰∫ëÂéüÁîüÊäÄÊúØÊ†à‰∏≠ÊúâÊ≤°Êúâ‰∏∫Êàë‰ª¨Êèê‰æõÁ±ª‰ººÁöÑÂèëÂ∏ÉÁ≥ªÁªüÂë¢ÔºüÊ°£Ê°àÊòØËÇØÂÆöÁöÑÔºåËÄå‰∏î‰∏ç‰πèÁ´û‰∫âËÄÖÔºå‰∏öÂÜÖÁü•ÂêçÁöÑÊúâknavtie Build/jekinsX/spinnaker/orgo/tektonÔºåÂÖ∂‰∏≠ÔºåtekonÂá≠ÂÄüÂÖ∂‰ºóÂ§ö‰ºòËâØÁâπÊÄßÂú®‰∏Ä‰ºóÁ´û‰∫âËÄÖ‰∏≠ËÉúÂá∫ÔºåÊàê‰∏∫È¢ÜÂüüÂÜÖÁöÑ‰∫ãÂÆûÊ†áÂáÜÔºå‰ªäÂ§©Êàë‰ª¨Â∞±Êù•Êè≠ÂºÄTektonÁöÑÁ•ûÁßòÈù¢Á∫±„ÄÇ&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588236885419.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h1 id=\&#34;Ê≠£Êñá\&#34;&gt;Ê≠£Êñá&lt;/h1&gt;\n&lt;h3 id=\&#34;‰ªÄ‰πàÊòØtekton\&#34;&gt;‰ªÄ‰πàÊòØTekton&lt;/h3&gt;\n&lt;p&gt;&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588236902661.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nÈÇ£TektonÈÉΩÊèê‰æõ‰∫ÜÂì™‰∫õCRDÂë¢Ôºü&lt;br&gt;\n‚Ä¢\tTaskÔºöÈ°æÂêçÊÄù‰πâÔºåtaskË°®Á§∫‰∏Ä‰∏™ÊûÑÂª∫‰ªªÂä°ÔºåtaskÈáåÂèØ‰ª•ÂÆö‰πâ‰∏ÄÁ≥ªÂàóÁöÑstepsÔºå‰æãÂ¶ÇÁºñËØë‰ª£Á†Å„ÄÅÊûÑÂª∫ÈïúÂÉè„ÄÅÊé®ÈÄÅÈïúÂÉèÁ≠âÔºåÊØè‰∏™stepÂÆûÈôÖÁî±‰∏Ä‰∏™PodÊâßË°å„ÄÇ&lt;br&gt;\n‚Ä¢\tTaskRunÔºötaskÂè™ÊòØÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Ê®°ÁâàÔºåtaskRunÊâçÁúüÊ≠£‰ª£Ë°®‰∫Ü‰∏ÄÊ¨°ÂÆûÈôÖÁöÑËøêË°åÔºåÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•Ëá™Â∑±ÊâãÂä®ÂàõÂª∫‰∏Ä‰∏™taskRunÔºåtaskRunÂàõÂª∫Âá∫Êù•‰πãÂêéÔºåÂ∞±‰ºöËá™Âä®Ëß¶ÂèëtaskÊèèËø∞ÁöÑÊûÑÂª∫‰ªªÂä°„ÄÇ&lt;br&gt;\n‚Ä¢\tPipelineÔºö‰∏Ä‰∏™ÊàñÂ§ö‰∏™task„ÄÅPipelineResource‰ª•ÂèäÂêÑÁßçÂÆö‰πâÂèÇÊï∞ÁöÑÈõÜÂêà„ÄÇ&lt;br&gt;\n‚Ä¢\tPipelineRunÔºöÁ±ª‰ººtaskÂíåtaskRunÁöÑÂÖ≥Á≥ªÔºåpipelineRun‰πüË°®Á§∫Êüê‰∏ÄÊ¨°ÂÆûÈôÖËøêË°åÁöÑpipelineÔºå‰∏ãÂèë‰∏Ä‰∏™pipelineRun CRDÂÆû‰æãÂà∞kubernetesÂêéÔºåÂêåÊ†∑‰πü‰ºöËß¶Âèë‰∏ÄÊ¨°pipelineÁöÑÊûÑÂª∫„ÄÇ&lt;br&gt;\n‚Ä¢\tPipelineResourceÔºöË°®Á§∫pipeline inputËµÑÊ∫êÔºåÊØîÂ¶Çgithub‰∏äÁöÑÊ∫êÁ†ÅÔºåÊàñËÄÖpipeline outputËµÑÊ∫êÔºå‰æãÂ¶Ç‰∏Ä‰∏™ÂÆπÂô®ÈïúÂÉèÊàñËÄÖÊûÑÂª∫ÁîüÊàêÁöÑjarÂåÖÁ≠â„ÄÇ&lt;br&gt;\n‰ªñ‰ª¨Â§ßÊ¶ÇÊúâÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÁöÑÂÖ≥Á≥ªÔºö&lt;br&gt;\nÂÆòÊñπ‰ªãÁªçÔºö&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;Tekton ÊòØ‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ß‰∏îÁÅµÊ¥ªÁöÑ Kubernetes ÂéüÁîüÂºÄÊ∫êÊ°ÜÊû∂ÔºåÁî®‰∫éÂàõÂª∫ÊåÅÁª≠ÈõÜÊàêÂíå‰∫§‰ªòÔºàCI/CDÔºâÁ≥ªÁªü„ÄÇÈÄöËøáÊäΩË±°Â∫ïÂ±ÇÂÆûÁé∞ÁªÜËäÇÔºåÁî®Êà∑ÂèØ‰ª•Ë∑®Â§ö‰∫ëÂπ≥Âè∞ÂíåÊú¨Âú∞Á≥ªÁªüËøõË°åÊûÑÂª∫„ÄÅÊµãËØïÂíåÈÉ®ÁΩ≤„ÄÇ\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code&gt;‰∏™‰∫∫ÁêÜËß£Ôºö\n‚Ä¢\t‰ª•yamlÊñá‰ª∂ÁºñÊéíÂ∫îÁî®ÊûÑÂª∫ÂèäÈÉ®ÁΩ≤ÊµÅÁ®ã\n‚Ä¢\tknavtive buildÊ®°ÂùóÂçáÁ∫ßÁâàÔºåÁ§æÂå∫ÊúÄÁªàÈááÁî® Tekton Êõø‰ª£ knavtive Build‰Ωú‰∏∫‰∫ëÂéüÁîüÈ¢ÜÂüüÁöÑCI/CD Ëß£ÂÜ≥ÊñπÊ°à\n‚Ä¢\tÊ†áÂáÜÂåñCI/CDÊµÅÊ∞¥Á∫øÊûÑÂª∫„ÄÅÊµãËØïÂèäÈÉ®ÁΩ≤ÊµÅÁ®ãÁöÑÂ∑•ÂÖ∑\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;TektonÂú®‰∏Ä‰ºóÁ´û‰∫âÂØπÊâãÁöÑÊØîÊãº‰∏≠PKËÉúÂá∫Ôºö&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588236947460.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;‰∏ãÈù¢Â∞±ËÆ©Êàë‰ª¨‰∏ÄËµ∑Êù•Ê∑±ÂÖ•ËØ¶ÁªÜ‰∫ÜËß£‰∏ãTektonÂà∞Â∫ïÊÄé‰πàÁé©„ÄÇ&lt;br&gt;\nTekton Pipeline‰∏≠Êúâ5Á±ªÂØπË±°ÔºåÊ†∏ÂøÉÁêÜÂøµÊòØÈÄöËøáÂÆö‰πâyamlÂÆö‰πâÊûÑÂª∫ËøáÁ®ã„ÄÇ&lt;br&gt;\n‚Ä¢\tTaskÔºö‰∏Ä‰∏™‰ªªÂä°ÁöÑÊâßË°åÊ®°ÊùøÔºåÁî®‰∫éÊèèËø∞Âçï‰∏™‰ªªÂä°ÁöÑÊûÑÂª∫ËøáÁ®ã&lt;br&gt;\n‚Ä¢\tTaskRunÔºöÈúÄË¶ÅÈÄöËøáÂÆö‰πâTaskRun‰ªªÂä°ÂéªËøêË°åTask„ÄÇ&lt;br&gt;\n‚Ä¢\tPipelineÔºöÂåÖÂê´Â§ö‰∏™Task,Âπ∂Âú®Ê≠§Âü∫Á°Ä‰∏äÂÆö‰πâinputÂíåoutput,inputÂíåoutput‰ª•PipelineResource‰Ωú‰∏∫‰∫§‰ªò„ÄÇ&lt;br&gt;\n‚Ä¢\tPipelineRunÔºöÈúÄË¶ÅÂÆö‰πâPipelineRunÊâç‰ºöËøêË°åPipeline„ÄÇ&lt;br&gt;\n‚Ä¢\tPipelineResourceÔºöÂèØÁî®‰∫éinputÂíåoutputÁöÑÂØπË±°ÈõÜÂêà„ÄÇ&lt;/p&gt;\n&lt;h3 id=\&#34;task\&#34;&gt;Task&lt;/h3&gt;\n&lt;p&gt;Task Â∞±ÊòØ‰∏Ä‰∏™‰ªªÂä°ÊâßË°åÊ®°ÊùøÔºå‰πãÊâÄ‰ª•ËØ¥ Task ÊòØ‰∏Ä‰∏™Ê®°ÊùøÊòØÂõ†‰∏∫ Task ÂÆö‰πâ‰∏≠ÂèØ‰ª•ÂåÖÂê´ÂèòÈáèÔºåTask Âú®ÁúüÊ≠£ÊâßË°åÁöÑÊó∂ÂÄôÈúÄË¶ÅÁªôÂÆöÂèòÈáèÁöÑÂÖ∑‰ΩìÂÄº„ÄÇÂ¶ÇÊûúÊää Tekton ÁöÑ Task ÊúâÁÇπÂÑøÁ±ª‰ºº‰∫éÂÆö‰πâ‰∏Ä‰∏™ÂáΩÊï∞ÔºåTask ÈÄöËøá inputs.params ÂÆö‰πâÈúÄË¶ÅÂì™‰∫õÂÖ•ÂèÇÔºåÂπ∂‰∏îÊØè‰∏Ä‰∏™ÂÖ•ÂèÇËøòÂèØ‰ª•ÊåáÂÆöÈªòËÆ§ÂÄº„ÄÇTask ÁöÑ steps Â≠óÊÆµË°®Á§∫ÂΩìÂâç Task ÊòØÊúâÂì™‰∫õÊ≠•È™§ÁªÑÊàêÁöÑÔºåÊØè‰∏Ä‰∏™Ê≠•È™§ÂÖ∑‰ΩìÂ∞±ÊòØÂü∫‰∫éÈïúÂÉèÂêØÂä®‰∏Ä‰∏™ container ÊâßË°å‰∏Ä‰∫õÊìç‰ΩúÔºåcontainer ÁöÑÂêØÂä®ÂèÇÊï∞ÂèØ‰ª•ÈÄöËøá Task ÁöÑÂÖ•ÂèÇ‰ΩøÁî®Ê®°ÊùøËØ≠Ê≥ïËøõË°åÈÖçÁΩÆ„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™DemoÔºö&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588236983683.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;taskrun\&#34;&gt;TaskRun&lt;/h3&gt;\n&lt;p&gt;Task ÂÆö‰πâÂ•Ω‰ª•ÂêéÊòØ‰∏çËÉΩÊâßË°åÁöÑÔºåÂ∞±ÂÉè‰∏Ä‰∏™ÂáΩÊï∞ÂÆö‰πâÂ•Ω‰ª•ÂêéÈúÄË¶ÅË∞ÉÁî®ÊâçËÉΩÊâßË°å‰∏ÄÊ†∑„ÄÇÊâÄ‰ª•ÈúÄË¶ÅÂÜçÂÆö‰πâ‰∏Ä‰∏™ TaskRun ÂéªÊâßË°å Task„ÄÇ&lt;br&gt;\nTaskRun ‰∏ªË¶ÅÊòØË¥üË¥£ËÆæÁΩÆ Task ÈúÄË¶ÅÁöÑÂèÇÊï∞ÔºåÂπ∂ÈÄöËøá taskRef Â≠óÊÆµÂºïÁî®Ë¶ÅÊâßË°åÁöÑ Task„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™DemoÔºö&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588237005091.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;‰ΩÜÊòØÂú®ÂÆûÈôÖ‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨‰∏ÄËà¨ÂæàÂ∞ë‰ΩøÁî®TaskRunÔºåÂõ†‰∏∫ÂÆÉÂè™ËÉΩÁªô‰∏ç‰∏Ä‰∏™Task ‰º†ÂèÇÔºåTektonÊèê‰æõ‰∫ÜÁªôÂ§ö‰∏™TaskÂêåÊó∂‰º†ÂèÇÁöÑËß£ÂÜ≥ÊñπÊ°àPipelineÂíåPipelineRunÔºå‰∏îÁúã‰∏ãÊñáËØ¶Ëß£ÔºåËøôÈáåÂè™ÊòØÂ§öÂò¥‰∏Ä‰∏ãÔºåËøô‰∏™TaskRunÂæàÂ∞ë‰ΩøÁî®ÔºåÁ®çÂæÆ‰∫ÜËß£‰∏ãÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ&lt;/p&gt;\n&lt;h3 id=\&#34;pipeline\&#34;&gt;Pipeline&lt;/h3&gt;\n&lt;p&gt;‰∏Ä‰∏™ TaskRun Âè™ËÉΩÊâßË°å‰∏Ä‰∏™ TaskÔºåÂΩìÈúÄË¶ÅÁºñÊéíÂ§ö‰∏™ Task ÁöÑÊó∂ÂÄôÂ∞±ÈúÄË¶Å Pipeline Âá∫È©¨‰∫Ü„ÄÇPipeline ÊòØ‰∏Ä‰∏™ÁºñÊéí Task ÁöÑÊ®°Êùø„ÄÇPipeline ÁöÑ params Â£∞Êòé‰∫ÜÊâßË°åÊó∂ÈúÄË¶ÅÁöÑÂÖ•ÂèÇ„ÄÇ Pipeline ÁöÑ spec.tasks ÂÆö‰πâ‰∫ÜÈúÄË¶ÅÁºñÊéíÁöÑ Task„ÄÇTasks ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÊï∞ÁªÑ‰∏≠ÁöÑ task Âπ∂‰∏çÊòØÈÄöËøáÊï∞ÁªÑÂ£∞ÊòéÁöÑÈ°∫Â∫èÂéªÊâßË°åÁöÑÔºåËÄåÊòØÈÄöËøá runAfter Êù•Â£∞Êòé task ÊâßË°åÁöÑÈ°∫Â∫è„ÄÇTekton controller Âú®Ëß£Êûê CRD ÁöÑÊó∂ÂÄô‰ºöËß£Êûê Task ÁöÑÈ°∫Â∫èÔºåÁÑ∂ÂêéÊ†πÊçÆ runAfter ËÆæÁΩÆÁîüÊàêÁöÑ‰æùÊ¨°Ê†ë‰æùÊ¨°ÂéªÊâßË°å„ÄÇPipeline Âú®ÁºñÊéí Task ÁöÑÊó∂ÂÄôÈúÄË¶ÅÁªôÊØè‰∏Ä‰∏™ Task ‰º†ÂÖ•ÂøÖÈ°ªÁöÑÂèÇÊï∞ÔºåËøô‰∫õÂèÇÊï∞ÁöÑÂÄºÂèØ‰ª•Êù•Ëá™ Pipeline Ëá™Ë∫´ÁöÑ params ËÆæÁΩÆ„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™DemoÔºö&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588237033509.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588237113343.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;pipelinerun\&#34;&gt;PipelineRun&lt;/h3&gt;\n&lt;p&gt;Âíå Task ‰∏ÄÊ†∑ Pipeline ÂÆö‰πâÂÆåÊàê‰ª•Âêé‰πüÊòØ‰∏çËÉΩÁõ¥Êé•ÊâßË°åÁöÑÔºåÈúÄË¶Å PipelineRun ÊâçËÉΩÊâßË°å Pipeline„ÄÇPipelineRun ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÁªô Pipeline ‰º†ÂÖ•ÂøÖË¶ÅÁöÑÂÖ•ÂèÇÔºåÂπ∂ÊâßË°å Pipeline„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™DemoÔºö&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588237145814.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588237151158.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h3 id=\&#34;pipelineresource\&#34;&gt;PipelineResource&lt;/h3&gt;\n&lt;p&gt;ÂèØËÉΩ‰Ω†ËøòÊÉ≥Âú® Task ‰πãÈó¥ÂÖ±‰∫´ËµÑÊ∫êÔºåËøôÂ∞±ÊòØ PipelineResource ÁöÑ‰ΩúÁî®„ÄÇÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•Êää git ‰ªìÂ∫ì‰ø°ÊÅØÊîæÂú® PipelineResource ‰∏≠„ÄÇËøôÊ†∑ÊâÄÊúâ Task Â∞±ÂèØ‰ª•ÂÖ±‰∫´Ëøô‰∫õ‰ø°ÊÅØ‰∫Ü„ÄÇ&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588237189249.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588237194640.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588237221271.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h1 id=\&#34;ÂÆûÊàò\&#34;&gt;ÂÆûÊàò&lt;/h1&gt;\n&lt;p&gt;ÂÖ≥‰∫éTektonÁöÑÂÆûÊàòÔºåÂèØ‰ª•ÂèÇËÄÉGithubÈáåÈù¢ÁöÑËøô‰∏™ÂÆåÊï¥ÁöÑDemoÔºåÈáåÈù¢ÊòØ‰∏Ä‰∏™goËØ≠Ë®ÄÂêßÁºñÂÜôÁöÑwebÊúçÂä°ÔºåÊé•Âè£ÂèØ‰ª•ÊâìÂç∞&amp;quot;Hello world&amp;quot;„ÄÇÊó∂Èó¥ÊúâÈôêÔºåÂ∞±‰∏çÂÅöÊºîÁ§∫‰∫ÜÔºåÊÑüÂÖ¥Ë∂£ÁöÑÂèØ‰ª•Âú®Ëá™Â∑±ÁöÑk8sÈõÜÁæ§‰∏äÈù¢Ë∑ë‰∏Ä‰∏ãÊÑüÂèó‰∏Ä‰∏ãÔºåÁõ∏ÂÖ≥ÁöÑyamlÊñá‰ª∂‰πüÂèØ‰ª•Êã∑Ë¥ù‰∏ãÊù•Ôºå‰Ωú‰∏∫ÂêéÈù¢ÊîπÂÜôÁöÑÊ®°Êùø„ÄÇ&lt;br&gt;\nÂáÜÂ§á PIpeline ÁöÑËµÑÊ∫ê&lt;br&gt;\nkubectl apply -f tasks/source-to-image.yaml -f tasks/deploy-using-kubectl.yaml  -f resources/picalc-git.yaml -f image-secret.yaml -f pipeline-account.yaml -f pipeline/build-and-deploy-pipeline.yaml&lt;br&gt;\nÊâßË°å create Êää pipelieRun Êèê‰∫§Âà∞ Kubernetes ÈõÜÁæ§„ÄÇ‰πãÊâÄ‰ª•ËøôÈáå‰ΩøÁî® create ËÄå‰∏çÊòØ‰ΩøÁî® apply ÊòØÂõ†‰∏∫ PIpelineRun ÊØèÊ¨°ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÔºåkubectl ÁöÑ create Êåá‰ª§‰ºöÂü∫‰∫é generateName ÂàõÂª∫Êñ∞ÁöÑ PIpelineRun ËµÑÊ∫ê„ÄÇ&lt;br&gt;\nkubectl create -f run/picalc-pipeline-run.yaml&lt;/p&gt;\n&lt;h1 id=\&#34;ÊÄªÁªì\&#34;&gt;ÊÄªÁªì&lt;/h1&gt;\n&lt;p&gt;Tekton‰ª•K8S‰∏∫‰æùÊâòÔºåÊàê‰∏∫‰∫ëÂéüÁîüÈ¢ÜÂüüCI/CDÁöÑ‰∫ãÂÆûÊÄßÊ†áÂáÜÔºåÂ∏ÆÂä©Êàë‰ª¨ÊèêÈ´ò‰∫ëÂéüÁîüÁéØÂ¢É‰∏ãÁöÑÂ∫îÁî®ÊûÑÂª∫ÂíåÈÉ®ÁΩ≤ÊïàÁéá„ÄÇ&lt;br&gt;\nÊù•‰∏ÄÂº†ÂõæÂØπÂÖ®ÊñáÂÅö‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊÄªÁªìÔºö&lt;/p&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588236724398.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;h1 id=\&#34;ÂèÇËÄÉËµÑÊñô\&#34;&gt;ÂèÇËÄÉËµÑÊñô&lt;/h1&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;a href=\&#34;https://cloud.google.com/tekton/\&#34;&gt;TektonÂÆòÁΩë&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;https://github.com/knative-sample/tekton-knative/tree/b1.0?spm=ata.13261165.0.0.21213a182xyMm5&amp;amp;file=b1.0\&#34;&gt;Tekton Demo&lt;/a&gt;&lt;/li&gt;\n&lt;/ol&gt;\n&#34;,&#34;fileName&#34;:&#34;kubernetes-tekton-cicd-chi-xu-ji-cheng-liu-shui-xian&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;kubernetes Tekton-CI/CD ÊåÅÁª≠ÈõÜÊàêÊµÅÊ∞¥Á∫ø&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;tekton&#34;,&#34;slug&#34;:&#34;nN9-7w-_h&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/nN9-7w-_h/&#34;},{&#34;index&#34;:-1,&#34;name&#34;:&#34;k8s&#34;,&#34;slug&#34;:&#34;Q617Y3Kh2&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/Q617Y3Kh2/&#34;}],&#34;date&#34;:&#34;2020-01-20 16:48:40&#34;,&#34;dateFormat&#34;:&#34;2020-01-20&#34;,&#34;feature&#34;:&#34;http://lvelvis.github.io/post-images/kubernetes-tekton-cicd-chi-xu-ji-cheng-liu-shui-xian.png&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/kubernetes-tekton-cicd-chi-xu-ji-cheng-liu-shui-xian/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;7 min read&#34;,&#34;time&#34;:363000,&#34;words&#34;:1633,&#34;minutes&#34;:7},&#34;description&#34;:&#34;ÂâçË®Ä\nÊàë‰ª¨ÈÄöÂ∏∏ÁöÑÂºÄÂèëÊµÅÁ®ãÊòØÔºåÂú®Êú¨Âú∞ÂºÄÂèëÂÆåÊàêÂ∫îÁî®‰πãÂêéÔºå‰ΩøÁî®git‰Ωú‰∏∫ÁâàÊú¨ÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÂ∞ÜÊú¨Âú∞‰ª£Á†ÅÊèê‰∫§Âà∞Á±ª‰ººGithubËøôÊ†∑ÁöÑ‰ªìÂ∫ì‰∏≠ÂÅöÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÂΩìÊàë‰ª¨ÂèØËÉΩÊù•Ëá™Â§ö‰∏™‰ªìÂ∫ì„ÄÅÂèØËÉΩÊ∂âÂèäÂà∞Â§ö‰∏™‰∏≠Èó¥‰ª∂‰Ωú‰∏∫Â∫ïÂ±Ç‰æùËµñ‰∏ÄËµ∑ÈÉ®ÁΩ≤Âà∞Áîü‰∫ßÁéØÂ¢É‰∏≠Êó∂ÔºåÁõ∏‰ø°‰∏çÂ∞ëÂú®Â§ß‰∏≠Âûã‰ºÅ‰∏öÂ∑•...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%89%8D%E8%A8%80\&#34;&gt;ÂâçË®Ä&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%AD%A3%E6%96%87\&#34;&gt;Ê≠£Êñá&lt;/a&gt;&lt;br&gt;\n*\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BB%80%E4%B9%88%E6%98%AFtekton\&#34;&gt;‰ªÄ‰πàÊòØTekton&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#task\&#34;&gt;Task&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#taskrun\&#34;&gt;TaskRun&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#pipeline\&#34;&gt;Pipeline&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#pipelinerun\&#34;&gt;PipelineRun&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#pipelineresource\&#34;&gt;PipelineResource&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%9E%E6%88%98\&#34;&gt;ÂÆûÊàò&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%80%BB%E7%BB%93\&#34;&gt;ÊÄªÁªì&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99\&#34;&gt;ÂèÇËÄÉËµÑÊñô&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h1 id=\&#34;ÁÆÄ‰ªã\&#34;&gt;ÁÆÄ‰ªã&lt;/h1&gt;\n&lt;p&gt;RookÂÆòÁΩëÔºöhttps://rook.io&lt;br&gt;\nRookÊòØ‰∫ëÂéüÁîüËÆ°ÁÆóÂü∫Èáë‰ºö(CNCF)ÁöÑÂ≠µÂåñÁ∫ßÈ°πÁõÆ.&lt;br&gt;\nRookÊòØKubernetesÁöÑÂºÄÊ∫ê‰∫ëÊú¨Âú∞Â≠òÂÇ®ÂçèË∞ÉÂô®Ôºå‰∏∫ÂêÑÁßçÂ≠òÂÇ®Ëß£ÂÜ≥ÊñπÊ°àÊèê‰æõÂπ≥Âè∞ÔºåÊ°ÜÊû∂ÂíåÊîØÊåÅÔºå‰ª•‰æø‰∏é‰∫ëÂéüÁîüÁéØÂ¢ÉÊú¨Âú∞ÈõÜÊàê„ÄÇ&lt;br&gt;\nËá≥‰∫éCEPHÔºåÂÆòÁΩëÂú®ËøôÔºöhttps://ceph.com/&lt;br&gt;\ncephÂÆòÊñπÊèê‰æõÁöÑhelmÈÉ®ÁΩ≤ÔºåËá≥‰ªäÊàëÊ≤°ÊàêÂäüËøáÔºåÊâÄ‰ª•ËΩ¨Âêë‰ΩøÁî®rookÊèê‰æõÁöÑÊñπÊ°à&lt;br&gt;\nÊúâÈÅìÁ¨îËÆ∞ÂéüÊñáÔºöhttp://note.youdao.com/noteshare?id=281719f1f0374f787effc90067e0d5ad&amp;amp;sub=0B59EA339D4A4769B55F008D72C1A4C0&lt;/p&gt;\n&lt;h1 id=\&#34;ÁéØÂ¢É\&#34;&gt;ÁéØÂ¢É&lt;/h1&gt;\n&lt;pre&gt;&lt;code&gt;centos 7.5\nkernel 4.18.7-1.el7.elrepo.x86_64\ndocker 18.06\nkubernetes v1.12.2\n    kubeadmÈÉ®ÁΩ≤Ôºö\n        ÁΩëÁªú: canal\n        DNS: coredns\n    ÈõÜÁæ§ÊàêÂëòÔºö    \n    192.168.1.1 kube-master\n    192.168.1.2 kube-node1\n    192.168.1.3 kube-node2\n    192.168.1.4 kube-node3\n    192.168.1.5 kube-node4\n\nÊâÄÊúânodeËäÇÁÇπÂáÜÂ§á‰∏ÄÂùó200GÁöÑÁ£ÅÁõòÔºö/dev/sdb\nkubernetesÊê≠Âª∫rook-ceph\n&lt;/code&gt;&lt;/pre&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588233297037.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;h1 id=\&#34;ÂáÜÂ§áÂ∑•‰Ωú\&#34;&gt;ÂáÜÂ§áÂ∑•‰Ωú&lt;/h1&gt;\n&lt;p&gt;ÊâÄÊúâËäÇÁÇπÂºÄÂêØip_forward&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;cat &amp;lt;&amp;lt;EOF &amp;gt;  /etc/sysctl.d/ceph.conf\nnet.ipv4.ip_forward = 1\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.bridge.bridge-nf-call-iptables = 1\nEOF\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;sysctl -p&lt;/p&gt;\n&lt;h1 id=\&#34;ÂºÄÂßãÈÉ®ÁΩ≤operator\&#34;&gt;ÂºÄÂßãÈÉ®ÁΩ≤Operator&lt;/h1&gt;\n&lt;h2 id=\&#34;ÈÉ®ÁΩ≤rook-operator\&#34;&gt;ÈÉ®ÁΩ≤Rook Operator&lt;/h2&gt;\n&lt;pre&gt;&lt;code&gt;cd $HOME\ngit clone https://github.com/rook/rook.git\n\ncd rook\ncd cluster/examples/kubernetes/ceph\nkubectl apply -f operator.yaml\n&lt;/code&gt;&lt;/pre&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;2\&#34;&gt;&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588233371696.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;h2 id=\&#34;Êü•ÁúãoperatorÁöÑÁä∂ÊÄÅ\&#34;&gt;Êü•ÁúãOperatorÁöÑÁä∂ÊÄÅ&lt;/h2&gt;\n&lt;p&gt;ÊâßË°åapply‰πãÂêéÁ®çÁ≠â‰∏Ä‰ºö&lt;br&gt;\noperator‰ºöÂú®ÈõÜÁæ§ÂÜÖÁöÑÊØè‰∏™‰∏ªÊú∫ÂàõÂª∫‰∏§‰∏™pod:rook-discover,rook-ceph-agent&lt;/p&gt;\n&lt;p&gt;kubectl -n rook-ceph-system get pod -o wide&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588233523024.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h2 id=\&#34;ÁªôËäÇÁÇπÊâìÊ†áÁ≠æ\&#34;&gt;ÁªôËäÇÁÇπÊâìÊ†áÁ≠æ&lt;/h2&gt;\n&lt;p&gt;ËøêË°åceph-monÁöÑËäÇÁÇπÊâì‰∏äÔºöceph-mon=enabled&lt;br&gt;\nkubectl label nodes {kube-node1,kube-node2,kube-node3} ceph-mon=enabled&lt;br&gt;\nËøêË°åceph-osdÁöÑËäÇÁÇπÔºå‰πüÂ∞±ÊòØÂ≠òÂÇ®ËäÇÁÇπÔºåÊâì‰∏äÔºöceph-osd=enabled&lt;br&gt;\nkubectl label nodes {kube-node1,kube-node2,kube-node3} ceph-osd=enabled&lt;br&gt;\nËøêË°åceph-mgrÁöÑËäÇÁÇπÔºåÊâì‰∏äÔºöceph-mgr=enabled&lt;br&gt;\nmgrÂè™ËÉΩÊîØÊåÅ‰∏Ä‰∏™ËäÇÁÇπËøêË°åÔºåËøôÊòØcephË∑ëk8sÈáåÁöÑÂ±ÄÈôê&lt;br&gt;\nkubectl label nodes kube-node1 ceph-mgr=enabled&lt;/p&gt;\n&lt;h2 id=\&#34;ÈÖçÁΩÆclusteryamlÊñá‰ª∂\&#34;&gt;ÈÖçÁΩÆcluster.yamlÊñá‰ª∂&lt;/h2&gt;\n&lt;p&gt;ÂÆòÊñπÈÖçÁΩÆÊñá‰ª∂ËØ¶Ëß£Ôºöhttps://rook.io/docs/rook/v0.8/ceph-cluster-crd.html&lt;br&gt;\nÊñá‰ª∂‰∏≠ÊúâÂá†‰∏™Âú∞ÊñπË¶ÅÊ≥®ÊÑèÔºö&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;dataDirHostPath: Ëøô‰∏™Ë∑ØÂæÑÊòØ‰ºöÂú®ÂÆø‰∏ªÊú∫‰∏äÁîüÊàêÁöÑÔºå‰øùÂ≠òÁöÑÊòØcephÁöÑÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÂÜçÈáçÊñ∞ÁîüÊàê*ÈõÜÁæ§ÁöÑÊó∂ÂÄôË¶ÅÁ°Æ‰øùËøô‰∏™ÁõÆÂΩï‰∏∫Á©∫ÔºåÂê¶Âàômon‰ºöÊó†Ê≥ïÂêØÂä®&lt;/li&gt;\n&lt;li&gt;useAllDevices: ‰ΩøÁî®ÊâÄÊúâÁöÑËÆæÂ§áÔºåÂª∫ËÆÆ‰∏∫falseÔºåÂê¶Âàô‰ºöÊääÂÆø‰∏ªÊú∫ÊâÄÊúâÂèØÁî®ÁöÑÁ£ÅÁõòÈÉΩÂπ≤Êéâ&lt;/li&gt;\n&lt;li&gt;useAllNodesÔºö‰ΩøÁî®ÊâÄÊúâÁöÑnodeËäÇÁÇπÔºåÂª∫ËÆÆ‰∏∫falseÔºåËÇØÂÆö‰∏ç‰ºöÁî®k8sÈõÜÁæ§ÂÜÖÁöÑÊâÄÊúânodeÊù•Êê≠Âª∫cephÁöÑ&lt;/li&gt;\n&lt;li&gt;databaseSizeMBÂíåjournalSizeMBÔºöÂΩìÁ£ÅÁõòÂ§ß‰∫é100GÁöÑÊó∂ÂÄôÔºåÂ∞±Ê≥®ÈáäËøô‰ø©È°πÂ∞±Ë°å‰∫Ü&lt;br&gt;\nÊú¨Ê¨°ÂÆûÈ™åÁî®Âà∞ÁöÑ cluster.yaml Êñá‰ª∂ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö&lt;/li&gt;\n&lt;/ul&gt;\n&lt;pre&gt;&lt;code&gt;apiVersion: v1\nkind: Namespace\nmetadata:\n  name: rook-ceph\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: rook-ceph-cluster\n  namespace: rook-ceph\n---\nkind: Role\napiVersion: rbac.authorization.k8s.io/v1beta1\nmetadata:\n  name: rook-ceph-cluster\n  namespace: rook-ceph\nrules:\n- apiGroups: [&amp;quot;&amp;quot;]\n  resources: [&amp;quot;configmaps&amp;quot;]\n  verbs: [ &amp;quot;get&amp;quot;, &amp;quot;list&amp;quot;, &amp;quot;watch&amp;quot;, &amp;quot;create&amp;quot;, &amp;quot;update&amp;quot;, &amp;quot;delete&amp;quot; ]\n---\n# Allow the operator to create resources in this cluster&#39;s namespace\nkind: RoleBinding\napiVersion: rbac.authorization.k8s.io/v1beta1\nmetadata:\n  name: rook-ceph-cluster-mgmt\n  namespace: rook-ceph\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: rook-ceph-cluster-mgmt\nsubjects:\n- kind: ServiceAccount\n  name: rook-ceph-system\n  namespace: rook-ceph-system\n---\n# Allow the pods in this namespace to work with configmaps\nkind: RoleBinding\napiVersion: rbac.authorization.k8s.io/v1beta1\nmetadata:\n  name: rook-ceph-cluster\n  namespace: rook-ceph\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: Role\n  name: rook-ceph-cluster\nsubjects:\n- kind: ServiceAccount\n  name: rook-ceph-cluster\n  namespace: rook-ceph\n---\napiVersion: ceph.rook.io/v1beta1\nkind: Cluster\nmetadata:\n  name: rook-ceph\n  namespace: rook-ceph\nspec:\n  cephVersion:\n    # The container image used to launch the Ceph daemon pods (mon, mgr, osd, mds, rgw).\n    # v12 is luminous, v13 is mimic, and v14 is nautilus.\n    # RECOMMENDATION: In production, use a specific version tag instead of the general v13 flag, which pulls the latest release and could result in different\n    # versions running within the cluster. See tags available at https://hub.docker.com/r/ceph/ceph/tags/.\n    image: ceph/ceph:v13\n    # Whether to allow unsupported versions of Ceph. Currently only luminous and mimic are supported.\n    # After nautilus is released, Rook will be updated to support nautilus.\n    # Do not set to true in production.\n    allowUnsupported: false\n  # The path on the host where configuration files will be persisted. If not specified, a kubernetes emptyDir will be created (not recommended).\n  # Important: if you reinstall the cluster, make sure you delete this directory from each host or else the mons will fail to start on the new cluster.\n  # In Minikube, the &#39;/data&#39; directory is configured to persist across reboots. Use &amp;quot;/data/rook&amp;quot; in Minikube environment.\n  dataDirHostPath: /var/lib/rook\n  # The service account under which to run the daemon pods in this cluster if the default account is not sufficient (OSDs)\n  serviceAccount: rook-ceph-cluster\n  # set the amount of mons to be started\n  # countÂèØ‰ª•ÂÆö‰πâceph-monËøêË°åÁöÑÊï∞ÈáèÔºåËøôÈáåÈªòËÆ§‰∏â‰∏™Â∞±Ë°å‰∫Ü\n  mon:\n    count: 3\n    allowMultiplePerNode: true\n  # enable the ceph dashboard for viewing cluster status\n  # ÂºÄÂêØcephËµÑÊ∫êÈù¢Êùø\n  dashboard:\n    enabled: true\n    # serve the dashboard under a subpath (useful when you are accessing the dashboard via a reverse proxy)\n    # urlPrefix: /ceph-dashboard\n  network:\n    # toggle to use hostNetwork\n    # ‰ΩøÁî®ÂÆø‰∏ªÊú∫ÁöÑÁΩëÁªúËøõË°åÈÄöËÆØ\n    # ‰ΩøÁî®ÂÆø‰∏ªÊú∫ÁöÑÁΩëÁªúË≤å‰ººÂèØ‰ª•ËÆ©ÈõÜÁæ§Â§ñÁöÑ‰∏ªÊú∫ÊåÇËΩΩceph\n    # ‰ΩÜÊòØÊàëÊ≤°ËØïËøáÔºåÊúâÂÖ¥Ë∂£ÁöÑÂÖÑÂºüÂèØ‰ª•ËØïËØïÊîπÊàêtrue\n    # ÂèçÊ≠£ËøôÈáåÂè™ÊòØÈõÜÁæ§ÂÜÖÁî®ÔºåÊàëÂ∞±‰∏çÊîπ‰∫Ü\n    hostNetwork: false\n  # To control where various services will be scheduled by kubernetes, use the placement configuration sections below.\n  # The example under &#39;all&#39; would have all services scheduled on kubernetes nodes labeled with &#39;role=storage-node&#39; and\n  # tolerate taints with a key of &#39;storage-node&#39;.\n  placement:\n#    all:\n#      nodeAffinity:\n#        requiredDuringSchedulingIgnoredDuringExecution:\n#          nodeSelectorTerms:\n#          - matchExpressions:\n#            - key: role\n#              operator: In\n#              values:\n#              - storage-node\n#      podAffinity:\n#      podAntiAffinity:\n#      tolerations:\n#      - key: storage-node\n#        operator: Exists\n# The above placement information can also be specified for mon, osd, and mgr components\n#    mon:\n#    osd:\n#    mgr:\n# nodeAffinityÔºöÈÄöËøáÈÄâÊã©Ê†áÁ≠æÁöÑÊñπÂºèÔºåÂèØ‰ª•ÈôêÂà∂podË¢´Ë∞ÉÂ∫¶Âà∞ÁâπÂÆöÁöÑËäÇÁÇπ‰∏ä\n# Âª∫ËÆÆÈôêÂà∂‰∏Ä‰∏ãÔºå‰∏∫‰∫ÜËÆ©ËøôÂá†‰∏™pod‰∏ç‰π±Ë∑ë\n    mon:\n      nodeAffinity:\n        requiredDuringSchedulingIgnoredDuringExecution:\n          nodeSelectorTerms:\n          - matchExpressions:\n            - key: ceph-mon\n              operator: In\n              values:\n              - enabled\n    osd:\n      nodeAffinity:\n        requiredDuringSchedulingIgnoredDuringExecution:\n          nodeSelectorTerms:\n          - matchExpressions:\n            - key: ceph-osd\n              operator: In\n              values:\n              - enabled\n    mgr:\n      nodeAffinity:\n        requiredDuringSchedulingIgnoredDuringExecution:\n          nodeSelectorTerms:\n          - matchExpressions:\n            - key: ceph-mgr\n              operator: In\n              values:\n              - enabled\n  resources:\n# The requests and limits set here, allow the mgr pod to use half of one CPU core and 1 gigabyte of memory\n#    mgr:\n#      limits:\n#        cpu: &amp;quot;500m&amp;quot;\n#        memory: &amp;quot;1024Mi&amp;quot;\n#      requests:\n#        cpu: &amp;quot;500m&amp;quot;\n#        memory: &amp;quot;1024Mi&amp;quot;\n# The above example requests/limits can also be added to the mon and osd components\n#    mon:\n#    osd:\n  storage: # cluster level storage configuration and selection\n    useAllNodes: false\n    useAllDevices: false\n    deviceFilter:\n    location:\n    config:\n      # The default and recommended storeType is dynamically set to bluestore for devices and filestore for directories.\n      # Set the storeType explicitly only if it is required not to use the default.\n      # storeType: bluestore\n      # databaseSizeMB: &amp;quot;1024&amp;quot; # this value can be removed for environments with normal sized disks (100 GB or larger)\n      # journalSizeMB: &amp;quot;1024&amp;quot;  # this value can be removed for environments with normal sized disks (20 GB or larger)\n# Cluster level list of directories to use for storage. These values will be set for all nodes that have no `directories` set.\n#    directories:\n#    - path: /rook/storage-dir\n# Individual nodes and their config can be specified as well, but &#39;useAllNodes&#39; above must be set to false. Then, only the named\n# nodes below will be used as storage resources.  Each node&#39;s &#39;name&#39; field should match their &#39;kubernetes.io/hostname&#39; label.\n#Âª∫ËÆÆÁ£ÅÁõòÈÖçÁΩÆÊñπÂºèÂ¶Ç‰∏ãÔºö\n#name: ÈÄâÊã©‰∏Ä‰∏™ËäÇÁÇπÔºåËäÇÁÇπÂêçÂ≠ó‰∏∫kubernetes.io/hostnameÁöÑÊ†áÁ≠æÔºå‰πüÂ∞±ÊòØkubectl get nodesÁúãÂà∞ÁöÑÂêçÂ≠ó\n#devices: ÈÄâÊã©Á£ÅÁõòËÆæÁΩÆ‰∏∫OSD\n# - name: &amp;quot;sdb&amp;quot;:Â∞Ü/dev/sdbËÆæÁΩÆ‰∏∫osd\n    nodes:\n    - name: &amp;quot;kube-node1&amp;quot;\n      devices:\n      - name: &amp;quot;sdb&amp;quot;\n    - name: &amp;quot;kube-node2&amp;quot;\n      devices:\n      - name: &amp;quot;sdb&amp;quot;\n    - name: &amp;quot;kube-node3&amp;quot;\n      devices:\n      - name: &amp;quot;sdb&amp;quot;\n\n#      directories: # specific directories to use for storage can be specified for each node\n#      - path: &amp;quot;/rook/storage-dir&amp;quot;\n#      resources:\n#        limits:\n#          cpu: &amp;quot;500m&amp;quot;\n#          memory: &amp;quot;1024Mi&amp;quot;\n#        requests:\n#          cpu: &amp;quot;500m&amp;quot;\n#          memory: &amp;quot;1024Mi&amp;quot;\n#    - name: &amp;quot;172.17.4.201&amp;quot;\n#      devices: # specific devices to use for storage can be specified for each node\n#      - name: &amp;quot;sdb&amp;quot;\n#      - name: &amp;quot;sdc&amp;quot;\n#      config: # configuration can be specified at the node level which overrides the cluster level config\n#        storeType: filestore\n#    - name: &amp;quot;172.17.4.301&amp;quot;\n#      deviceFilter: &amp;quot;^sd.&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ÂºÄÂßãÈÉ®ÁΩ≤ceph\&#34;&gt;ÂºÄÂßãÈÉ®ÁΩ≤ceph&lt;/h2&gt;\n&lt;p&gt;ÈÉ®ÁΩ≤ceph&lt;br&gt;\nkubectl apply -f cluster.yaml&lt;br&gt;\ncluster‰ºöÂú®rook-cephËøô‰∏™namesapceÂàõÂª∫ËµÑÊ∫ê&lt;br&gt;\nÁúãÂà∞ÊâÄÊúâÁöÑpodÈÉΩRunningÂ∞±Ë°å‰∫Ü&lt;br&gt;\nÊ≥®ÊÑèÁúã‰∏Ä‰∏ãpodÂàÜÂ∏ÉÁöÑÂÆø‰∏ªÊú∫ÔºåË∑üÊàë‰ª¨ÊâìÊ†áÁ≠æÁöÑ‰∏ªÊú∫ÊòØ‰∏ÄËá¥ÁöÑ&lt;br&gt;\nkubectl -n rook-ceph get pod -o wide&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588233756856.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;ÂàáÊç¢Âà∞ÂÖ∂‰ªñ‰∏ªÊú∫Áúã‰∏Ä‰∏ãÁ£ÅÁõò&lt;/p&gt;\n&lt;p&gt;ÂàáÊç¢Âà∞kube-node1&lt;br&gt;\nlsblk&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588233803458.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h2 id=\&#34;ÈÖçÁΩÆceph-dashboard\&#34;&gt;ÈÖçÁΩÆceph dashboard&lt;/h2&gt;\n&lt;p&gt;Áúã‰∏ÄÁúºdashboardÂú®Âì™‰∏™service‰∏ä&lt;br&gt;\nkubectl -n rook-ceph get service&lt;br&gt;\nÂèØ‰ª•ÁúãÂà∞dashboardÁõëÂê¨‰∫Ü8443Á´ØÂè£&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588233853544.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;ÂàõÂª∫‰∏™nodeportÁ±ªÂûãÁöÑservice‰ª•‰æøÈõÜÁæ§Â§ñÈÉ®ËÆøÈóÆ&lt;br&gt;\nkubectl apply -f dashboard-external-https.yaml&lt;/p&gt;\n&lt;p&gt;Êü•Áúã‰∏Ä‰∏ãnodeportÂú®Âì™‰∏™Á´ØÂè£&lt;br&gt;\nkubectl -n rook-ceph get service&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588233909644.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;ÊâæÂá∫DashboardÁöÑÁôªÈôÜË¥¶Âè∑ÂíåÂØÜÁ†Å&lt;br&gt;\nMGR_POD=&lt;code&gt;kubectl get pod -n rook-ceph | grep mgr | awk &#39;{print $1}&#39;&lt;/code&gt;&lt;br&gt;\nkubectl -n rook-ceph logs $MGR_POD | grep password&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588233955731.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;ÊâìÂºÄÊµèËßàÂô®ËæìÂÖ•‰ªªÊÑè‰∏Ä‰∏™NodeÁöÑIP+nodeportÁ´ØÂè£&lt;br&gt;\nËøôÈáåÊàëÁöÑÂ∞±ÊòØÔºöhttps://192.168.1.2:30290&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588234024005.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588234065656.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h2 id=\&#34;ÈÖçÁΩÆceph‰∏∫storageclass\&#34;&gt;ÈÖçÁΩÆceph‰∏∫storageclass&lt;/h2&gt;\n&lt;p&gt;ÂÆòÊñπÁªô‰∫Ü‰∏Ä‰∏™Ê†∑Êú¨Êñá‰ª∂Ôºöstorageclass.yaml&lt;br&gt;\nËøô‰∏™Êñá‰ª∂‰ΩøÁî®ÁöÑÊòØ RBD ÂùóÂ≠òÂÇ®&lt;br&gt;\npoolÂàõÂª∫ËØ¶Ëß£Ôºöhttps://rook.io/docs/rook/v0.8/ceph-pool-crd.html&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;apiVersion: ceph.rook.io/v1beta1\nkind: Pool\nmetadata:\n  #Ëøô‰∏™nameÂ∞±ÊòØÂàõÂª∫Êàêceph pool‰πãÂêéÁöÑpoolÂêçÂ≠ó\n  name: replicapool\n  namespace: rook-ceph\nspec:\n  replicated:\n    size: 1\n  # size Ê±†‰∏≠Êï∞ÊçÆÁöÑÂâØÊú¨Êï∞,1Â∞±ÊòØ‰∏ç‰øùÂ≠ò‰ªª‰ΩïÂâØÊú¨\n  failureDomain: osd\n  #  failureDomainÔºöÊï∞ÊçÆÂùóÁöÑÊïÖÈöúÂüüÔºå\n  #  ÂÄº‰∏∫hostÊó∂ÔºåÊØè‰∏™Êï∞ÊçÆÂùóÂ∞ÜÊîæÁΩÆÂú®‰∏çÂêåÁöÑ‰∏ªÊú∫‰∏ä\n  #  ÂÄº‰∏∫osdÊó∂ÔºåÊØè‰∏™Êï∞ÊçÆÂùóÂ∞ÜÊîæÁΩÆÂú®‰∏çÂêåÁöÑosd‰∏ä\n---\napiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n   name: ceph\n   # StorageClassÁöÑÂêçÂ≠óÔºåpvcË∞ÉÁî®Êó∂Â°´ÁöÑÂêçÂ≠ó\nprovisioner: ceph.rook.io/block\nparameters:\n  pool: replicapool\n  # Specify the namespace of the rook cluster from which to create volumes.\n  # If not specified, it will use `rook` as the default namespace of the cluster.\n  # This is also the namespace where the cluster will be\n  clusterNamespace: rook-ceph\n  # Specify the filesystem type of the volume. If not specified, it will use `ext4`.\n  fstype: xfs\n# ËÆæÁΩÆÂõûÊî∂Á≠ñÁï•ÈªòËÆ§‰∏∫ÔºöRetain\nreclaimPolicy: Retain\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ÂàõÂª∫storageclass\&#34;&gt;ÂàõÂª∫StorageClass&lt;/h2&gt;\n&lt;p&gt;kubectl apply -f storageclass.yaml&lt;br&gt;\nkubectl get storageclasses.storage.k8s.io  -n rook-ceph&lt;br&gt;\nkubectl describe storageclasses.storage.k8s.io  -n rook-ceph&lt;br&gt;\nkubernetesÊê≠Âª∫rook-ceph&lt;/p&gt;\n&lt;p&gt;ÂàõÂª∫‰∏™nginx podÂ∞ùËØïÊåÇËΩΩ&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;cat &amp;lt;&amp;lt; EOF &amp;gt; nginx.yaml\n---\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: nginx-pvc\nspec:\n  accessModes:\n    - ReadWriteMany\n  resources:\n    requests:\n      storage: 1Gi\n  storageClassName: ceph\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: nginx\nspec:\n  selector:\n    app: nginx\n  ports: \n  - port: 80\n    name: nginx-port\n    targetPort: 80\n    protocol: TCP\n\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      name: nginx\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx\n        ports:\n        - containerPort: 80\n        volumeMounts:\n        - mountPath: /html\n          name: http-file\n      volumes:\n      - name: http-file\n        persistentVolumeClaim:\n          claimName: nginx-pvc\nEOF\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;kubectl apply -f nginx.yaml&lt;br&gt;\nÊü•Áúãpv,pvcÊòØÂê¶ÂàõÂª∫‰∫Ü&lt;br&gt;\nkubectl get pv,pvc&lt;/p&gt;\n&lt;p&gt;Áúã‰∏Ä‰∏ãnginxËøô‰∏™pod‰πüËøêË°å‰∫Ü&lt;br&gt;\nkubectl get pod&lt;/p&gt;\n&lt;p&gt;Âà†Èô§Ëøô‰∏™pod,ÁúãpvÊòØÂê¶ËøòÂ≠òÂú®&lt;br&gt;\nkubectl delete -f nginx.yaml&lt;/p&gt;\n&lt;p&gt;kubectl get pv,pvc&lt;br&gt;\nÂèØ‰ª•ÁúãÂà∞ÔºåpodÂíåpvcÈÉΩÂ∑≤ÁªèË¢´Âà†Èô§‰∫ÜÔºå‰ΩÜÊòØpvËøòÂú®ÔºÅÔºÅÔºÅ&lt;/p&gt;\n&lt;h2 id=\&#34;Ê∑ªÂä†Êñ∞ËäÇÁÇπËøõÂÖ•ÈõÜÁæ§\&#34;&gt;Ê∑ªÂä†Êñ∞ËäÇÁÇπËøõÂÖ•ÈõÜÁæ§&lt;/h2&gt;\n&lt;p&gt;ËøôÊ¨°Êàë‰ª¨Ë¶ÅÊäänode4Ê∑ªÂä†ËøõÈõÜÁæ§ÔºåÂÖàÊâìÊ†áÁ≠æ&lt;br&gt;\nkubectl label nodes kube-node4 ceph-osd=enabled&lt;br&gt;\nÈáçÊñ∞ÁºñËæëcluster.yamlÊñá‰ª∂&lt;br&gt;\nÂéüÊù•ÁöÑÂü∫Á°Ä‰∏äÊ∑ªÂä†node4ÁöÑ‰ø°ÊÅØ&lt;/p&gt;\n&lt;p&gt;cd $HOME/rook/cluster/examples/kubernetes/ceph/&lt;br&gt;\nvi cluster.yam&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588234207475.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;apply‰∏Ä‰∏ãcluster.yamlÊñá‰ª∂&lt;br&gt;\nkubectl apply -f cluster.yaml&lt;/p&gt;\n&lt;p&gt;ÁõØÁùÄrook-cephÂêçÁß∞Á©∫Èó¥,ÈõÜÁæ§‰ºöËá™Âä®Ê∑ªÂä†node4ËøõÊù•&lt;br&gt;\nkubectl -n rook-ceph get pod -o wide -w&lt;br&gt;\nkubectl -n rook-ceph get pod -o wide&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588234283568.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588234307875.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nÂéªnode4ËäÇÁÇπÁúã‰∏Ä‰∏ãÁ£ÅÁõò&lt;br&gt;\nlsblk&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588234334204.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;h2 id=\&#34;Âà†Èô§‰∏Ä‰∏™ËäÇÁÇπ\&#34;&gt;Âà†Èô§‰∏Ä‰∏™ËäÇÁÇπ&lt;/h2&gt;\n&lt;p&gt;ÂéªÊéânode3ÁöÑÊ†áÁ≠æ&lt;br&gt;\nkubectl label nodes kube-node3 ceph-osd-&lt;br&gt;\nÈáçÊñ∞ÁºñËæëcluster.yamlÊñá‰ª∂&lt;br&gt;\nÂà†Èô§node3ÁöÑ‰ø°ÊÅØ&lt;br&gt;\ncd $HOME/rook/cluster/examples/kubernetes/ceph/&lt;br&gt;\nvi cluster.yam&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588234380826.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;apply‰∏Ä‰∏ãcluster.yamlÊñá‰ª∂&lt;br&gt;\nkubectl apply -f cluster.yaml&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588234493936.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;kubectl -n rook-ceph get pod -o wide&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588234548709.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\n&lt;img src=\&#34;http://lvelvis.github.io/post-images/1588234579591.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nÊúÄÂêéËÆ∞ÂæóÂà†Èô§ÂÆø‰∏ªÊú∫ÁöÑ/var/lib/rookÊñá‰ª∂Â§π&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;kubernetesÊê≠Âª∫rook-ceph&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;kubernetesÊê≠Âª∫rook-ceph&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;k8s&#34;,&#34;slug&#34;:&#34;Q617Y3Kh2&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/Q617Y3Kh2/&#34;},{&#34;name&#34;:&#34;rook-ceph&#34;,&#34;slug&#34;:&#34;hu0mNDfuy&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/hu0mNDfuy/&#34;},{&#34;name&#34;:&#34;ceph&#34;,&#34;slug&#34;:&#34;MkN4-Vurh-&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;http://lvelvis.github.io/tag/MkN4-Vurh-/&#34;}],&#34;date&#34;:&#34;2019-12-12 00:00:00&#34;,&#34;dateFormat&#34;:&#34;2019-12-12&#34;,&#34;feature&#34;:&#34;http://lvelvis.github.io/post-images/kubernetesÊê≠Âª∫rook-ceph.png&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/kubernetesÊê≠Âª∫rook-ceph/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;13 min read&#34;,&#34;time&#34;:779000,&#34;words&#34;:2524,&#34;minutes&#34;:13},&#34;description&#34;:&#34;ÁÆÄ‰ªã\nRookÂÆòÁΩëÔºöhttps://rook.io\nRookÊòØ‰∫ëÂéüÁîüËÆ°ÁÆóÂü∫Èáë‰ºö(CNCF)ÁöÑÂ≠µÂåñÁ∫ßÈ°πÁõÆ.\nRookÊòØKubernetesÁöÑÂºÄÊ∫ê‰∫ëÊú¨Âú∞Â≠òÂÇ®ÂçèË∞ÉÂô®Ôºå‰∏∫ÂêÑÁßçÂ≠òÂÇ®Ëß£ÂÜ≥ÊñπÊ°àÊèê‰æõÂπ≥Âè∞ÔºåÊ°ÜÊû∂ÂíåÊîØÊåÅÔºå‰ª•‰æø‰∏é‰∫ëÂéüÁîüÁéØÂ¢ÉÊú¨Âú∞ÈõÜÊàê„ÄÇ\nËá≥‰∫éCEPH...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%AE%80%E4%BB%8B\&#34;&gt;ÁÆÄ‰ªã&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%8E%AF%E5%A2%83\&#34;&gt;ÁéØÂ¢É&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\&#34;&gt;ÂáÜÂ§áÂ∑•‰Ωú&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BC%80%E5%A7%8B%E9%83%A8%E7%BD%B2operator\&#34;&gt;ÂºÄÂßãÈÉ®ÁΩ≤Operator&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%83%A8%E7%BD%B2rook-operator\&#34;&gt;ÈÉ®ÁΩ≤Rook Operator&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%9F%A5%E7%9C%8Boperator%E7%9A%84%E7%8A%B6%E6%80%81\&#34;&gt;Êü•ÁúãOperatorÁöÑÁä∂ÊÄÅ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%BB%99%E8%8A%82%E7%82%B9%E6%89%93%E6%A0%87%E7%AD%BE\&#34;&gt;ÁªôËäÇÁÇπÊâìÊ†áÁ≠æ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%85%8D%E7%BD%AEclusteryaml%E6%96%87%E4%BB%B6\&#34;&gt;ÈÖçÁΩÆcluster.yamlÊñá‰ª∂&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BC%80%E5%A7%8B%E9%83%A8%E7%BD%B2ceph\&#34;&gt;ÂºÄÂßãÈÉ®ÁΩ≤ceph&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%85%8D%E7%BD%AEceph-dashboard\&#34;&gt;ÈÖçÁΩÆceph dashboard&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%85%8D%E7%BD%AEceph%E4%B8%BAstorageclass\&#34;&gt;ÈÖçÁΩÆceph‰∏∫storageclass&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%9B%E5%BB%BAstorageclass\&#34;&gt;ÂàõÂª∫StorageClass&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B7%BB%E5%8A%A0%E6%96%B0%E8%8A%82%E7%82%B9%E8%BF%9B%E5%85%A5%E9%9B%86%E7%BE%A4\&#34;&gt;Ê∑ªÂä†Êñ∞ËäÇÁÇπËøõÂÖ•ÈõÜÁæ§&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9\&#34;&gt;Âà†Èô§‰∏Ä‰∏™ËäÇÁÇπ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;blockquote&gt;\n&lt;p&gt;Ê¨¢ËøéÊù•Âà∞ÊàëÁöÑÂ∞èÁ´ôÂëÄÔºåÂæàÈ´òÂÖ¥ÈÅáËßÅ‰Ω†ÔºÅü§ù&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2 id=\&#34;ÂÖ≥‰∫éÊú¨Á´ô\&#34;&gt;üè† ÂÖ≥‰∫éÊú¨Á´ô&lt;/h2&gt;\n&lt;p&gt;ËÆ∞ÂΩïÂπ≥Êó∂ËøêÁª¥Áõ∏ÂÖ≥ÁöÑÊäÄÊúØ:&lt;br&gt;\n1.ÁΩëÁªú&lt;br&gt;\n2.Á≥ªÁªü&lt;br&gt;\n3.ËôöÊãüÂåñ&lt;br&gt;\n4.Êï∞ÊçÆÂ∫ì&lt;br&gt;\n5.‰∏≠Èó¥‰ª∂&lt;br&gt;\n...&lt;/p&gt;\n&lt;h2 id=\&#34;Âçö‰∏ªÊòØË∞Å\&#34;&gt;üë®‚Äçüíª Âçö‰∏ªÊòØË∞Å&lt;/h2&gt;\n&lt;p&gt;ÁõÆÂâçÂú®ËÅå‰∫éÂ∑®‰∫∫ÁΩëÁªú&lt;/p&gt;\n&lt;h2 id=\&#34;ÂÖ¥Ë∂£Áà±Â•Ω\&#34;&gt;‚õπ ÂÖ¥Ë∂£Áà±Â•Ω&lt;/h2&gt;\n&lt;p&gt;Áï™Ââß FPSÂ∞ÑÂáªÊ∏∏Êàè dota&lt;/p&gt;\n&lt;h2 id=\&#34;ËÅîÁ≥ªÊàëÂëÄ\&#34;&gt;üì¨ ËÅîÁ≥ªÊàëÂëÄ&lt;/h2&gt;\n&#34;,&#34;fileName&#34;:&#34;about&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;ÂÖ≥‰∫é&#34;,&#34;tags&#34;:[],&#34;date&#34;:&#34;2019-01-25 19:09:48&#34;,&#34;dateFormat&#34;:&#34;2019-01-25&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;http://lvelvis.github.io/post/about/&#34;,&#34;hideInList&#34;:true,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:16000,&#34;words&#34;:77,&#34;minutes&#34;:1},&#34;description&#34;:&#34;\nÊ¨¢ËøéÊù•Âà∞ÊàëÁöÑÂ∞èÁ´ôÂëÄÔºåÂæàÈ´òÂÖ¥ÈÅáËßÅ‰Ω†ÔºÅü§ù\n\nüè† ÂÖ≥‰∫éÊú¨Á´ô\nËÆ∞ÂΩïÂπ≥Êó∂ËøêÁª¥Áõ∏ÂÖ≥ÁöÑÊäÄÊúØ:\n1.ÁΩëÁªú\n2.Á≥ªÁªü\n3.ËôöÊãüÂåñ\n4.Êï∞ÊçÆÂ∫ì\n5.‰∏≠Èó¥‰ª∂\n...\nüë®‚Äçüíª Âçö‰∏ªÊòØË∞Å\nÁõÆÂâçÂú®ËÅå‰∫éÂ∑®‰∫∫ÁΩëÁªú\n‚õπ ÂÖ¥Ë∂£Áà±Â•Ω\nÁï™Ââß FPSÂ∞ÑÂáªÊ∏∏Êàè dota\n\ud83d...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99\&#34;&gt;üè† ÂÖ≥‰∫éÊú¨Á´ô&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8D%9A%E4%B8%BB%E6%98%AF%E8%B0%81\&#34;&gt;üë®‚Äçüíª Âçö‰∏ªÊòØË∞Å&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD\&#34;&gt;‚õπ ÂÖ¥Ë∂£Áà±Â•Ω&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%81%94%E7%B3%BB%E6%88%91%E5%91%80\&#34;&gt;üì¨ ËÅîÁ≥ªÊàëÂëÄ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;}]";
  // var json = escape.substr(1, escape.length - 2);
  // var datas = json.split(',');
  // for (let i=0; i < datas.length; i++) {
  //   let item = datas[i];
  //   let attrs = item.split('34;:&#34')
  //   debugger
  //   console.log(datas[i])
  // }
  let escapeMap = new Map();
  escapeMap.set('&#34;', '"');
  escapeMap.set('&gt;', '>');
  escapeMap.set('&#39;', "'");
  escapeMap.set('&lt;', '<');
  escapeMap.set('&quot;', '"');
  escapeMap.set('&amp;', '&');
</script> -->

<script src="/media/js/mouse/peace.js"></script>


<script src=" /media/js/cool.js"></script>


</html>